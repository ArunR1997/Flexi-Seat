(self.webpackChunkFlexiSeatBookingApp=self.webpackChunkFlexiSeatBookingApp||[]).push([[792],{389:gs=>{window,gs.exports=function(L){var q={};function E(k){if(q[k])return q[k].exports;var F=q[k]={i:k,l:!1,exports:{}};return L[k].call(F.exports,F,F.exports,E),F.l=!0,F.exports}return E.m=L,E.c=q,E.d=function(k,F,j){E.o(k,F)||Object.defineProperty(k,F,{enumerable:!0,get:j})},E.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},E.t=function(k,F){if(1&F&&(k=E(k)),8&F||4&F&&"object"==typeof k&&k&&k.__esModule)return k;var j=Object.create(null);if(E.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:k}),2&F&&"string"!=typeof k)for(var U in k)E.d(j,U,function(te){return k[te]}.bind(null,U));return j},E.n=function(k){var F=k&&k.__esModule?function(){return k.default}:function(){return k};return E.d(F,"a",F),F},E.o=function(k,F){return Object.prototype.hasOwnProperty.call(k,F)},E.p="/",E(E.s=73)}([function(L,q,E){var k=E(61);L.exports=function(F,j,U){return(j=k(j))in F?Object.defineProperty(F,j,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[j]=U,F},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){function E(k){return L.exports=E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},L.exports.__esModule=!0,L.exports.default=L.exports,E(k)}L.exports=E,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(61);function F(j,U){for(var te=0;te<U.length;te++){var de=U[te];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(j,k(de.key),de)}}L.exports=function(j,U,te){return U&&F(j.prototype,U),te&&F(j,te),Object.defineProperty(j,"prototype",{writable:!1}),j},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){"use strict";E.d(q,"a",function(){return k}),E.d(q,"b",function(){return F}),E.d(q,"c",function(){return j}),E.d(q,"d",function(){return U});var k={};E.r(k),E.d(k,"EPSILON",function(){return te}),E.d(k,"ARRAY_TYPE",function(){return de}),E.d(k,"RANDOM",function(){return Ee}),E.d(k,"setMatrixArrayType",function(){return ue}),E.d(k,"toRadian",function(){return Fe}),E.d(k,"equals",function(){return ft});var F={};E.r(F),E.d(F,"create",function(){return lt}),E.d(F,"clone",function(){return bt}),E.d(F,"copy",function(){return It}),E.d(F,"identity",function(){return Xe}),E.d(F,"fromValues",function(){return Se}),E.d(F,"set",function(){return be}),E.d(F,"transpose",function(){return xe}),E.d(F,"invert",function(){return Ce}),E.d(F,"adjoint",function(){return ye}),E.d(F,"determinant",function(){return we}),E.d(F,"multiply",function(){return De}),E.d(F,"rotate",function(){return Le}),E.d(F,"scale",function(){return Je}),E.d(F,"fromRotation",function(){return ge}),E.d(F,"fromScaling",function(){return qe}),E.d(F,"str",function(){return ut}),E.d(F,"frob",function(){return _e}),E.d(F,"LDU",function(){return rt}),E.d(F,"add",function(){return it}),E.d(F,"subtract",function(){return xt}),E.d(F,"exactEquals",function(){return st}),E.d(F,"equals",function(){return $t}),E.d(F,"multiplyScalar",function(){return $e}),E.d(F,"multiplyScalarAndAdd",function(){return He}),E.d(F,"mul",function(){return ot}),E.d(F,"sub",function(){return Ye});var j={};E.r(j),E.d(j,"create",function(){return Rt}),E.d(j,"clone",function(){return gt}),E.d(j,"fromValues",function(){return Wt}),E.d(j,"copy",function(){return Pt}),E.d(j,"set",function(){return Nn}),E.d(j,"add",function(){return Gt}),E.d(j,"subtract",function(){return Pn}),E.d(j,"multiply",function(){return Wr}),E.d(j,"divide",function(){return pn}),E.d(j,"ceil",function(){return Wo}),E.d(j,"floor",function(){return Vi}),E.d(j,"min",function(){return lo}),E.d(j,"max",function(){return Gr}),E.d(j,"round",function(){return ia}),E.d(j,"scale",function(){return yn}),E.d(j,"scaleAndAdd",function(){return Ns}),E.d(j,"distance",function(){return kt}),E.d(j,"squaredDistance",function(){return uo}),E.d(j,"length",function(){return So}),E.d(j,"squaredLength",function(){return Zr}),E.d(j,"negate",function(){return Go}),E.d(j,"inverse",function(){return qr}),E.d(j,"normalize",function(){return Ps}),E.d(j,"dot",function(){return Xi}),E.d(j,"cross",function(){return _r}),E.d(j,"lerp",function(){return oa}),E.d(j,"random",function(){return yi}),E.d(j,"transformMat2",function(){return ks}),E.d(j,"transformMat2d",function(){return lr}),E.d(j,"transformMat3",function(){return yt}),E.d(j,"transformMat4",function(){return Fs}),E.d(j,"rotate",function(){return _n}),E.d(j,"angle",function(){return Mn}),E.d(j,"zero",function(){return $i}),E.d(j,"str",function(){return sa}),E.d(j,"exactEquals",function(){return aa}),E.d(j,"equals",function(){return En}),E.d(j,"len",function(){return Io}),E.d(j,"sub",function(){return Ia}),E.d(j,"mul",function(){return Ir}),E.d(j,"div",function(){return Ls}),E.d(j,"dist",function(){return Xo}),E.d(j,"sqrDist",function(){return Yi}),E.d(j,"sqrLen",function(){return ms}),E.d(j,"forEach",function(){return _i});var U={};E.r(U),E.d(U,"create",function(){return ri}),E.d(U,"clone",function(){return Di}),E.d(U,"length",function(){return vs}),E.d(U,"fromValues",function(){return xi}),E.d(U,"copy",function(){return Zi}),E.d(U,"set",function(){return Mi}),E.d(U,"add",function(){return At}),E.d(U,"subtract",function(){return Hn}),E.d(U,"multiply",function(){return Bs}),E.d(U,"divide",function(){return bi}),E.d(U,"ceil",function(){return tc}),E.d(U,"floor",function(){return nc}),E.d(U,"min",function(){return Kr}),E.d(U,"max",function(){return Vs}),E.d(U,"round",function(){return Da}),E.d(U,"scale",function(){return qi}),E.d(U,"scaleAndAdd",function(){return rc}),E.d(U,"distance",function(){return Cr}),E.d(U,"squaredDistance",function(){return ii}),E.d(U,"squaredLength",function(){return Qr}),E.d(U,"negate",function(){return Do}),E.d(U,"inverse",function(){return $o}),E.d(U,"normalize",function(){return nt}),E.d(U,"dot",function(){return Mo}),E.d(U,"cross",function(){return Tn}),E.d(U,"lerp",function(){return oi}),E.d(U,"hermite",function(){return Ma}),E.d(U,"bezier",function(){return In}),E.d(U,"random",function(){return on}),E.d(U,"transformMat4",function(){return an}),E.d(U,"transformMat3",function(){return Us}),E.d(U,"transformQuat",function(){return js}),E.d(U,"rotateX",function(){return ca}),E.d(U,"rotateY",function(){return ar}),E.d(U,"rotateZ",function(){return Ki}),E.d(U,"angle",function(){return ic}),E.d(U,"zero",function(){return un}),E.d(U,"str",function(){return ys}),E.d(U,"exactEquals",function(){return si}),E.d(U,"equals",function(){return Yt}),E.d(U,"sub",function(){return kn}),E.d(U,"mul",function(){return ur}),E.d(U,"div",function(){return Me}),E.d(U,"dist",function(){return Q}),E.d(U,"sqrDist",function(){return Ht}),E.d(U,"len",function(){return Qt}),E.d(U,"sqrLen",function(){return Jr}),E.d(U,"forEach",function(){return xr});var te=1e-6,de=typeof Float32Array<"u"?Float32Array:Array,Ee=Math.random;function ue(R){de=R}var tt=Math.PI/180;function Fe(R){return R*tt}function ft(R,W){return Math.abs(R-W)<=te*Math.max(1,Math.abs(R),Math.abs(W))}function lt(){var R=new de(4);return de!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R}function bt(R){var W=new de(4);return W[0]=R[0],W[1]=R[1],W[2]=R[2],W[3]=R[3],W}function It(R,W){return R[0]=W[0],R[1]=W[1],R[2]=W[2],R[3]=W[3],R}function Xe(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=1,R}function Se(R,W,X,ve){var ze=new de(4);return ze[0]=R,ze[1]=W,ze[2]=X,ze[3]=ve,ze}function be(R,W,X,ve,ze){return R[0]=W,R[1]=X,R[2]=ve,R[3]=ze,R}function xe(R,W){if(R===W){var X=W[1];R[1]=W[2],R[2]=X}else R[0]=W[0],R[1]=W[2],R[2]=W[1],R[3]=W[3];return R}function Ce(R,W){var X=W[0],ve=W[1],ze=W[2],at=W[3],St=X*at-ze*ve;return St?(R[0]=at*(St=1/St),R[1]=-ve*St,R[2]=-ze*St,R[3]=X*St,R):null}function ye(R,W){var X=W[0];return R[0]=W[3],R[1]=-W[1],R[2]=-W[2],R[3]=X,R}function we(R){return R[0]*R[3]-R[2]*R[1]}function De(R,W,X){var ve=W[0],ze=W[1],at=W[2],St=W[3],Xt=X[0],Te=X[1],Zn=X[2],Bt=X[3];return R[0]=ve*Xt+at*Te,R[1]=ze*Xt+St*Te,R[2]=ve*Zn+at*Bt,R[3]=ze*Zn+St*Bt,R}function Le(R,W,X){var ve=W[0],ze=W[1],at=W[2],St=W[3],Xt=Math.sin(X),Te=Math.cos(X);return R[0]=ve*Te+at*Xt,R[1]=ze*Te+St*Xt,R[2]=ve*-Xt+at*Te,R[3]=ze*-Xt+St*Te,R}function Je(R,W,X){var ze=W[1],at=W[2],St=W[3],Xt=X[0],Te=X[1];return R[0]=W[0]*Xt,R[1]=ze*Xt,R[2]=at*Te,R[3]=St*Te,R}function ge(R,W){var X=Math.sin(W),ve=Math.cos(W);return R[0]=ve,R[1]=X,R[2]=-X,R[3]=ve,R}function qe(R,W){return R[0]=W[0],R[1]=0,R[2]=0,R[3]=W[1],R}function ut(R){return"mat2("+R[0]+", "+R[1]+", "+R[2]+", "+R[3]+")"}function _e(R){return Math.hypot(R[0],R[1],R[2],R[3])}function rt(R,W,X,ve){return R[2]=ve[2]/ve[0],X[0]=ve[0],X[1]=ve[1],X[3]=ve[3]-R[2]*X[1],[R,W,X]}function it(R,W,X){return R[0]=W[0]+X[0],R[1]=W[1]+X[1],R[2]=W[2]+X[2],R[3]=W[3]+X[3],R}function xt(R,W,X){return R[0]=W[0]-X[0],R[1]=W[1]-X[1],R[2]=W[2]-X[2],R[3]=W[3]-X[3],R}function st(R,W){return R[0]===W[0]&&R[1]===W[1]&&R[2]===W[2]&&R[3]===W[3]}function $t(R,W){var X=R[0],ve=R[1],ze=R[2],at=R[3],St=W[0],Xt=W[1],Te=W[2],Zn=W[3];return Math.abs(X-St)<=te*Math.max(1,Math.abs(X),Math.abs(St))&&Math.abs(ve-Xt)<=te*Math.max(1,Math.abs(ve),Math.abs(Xt))&&Math.abs(ze-Te)<=te*Math.max(1,Math.abs(ze),Math.abs(Te))&&Math.abs(at-Zn)<=te*Math.max(1,Math.abs(at),Math.abs(Zn))}function $e(R,W,X){return R[0]=W[0]*X,R[1]=W[1]*X,R[2]=W[2]*X,R[3]=W[3]*X,R}function He(R,W,X,ve){return R[0]=W[0]+X[0]*ve,R[1]=W[1]+X[1]*ve,R[2]=W[2]+X[2]*ve,R[3]=W[3]+X[3]*ve,R}Math.hypot||(Math.hypot=function(){for(var R=0,W=arguments.length;W--;)R+=arguments[W]*arguments[W];return Math.sqrt(R)});var ot=De,Ye=xt;function Rt(){var R=new de(2);return de!=Float32Array&&(R[0]=0,R[1]=0),R}function gt(R){var W=new de(2);return W[0]=R[0],W[1]=R[1],W}function Wt(R,W){var X=new de(2);return X[0]=R,X[1]=W,X}function Pt(R,W){return R[0]=W[0],R[1]=W[1],R}function Nn(R,W,X){return R[0]=W,R[1]=X,R}function Gt(R,W,X){return R[0]=W[0]+X[0],R[1]=W[1]+X[1],R}function Pn(R,W,X){return R[0]=W[0]-X[0],R[1]=W[1]-X[1],R}function Wr(R,W,X){return R[0]=W[0]*X[0],R[1]=W[1]*X[1],R}function pn(R,W,X){return R[0]=W[0]/X[0],R[1]=W[1]/X[1],R}function Wo(R,W){return R[0]=Math.ceil(W[0]),R[1]=Math.ceil(W[1]),R}function Vi(R,W){return R[0]=Math.floor(W[0]),R[1]=Math.floor(W[1]),R}function lo(R,W,X){return R[0]=Math.min(W[0],X[0]),R[1]=Math.min(W[1],X[1]),R}function Gr(R,W,X){return R[0]=Math.max(W[0],X[0]),R[1]=Math.max(W[1],X[1]),R}function ia(R,W){return R[0]=Math.round(W[0]),R[1]=Math.round(W[1]),R}function yn(R,W,X){return R[0]=W[0]*X,R[1]=W[1]*X,R}function Ns(R,W,X,ve){return R[0]=W[0]+X[0]*ve,R[1]=W[1]+X[1]*ve,R}function kt(R,W){return Math.hypot(W[0]-R[0],W[1]-R[1])}function uo(R,W){var X=W[0]-R[0],ve=W[1]-R[1];return X*X+ve*ve}function So(R){return Math.hypot(R[0],R[1])}function Zr(R){var W=R[0],X=R[1];return W*W+X*X}function Go(R,W){return R[0]=-W[0],R[1]=-W[1],R}function qr(R,W){return R[0]=1/W[0],R[1]=1/W[1],R}function Ps(R,W){var X=W[0],ve=W[1],ze=X*X+ve*ve;return ze>0&&(ze=1/Math.sqrt(ze)),R[0]=W[0]*ze,R[1]=W[1]*ze,R}function Xi(R,W){return R[0]*W[0]+R[1]*W[1]}function _r(R,W,X){var ve=W[0]*X[1]-W[1]*X[0];return R[0]=R[1]=0,R[2]=ve,R}function oa(R,W,X,ve){var ze=W[0],at=W[1];return R[0]=ze+ve*(X[0]-ze),R[1]=at+ve*(X[1]-at),R}function yi(R,W){W=W||1;var X=2*Ee()*Math.PI;return R[0]=Math.cos(X)*W,R[1]=Math.sin(X)*W,R}function ks(R,W,X){var ve=W[0],ze=W[1];return R[0]=X[0]*ve+X[2]*ze,R[1]=X[1]*ve+X[3]*ze,R}function lr(R,W,X){var ve=W[0],ze=W[1];return R[0]=X[0]*ve+X[2]*ze+X[4],R[1]=X[1]*ve+X[3]*ze+X[5],R}function yt(R,W,X){var ve=W[0],ze=W[1];return R[0]=X[0]*ve+X[3]*ze+X[6],R[1]=X[1]*ve+X[4]*ze+X[7],R}function Fs(R,W,X){var ve=W[0],ze=W[1];return R[0]=X[0]*ve+X[4]*ze+X[12],R[1]=X[1]*ve+X[5]*ze+X[13],R}function _n(R,W,X,ve){var ze=W[0]-X[0],at=W[1]-X[1],St=Math.sin(ve),Xt=Math.cos(ve);return R[0]=ze*Xt-at*St+X[0],R[1]=ze*St+at*Xt+X[1],R}function Mn(R,W){var X=R[0],ve=R[1],ze=W[0],at=W[1],St=Math.sqrt(X*X+ve*ve)*Math.sqrt(ze*ze+at*at);return Math.acos(Math.min(Math.max(St&&(X*ze+ve*at)/St,-1),1))}function $i(R){return R[0]=0,R[1]=0,R}function sa(R){return"vec2("+R[0]+", "+R[1]+")"}function aa(R,W){return R[0]===W[0]&&R[1]===W[1]}function En(R,W){var X=R[0],ve=R[1],ze=W[0],at=W[1];return Math.abs(X-ze)<=te*Math.max(1,Math.abs(X),Math.abs(ze))&&Math.abs(ve-at)<=te*Math.max(1,Math.abs(ve),Math.abs(at))}var Ii,Io=So,Ia=Pn,Ir=Wr,Ls=pn,Xo=kt,Yi=uo,ms=Zr,_i=(Ii=Rt(),function(R,W,X,ve,ze,at){var St,Xt;for(W||(W=2),X||(X=0),Xt=ve?Math.min(ve*W+X,R.length):R.length,St=X;St<Xt;St+=W)Ii[0]=R[St],Ii[1]=R[St+1],ze(Ii,Ii,at),R[St]=Ii[0],R[St+1]=Ii[1];return R});function ri(){var R=new de(3);return de!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R}function Di(R){var W=new de(3);return W[0]=R[0],W[1]=R[1],W[2]=R[2],W}function vs(R){return Math.hypot(R[0],R[1],R[2])}function xi(R,W,X){var ve=new de(3);return ve[0]=R,ve[1]=W,ve[2]=X,ve}function Zi(R,W){return R[0]=W[0],R[1]=W[1],R[2]=W[2],R}function Mi(R,W,X,ve){return R[0]=W,R[1]=X,R[2]=ve,R}function At(R,W,X){return R[0]=W[0]+X[0],R[1]=W[1]+X[1],R[2]=W[2]+X[2],R}function Hn(R,W,X){return R[0]=W[0]-X[0],R[1]=W[1]-X[1],R[2]=W[2]-X[2],R}function Bs(R,W,X){return R[0]=W[0]*X[0],R[1]=W[1]*X[1],R[2]=W[2]*X[2],R}function bi(R,W,X){return R[0]=W[0]/X[0],R[1]=W[1]/X[1],R[2]=W[2]/X[2],R}function tc(R,W){return R[0]=Math.ceil(W[0]),R[1]=Math.ceil(W[1]),R[2]=Math.ceil(W[2]),R}function nc(R,W){return R[0]=Math.floor(W[0]),R[1]=Math.floor(W[1]),R[2]=Math.floor(W[2]),R}function Kr(R,W,X){return R[0]=Math.min(W[0],X[0]),R[1]=Math.min(W[1],X[1]),R[2]=Math.min(W[2],X[2]),R}function Vs(R,W,X){return R[0]=Math.max(W[0],X[0]),R[1]=Math.max(W[1],X[1]),R[2]=Math.max(W[2],X[2]),R}function Da(R,W){return R[0]=Math.round(W[0]),R[1]=Math.round(W[1]),R[2]=Math.round(W[2]),R}function qi(R,W,X){return R[0]=W[0]*X,R[1]=W[1]*X,R[2]=W[2]*X,R}function rc(R,W,X,ve){return R[0]=W[0]+X[0]*ve,R[1]=W[1]+X[1]*ve,R[2]=W[2]+X[2]*ve,R}function Cr(R,W){return Math.hypot(W[0]-R[0],W[1]-R[1],W[2]-R[2])}function ii(R,W){var X=W[0]-R[0],ve=W[1]-R[1],ze=W[2]-R[2];return X*X+ve*ve+ze*ze}function Qr(R){var W=R[0],X=R[1],ve=R[2];return W*W+X*X+ve*ve}function Do(R,W){return R[0]=-W[0],R[1]=-W[1],R[2]=-W[2],R}function $o(R,W){return R[0]=1/W[0],R[1]=1/W[1],R[2]=1/W[2],R}function nt(R,W){var X=W[0],ve=W[1],ze=W[2],at=X*X+ve*ve+ze*ze;return at>0&&(at=1/Math.sqrt(at)),R[0]=W[0]*at,R[1]=W[1]*at,R[2]=W[2]*at,R}function Mo(R,W){return R[0]*W[0]+R[1]*W[1]+R[2]*W[2]}function Tn(R,W,X){var ve=W[0],ze=W[1],at=W[2],St=X[0],Xt=X[1],Te=X[2];return R[0]=ze*Te-at*Xt,R[1]=at*St-ve*Te,R[2]=ve*Xt-ze*St,R}function oi(R,W,X,ve){var ze=W[0],at=W[1],St=W[2];return R[0]=ze+ve*(X[0]-ze),R[1]=at+ve*(X[1]-at),R[2]=St+ve*(X[2]-St),R}function Ma(R,W,X,ve,ze,at){var St=at*at,Xt=St*(2*at-3)+1,Te=St*(at-2)+at,Zn=St*(at-1),Bt=St*(3-2*at);return R[0]=W[0]*Xt+X[0]*Te+ve[0]*Zn+ze[0]*Bt,R[1]=W[1]*Xt+X[1]*Te+ve[1]*Zn+ze[1]*Bt,R[2]=W[2]*Xt+X[2]*Te+ve[2]*Zn+ze[2]*Bt,R}function In(R,W,X,ve,ze,at){var St=1-at,Xt=St*St,Te=at*at,Zn=Xt*St,Bt=3*at*Xt,nn=3*Te*St,Dr=Te*at;return R[0]=W[0]*Zn+X[0]*Bt+ve[0]*nn+ze[0]*Dr,R[1]=W[1]*Zn+X[1]*Bt+ve[1]*nn+ze[1]*Dr,R[2]=W[2]*Zn+X[2]*Bt+ve[2]*nn+ze[2]*Dr,R}function on(R,W){W=W||1;var X=2*Ee()*Math.PI,ve=2*Ee()-1,ze=Math.sqrt(1-ve*ve)*W;return R[0]=Math.cos(X)*ze,R[1]=Math.sin(X)*ze,R[2]=ve*W,R}function an(R,W,X){var ve=W[0],ze=W[1],at=W[2],St=X[3]*ve+X[7]*ze+X[11]*at+X[15];return R[0]=(X[0]*ve+X[4]*ze+X[8]*at+X[12])/(St=St||1),R[1]=(X[1]*ve+X[5]*ze+X[9]*at+X[13])/St,R[2]=(X[2]*ve+X[6]*ze+X[10]*at+X[14])/St,R}function Us(R,W,X){var ve=W[0],ze=W[1],at=W[2];return R[0]=ve*X[0]+ze*X[3]+at*X[6],R[1]=ve*X[1]+ze*X[4]+at*X[7],R[2]=ve*X[2]+ze*X[5]+at*X[8],R}function js(R,W,X){var ve=X[0],ze=X[1],at=X[2],Xt=W[0],Te=W[1],Zn=W[2],Bt=ze*Zn-at*Te,nn=at*Xt-ve*Zn,Dr=ve*Te-ze*Xt,Zt=ze*Dr-at*nn,_s=at*Bt-ve*Dr,en=ve*nn-ze*Bt,Y=2*X[3];return nn*=Y,Dr*=Y,_s*=2,en*=2,R[0]=Xt+(Bt*=Y)+(Zt*=2),R[1]=Te+nn+_s,R[2]=Zn+Dr+en,R}function ca(R,W,X,ve){var ze=[],at=[];return ze[0]=W[0]-X[0],ze[1]=W[1]-X[1],ze[2]=W[2]-X[2],at[0]=ze[0],at[1]=ze[1]*Math.cos(ve)-ze[2]*Math.sin(ve),at[2]=ze[1]*Math.sin(ve)+ze[2]*Math.cos(ve),R[0]=at[0]+X[0],R[1]=at[1]+X[1],R[2]=at[2]+X[2],R}function ar(R,W,X,ve){var ze=[],at=[];return ze[0]=W[0]-X[0],ze[1]=W[1]-X[1],ze[2]=W[2]-X[2],at[0]=ze[2]*Math.sin(ve)+ze[0]*Math.cos(ve),at[1]=ze[1],at[2]=ze[2]*Math.cos(ve)-ze[0]*Math.sin(ve),R[0]=at[0]+X[0],R[1]=at[1]+X[1],R[2]=at[2]+X[2],R}function Ki(R,W,X,ve){var ze=[],at=[];return ze[0]=W[0]-X[0],ze[1]=W[1]-X[1],ze[2]=W[2]-X[2],at[0]=ze[0]*Math.cos(ve)-ze[1]*Math.sin(ve),at[1]=ze[0]*Math.sin(ve)+ze[1]*Math.cos(ve),at[2]=ze[2],R[0]=at[0]+X[0],R[1]=at[1]+X[1],R[2]=at[2]+X[2],R}function ic(R,W){var X=R[0],ve=R[1],ze=R[2],at=W[0],St=W[1],Xt=W[2],Te=Math.sqrt(X*X+ve*ve+ze*ze)*Math.sqrt(at*at+St*St+Xt*Xt),Zn=Te&&Mo(R,W)/Te;return Math.acos(Math.min(Math.max(Zn,-1),1))}function un(R){return R[0]=0,R[1]=0,R[2]=0,R}function ys(R){return"vec3("+R[0]+", "+R[1]+", "+R[2]+")"}function si(R,W){return R[0]===W[0]&&R[1]===W[1]&&R[2]===W[2]}function Yt(R,W){var X=R[0],ve=R[1],ze=R[2],at=W[0],St=W[1],Xt=W[2];return Math.abs(X-at)<=te*Math.max(1,Math.abs(X),Math.abs(at))&&Math.abs(ve-St)<=te*Math.max(1,Math.abs(ve),Math.abs(St))&&Math.abs(ze-Xt)<=te*Math.max(1,Math.abs(ze),Math.abs(Xt))}var R,kn=Hn,ur=Bs,Me=bi,Q=Cr,Ht=ii,Qt=vs,Jr=Qr,xr=(R=ri(),function(W,X,ve,ze,at,St){var Xt,Te;for(X||(X=3),ve||(ve=0),Te=ze?Math.min(ze*X+ve,W.length):W.length,Xt=ve;Xt<Te;Xt+=X)R[0]=W[Xt],R[1]=W[Xt+1],R[2]=W[Xt+2],at(R,R,St),W[Xt]=R[0],W[Xt+1]=R[1],W[Xt+2]=R[2];return W})},function(L,q,E){var k=E(13).default,F=E(1);L.exports=function(j,U){if(U&&("object"===k(U)||"function"==typeof U))return U;if(void 0!==U)throw new TypeError("Derived constructors may only return object or undefined");return F(j)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(40);L.exports=function(F,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(j&&j.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),j&&k(F,j)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(141)();L.exports=k;try{regeneratorRuntime=k}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=k:Function("r","regeneratorRuntime = r")(k)}},function(L,q,E){"use strict";q.a={init:function(k,F){k.fill(F)},shuffle:function(k){for(var F=k.length-1;F>0;F--){var j=Math.floor(Math.random()*(F+1)),U=[k[j],k[F]];k[F]=U[0],k[j]=U[1]}return k},toPointList:function(k){var F=k.reduce(function(j,U){var te="[".concat(U.join(","),"]");return j.push(te),j},[]);return"[".concat(F.join(",\r\n"),"]")},threshold:function(k,F,j){return k.reduce(function(U,te){return j.apply(k,[te])>=F&&U.push(te),U},[])},maxIndex:function(k){for(var F=0,j=0;j<k.length;j++)k[j]>k[F]&&(F=j);return F},max:function(k){for(var F=0,j=0;j<k.length;j++)k[j]>F&&(F=k[j]);return F},sum:function(k){for(var F=k.length,j=0;F--;)j+=k[F];return j}}},function(L,q,E){"use strict";E.d(q,"h",function(){return te}),E.d(q,"i",function(){return Ee}),E.d(q,"b",function(){return ue}),E.d(q,"j",function(){return tt}),E.d(q,"e",function(){return Fe}),E.d(q,"c",function(){return ft}),E.d(q,"f",function(){return lt}),E.d(q,"g",function(){return bt}),E.d(q,"a",function(){return Xe}),E.d(q,"d",function(){return be});var k=E(5),F=E(9);k.a.setMatrixArrayType(Array);var j=function(xe,Ce){var ye=[],we={rad:0,vec:k.c.clone([0,0])},De={};function Le(ge){De[ge.id]=ge,ye.push(ge)}function Je(){var ge,qe=0;for(ge=0;ge<ye.length;ge++)qe+=ye[ge].rad;we.rad=qe/ye.length,we.vec=k.c.clone([Math.cos(we.rad),Math.sin(we.rad)])}return Le(xe),Je(),{add:function(ge){De[ge.id]||(Le(ge),Je())},fits:function(ge){return Math.abs(k.c.dot(ge.point.vec,we.vec))>Ce},getPoints:function(){return ye},getCenter:function(){return we}}},U=function(xe,Ce,ye){return{rad:xe[ye],point:xe,id:Ce}};function te(xe,Ce){return{x:xe,y:Ce,toVec2:function(){return k.c.clone([this.x,this.y])},toVec3:function(){return k.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function Ee(xe,Ce){var ye=function(we){var De,Le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,Je=8-Le;function ge(rt,it){for(var xt=0,st=rt;st<=it;st++)xt+=De[st];return xt}function qe(rt,it){for(var xt=0,st=rt;st<=it;st++)xt+=st*De[st];return xt}return function ut(){var rt,it,xt,st,$t=[0],$e=(1<<Le)-1;De=function de(xe,Ce){Ce||(Ce=8);for(var ye=xe.data,we=ye.length,De=8-Ce,Le=new Int32Array(1<<Ce);we--;)Le[ye[we]>>De]++;return Le}(we,Le);for(var He=1;He<$e;He++)0==(xt=(rt=ge(0,He))*(it=ge(He+1,$e)))&&(xt=1),st=qe(0,He)*it-qe(He+1,$e)*rt,$t[He]=st*st/xt;return F.a.maxIndex($t)}()<<Je}(xe);return function(we,De,Le){Le||(Le=we);for(var Je=we.data,ge=Je.length,qe=Le.data;ge--;)qe[ge]=Je[ge]<De?1:0}(xe,ye,Ce),ye}function ue(xe,Ce,ye){var we,De,Le,Je,ge=[];function qe(ut){var _e=!1;for(De=0;De<ge.length;De++)(Le=ge[De]).fits(ut)&&(Le.add(ut),_e=!0);return _e}for(ye||(ye="rad"),we=0;we<xe.length;we++)qe(Je=U(xe[we],we,ye))||ge.push(j(Je,Ce));return ge}function tt(xe,Ce,ye){var we,De,Le,Je,ge=0,qe=0,ut=[];for(we=0;we<Ce;we++)ut[we]={score:0,item:null};for(we=0;we<xe.length;we++)if((De=ye.apply(this,[xe[we]]))>qe)for((Le=ut[ge]).score=De,Le.item=xe[we],qe=Number.MAX_VALUE,Je=0;Je<Ce;Je++)ut[Je].score<qe&&(qe=ut[Je].score,ge=Je);return ut}function Fe(xe,Ce,ye){for(var we,De=0,Le=Ce.x,Je=Math.floor(xe.length/4),ge=Ce.x/2,qe=0,ut=Ce.x;Le<Je;){for(we=0;we<ge;we++)ye[qe]=(.299*xe[4*De+0]+.587*xe[4*De+1]+.114*xe[4*De+2]+(.299*xe[4*(De+1)+0]+.587*xe[4*(De+1)+1]+.114*xe[4*(De+1)+2])+(.299*xe[4*Le+0]+.587*xe[4*Le+1]+.114*xe[4*Le+2])+(.299*xe[4*(Le+1)+0]+.587*xe[4*(Le+1)+1]+.114*xe[4*(Le+1)+2]))/4,qe++,De+=2,Le+=2;De+=ut,Le+=ut}}function ft(xe,Ce,ye){var we=xe.length/4|0;if(ye&&!0===ye.singleChannel)for(var De=0;De<we;De++)Ce[De]=xe[4*De+0];else for(var Le=0;Le<we;Le++)Ce[Le]=.299*xe[4*Le+0]+.587*xe[4*Le+1]+.114*xe[4*Le+2]}function lt(xe,Ce){for(var ye=xe.data,we=xe.size.x,De=Ce.data,Le=0,Je=we,ge=ye.length,qe=we/2,ut=0;Je<ge;){for(var _e=0;_e<qe;_e++)De[ut]=Math.floor((ye[Le]+ye[Le+1]+ye[Je]+ye[Je+1])/4),ut++,Le+=2,Je+=2;Le+=we,Je+=we}}function bt(xe){var Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],ye=xe[0],De=xe[2],Le=De*xe[1],Je=Le*(1-Math.abs(ye/60%2-1)),ge=De-Le,qe=0,ut=0,_e=0;return ye<60?(qe=Le,ut=Je):ye<120?(qe=Je,ut=Le):ye<180?(ut=Le,_e=Je):ye<240?(ut=Je,_e=Le):ye<300?(qe=Je,_e=Le):ye<360&&(qe=Le,_e=Je),Ce[0]=255*(qe+ge)|0,Ce[1]=255*(ut+ge)|0,Ce[2]=255*(_e+ge)|0,Ce}function It(xe){for(var Ce=[],ye=[],we=1;we<Math.sqrt(xe)+1;we++)xe%we==0&&(ye.push(we),we!==xe/we&&Ce.unshift(Math.floor(xe/we)));return ye.concat(Ce)}function Xe(xe,Ce){var ye,we=It(Ce.x),De=It(Ce.y),Le=Math.max(Ce.x,Ce.y),Je=function(xt,st){for(var $t=0,$e=0,He=[];$t<xt.length&&$e<st.length;)xt[$t]===st[$e]?(He.push(xt[$t]),$t++,$e++):xt[$t]>st[$e]?$e++:$t++;return He}(we,De),ge=[8,10,15,20,32,60,80],qe={"x-small":5,small:4,medium:3,large:2,"x-large":1},ut=qe[xe]||qe.medium,_e=ge[ut],rt=Math.floor(Le/_e);function it(xt){for(var st=0,$t=xt[Math.floor(xt.length/2)];st<xt.length-1&&xt[st]<rt;)st++;return st>0&&($t=Math.abs(xt[st]-rt)>Math.abs(xt[st-1]-rt)?xt[st-1]:xt[st]),rt/$t<ge[ut+1]/ge[ut]&&rt/$t>ge[ut-1]/ge[ut]?{x:$t,y:$t}:null}return(ye=it(Je))||(ye=it(It(Le)))||(ye=it(It(rt*_e))),ye}k.a.setMatrixArrayType(Array);var Se={top:function(xe,Ce){return"%"===xe.unit?Math.floor(Ce.height*(xe.value/100)):null},right:function(xe,Ce){return"%"===xe.unit?Math.floor(Ce.width-Ce.width*(xe.value/100)):null},bottom:function(xe,Ce){return"%"===xe.unit?Math.floor(Ce.height-Ce.height*(xe.value/100)):null},left:function(xe,Ce){return"%"===xe.unit?Math.floor(Ce.width*(xe.value/100)):null}};function be(xe,Ce,ye){var we={width:xe,height:Ce},De=Object.keys(ye).reduce(function(Le,Je){var ut,ge=(ut=ye[Je],{value:parseFloat(ut),unit:(ut.indexOf("%"),"%")}),qe=Se[Je](ge,we);return Le[Je]=qe,Le},{});return{sx:De.left,sy:De.top,sw:De.right-De.left,sh:De.bottom-De.top}}},function(L,q,E){"use strict";var k=E(62),F=E.n(k),j=E(3),U=E.n(j),te=E(4),de=E.n(te),Ee=E(0),ue=E.n(Ee),tt=E(5),Fe=E(9),ft=E(10);function lt(It){if(It<0)throw new Error("expected positive number, received ".concat(It))}tt.a.setMatrixArrayType(Array);var bt=function(){function It(Xe,Se){var be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,xe=arguments.length>3?arguments[3]:void 0;U()(this,It),ue()(this,"data",void 0),ue()(this,"size",void 0),ue()(this,"indexMapping",void 0),Se?this.data=Se:(this.data=new be(Xe.x*Xe.y),xe&&Fe.a.init(this.data,0)),this.size=Xe}return de()(It,[{key:"inImageWithBorder",value:function(Xe){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return lt(Se),Xe.x>=0&&Xe.y>=0&&Xe.x<this.size.x+2*Se&&Xe.y<this.size.y+2*Se}},{key:"subImageAsCopy",value:function(Xe,Se){lt(Se.x),lt(Se.y);for(var be=Xe.size,xe=be.x,Ce=be.y,ye=0;ye<xe;ye++)for(var we=0;we<Ce;we++)Xe.data[we*xe+ye]=this.data[(Se.y+we)*this.size.x+Se.x+ye];return Xe}},{key:"get",value:function(Xe,Se){return this.data[Se*this.size.x+Xe]}},{key:"getSafe",value:function(Xe,Se){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var be=0;be<this.size.x;be++)this.indexMapping.x[be]=be,this.indexMapping.x[be+this.size.x]=be;for(var xe=0;xe<this.size.y;xe++)this.indexMapping.y[xe]=xe,this.indexMapping.y[xe+this.size.y]=xe}return this.data[this.indexMapping.y[Se+this.size.y]*this.size.x+this.indexMapping.x[Xe+this.size.x]]}},{key:"set",value:function(Xe,Se,be){return this.data[Se*this.size.x+Xe]=be,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var Xe=this.size,Se=Xe.x,be=Xe.y,xe=0;xe<Se;xe++)this.data[xe]=this.data[(be-1)*Se+xe]=0;for(var Ce=1;Ce<be-1;Ce++)this.data[Ce*Se]=this.data[Ce*Se+(Se-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(Xe){var Se,be,xe,Ce,ye,we,De,Le,Je,ge,qe=this.data,ut=this.size.y,_e=this.size.x,rt=[],it=[],xt=Math.PI,st=xt/4;if(Xe<=0)return it;for(ye=0;ye<Xe;ye++)rt[ye]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(be=0;be<ut;be++)for(Ce=be*be,Se=0;Se<_e;Se++)(xe=qe[be*_e+Se])>0&&((we=rt[xe-1]).m00+=1,we.m01+=be,we.m10+=Se,we.m11+=Se*be,we.m02+=Ce,we.m20+=Se*Se);for(ye=0;ye<Xe;ye++)we=rt[ye],isNaN(we.m00)||0===we.m00||(ge=(we.m02/we.m00-(Je=we.m01/we.m00)*Je-(we.m20/we.m00-(Le=we.m10/we.m00)*Le))/(2*(De=we.m11/we.m00-Le*Je)),ge=.5*Math.atan(ge)+(De>=0?st:-st)+xt,we.theta=(180*ge/xt+90)%180-90,we.theta<0&&(we.theta+=180),we.rad=ge>xt?ge-xt:ge,we.vec=tt.c.clone([Math.cos(ge),Math.sin(ge)]),it.push(we));return it}},{key:"getAsRGBA",value:function(){for(var Xe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Se=new Uint8ClampedArray(4*this.size.x*this.size.y),be=0;be<this.size.y;be++)for(var xe=0;xe<this.size.x;xe++){var Ce=be*this.size.x+xe,ye=this.get(xe,be)*Xe;Se[4*Ce+0]=ye,Se[4*Ce+1]=ye,Se[4*Ce+2]=ye,Se[4*Ce+3]=255}return Se}},{key:"show",value:function(Xe){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var be=Xe.getContext("2d");if(!be)throw new Error("Unable to get canvas context");var xe=be.getImageData(0,0,Xe.width,Xe.height),Ce=this.getAsRGBA(Se);Xe.width=this.size.x,Xe.height=this.size.y;var ye=new ImageData(Ce,xe.width,xe.height);be.putImageData(ye,0,0)}},{key:"overlay",value:function(Xe,Se,be){var xe=Se<0||Se>360?360:Se,Ce=[0,1,1],ye=[0,0,0],we=[255,255,255],De=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var Le=Xe.getContext("2d");if(!Le)throw new Error("Unable to get canvas context");for(var Je=Le.getImageData(be.x,be.y,this.size.x,this.size.y),ge=Je.data,qe=this.data.length;qe--;){Ce[0]=this.data[qe]*xe;var ut=4*qe,_e=Ce[0]<=0?we:Ce[0]>=360?De:Object(ft.g)(Ce,ye),rt=F()(_e,3);ge[ut]=rt[0],ge[ut+1]=rt[1],ge[ut+2]=rt[2],ge[ut+3]=255}Le.putImageData(Je,be.x,be.y)}}]),It}();q.a=bt},function(L,q){function E(k,F,j,U,te,de,Ee){try{var ue=k[de](Ee),tt=ue.value}catch(Fe){return void j(Fe)}ue.done?F(tt):Promise.resolve(tt).then(U,te)}L.exports=function(k){return function(){var F=this,j=arguments;return new Promise(function(U,te){var de=k.apply(F,j);function Ee(tt){E(de,U,te,Ee,ue,"next",tt)}function ue(tt){E(de,U,te,Ee,ue,"throw",tt)}Ee(void 0)})}},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){function E(k){return L.exports=E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},L.exports.__esModule=!0,L.exports.default=L.exports,E(k)}L.exports=E,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(142);function F(){return typeof Reflect<"u"&&Reflect.get?(L.exports=F=Reflect.get.bind(),L.exports.__esModule=!0,L.exports.default=L.exports):(L.exports=F=function(j,U,te){var de=k(j,U);if(de){var Ee=Object.getOwnPropertyDescriptor(de,U);return Ee.get?Ee.get.call(arguments.length<3?j:te):Ee.value}},L.exports.__esModule=!0,L.exports.default=L.exports),F.apply(this,arguments)}L.exports=F,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E){var k=typeof E;return null!=E&&("object"==k||"function"==k)}},function(L,q){L.exports=Array.isArray},function(L,q,E){"use strict";q.a={drawRect:function(k,F,j,U){j.strokeStyle=U.color,j.fillStyle=U.color,j.lineWidth=U.lineWidth||1,j.beginPath(),j.strokeRect(k.x,k.y,F.x,F.y)},drawPath:function(k,F,j,U){j.strokeStyle=U.color,j.fillStyle=U.color,j.lineWidth=U.lineWidth,j.beginPath(),j.moveTo(k[0][F.x],k[0][F.y]);for(var te=1;te<k.length;te++)j.lineTo(k[te][F.x],k[te][F.y]);j.closePath(),j.stroke()},drawImage:function(k,F,j){var U=j.getImageData(0,0,F.x,F.y),te=U.data,de=te.length,Ee=k.length;if(de/Ee!=4)return!1;for(;Ee--;){var ue=k[Ee];te[--de]=255,te[--de]=ue,te[--de]=ue,te[--de]=ue}return j.putImageData(U,0,0),!0}}},function(L,q,E){var k=E(74),F=E(129)(function(j,U,te){k(j,U,te)});L.exports=F},function(L,q,E){var k=E(44),F="object"==typeof self&&self&&self.Object===Object&&self,j=k||F||Function("return this")();L.exports=j},function(L,q){L.exports=function(E){return null!=E&&"object"==typeof E}},function(L,q,E){"use strict";q.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(k,F){var j,U=k.data,te=F.data,de=this.searchDirections,Ee=k.size.x;function ue(Fe,ft,lt,bt){var It,Xe,Se;for(It=0;It<de.length;It++){if(U[j=(Xe=Fe.cy+de[Fe.dir][0])*Ee+(Se=Fe.cx+de[Fe.dir][1])]===ft&&(0===te[j]||te[j]===lt))return te[j]=lt,Fe.cy=Xe,Fe.cx=Se,!0;0===te[j]&&(te[j]=bt),Fe.dir=(Fe.dir+1)%8}return!1}function tt(Fe,ft,lt){return{dir:lt,x:Fe,y:ft,next:null,prev:null}}return{trace:function(Fe,ft,lt,bt){return ue(Fe,ft,lt,bt)},contourTracing:function(Fe,ft,lt,bt,It){return function(Xe,Se,be,xe,Ce){var ye,we,De,Le=null,Je={cx:Se,cy:Xe,dir:0};if(ue(Je,xe,be,Ce)){ye=Le=tt(Se,Xe,Je.dir),De=Je.dir,(we=tt(Je.cx,Je.cy,0)).prev=ye,ye.next=we,we.next=null,ye=we;var ge=k.size.x*k.size.y,qe=0;do{Je.dir=(Je.dir+6)%8,ue(Je,xe,be,Ce),De!==Je.dir?(ye.dir=Je.dir,(we=tt(Je.cx,Je.cy,0)).prev=ye,ye.next=we,we.next=null,ye=we):(ye.dir=De,ye.x=Je.cx,ye.y=Je.cy),De=Je.dir}while((Je.cx!==Se||Je.cy!==Xe)&&++qe<ge);Le.prev=ye.prev,ye.prev.next=Le}return Le}(Fe,ft,lt,bt,It)}}}}},function(L,q,E){var k=E(27),F=E(87),j=E(88),U=k?k.toStringTag:void 0;L.exports=function(te){return null==te?void 0===te?"[object Undefined]":"[object Null]":U&&U in Object(te)?F(te):j(te)}},function(L,q,E){"use strict";(function(k){var F,j,U,te,de,Ee,ue,tt,Fe,ft,lt=E(5),bt=E(11),It=E(10),Xe=E(9),Se=(E(17),E(65)),be=E(21),xe=E(66);lt.a.setMatrixArrayType(Array);var Ce,ye,we={ctx:{binary:null},dom:{binary:null}},De={x:0,y:0};function Le(qe){var ut,_e,rt,it,xt,st,$t,$e=Fe.size.x,He=Fe.size.y,ot=-Fe.size.x,Ye=-Fe.size.y;for(ut=0,_e=0;_e<qe.length;_e++)ut+=(it=qe[_e]).rad;for((ut=(180*(ut/=qe.length)/Math.PI+90)%180-90)<0&&(ut+=180),ut=(180-ut)*Math.PI/180,xt=lt.b.copy(lt.b.create(),[Math.cos(ut),Math.sin(ut),-Math.sin(ut),Math.cos(ut)]),_e=0;_e<qe.length;_e++)for(it=qe[_e],rt=0;rt<4;rt++)lt.c.transformMat2(it.box[rt],it.box[rt],xt);for(_e=0;_e<qe.length;_e++)for(it=qe[_e],rt=0;rt<4;rt++)it.box[rt][0]<$e&&($e=it.box[rt][0]),it.box[rt][0]>ot&&(ot=it.box[rt][0]),it.box[rt][1]<He&&(He=it.box[rt][1]),it.box[rt][1]>Ye&&(Ye=it.box[rt][1]);for(st=[[$e,He],[ot,He],[ot,Ye],[$e,Ye]],$t=F.halfSample?2:1,xt=lt.b.invert(xt,xt),rt=0;rt<4;rt++)lt.c.transformMat2(st[rt],st[rt],xt);for(rt=0;rt<4;rt++)lt.c.scale(st[rt],st[rt],$t);return st}function Je(qe,ut){Fe.subImageAsCopy(te,Object(It.h)(qe,ut)),ye.skeletonize()}function ge(qe,ut,_e,rt){var it,xt,st,$t,$e=[],He=[],ot=Math.ceil(ft.x/3);if(qe.length>=2){for(it=0;it<qe.length;it++)qe[it].m00>ot&&$e.push(qe[it]);if($e.length>=2){for(st=function(gt){var Wt=Object(It.b)(gt,.9),Pt=Object(It.j)(Wt,1,function(Wr){return Wr.getPoints().length}),Nn=[],Gt=[];if(1===Pt.length){Nn=Pt[0].item.getPoints();for(var Pn=0;Pn<Nn.length;Pn++)Gt.push(Nn[Pn].point)}return Gt}($e),xt=0,it=0;it<st.length;it++){var Ye,Rt;xt+=null!==(Ye=null===(Rt=st[it])||void 0===Rt?void 0:Rt.rad)&&void 0!==Ye?Ye:0}st.length>1&&st.length>=$e.length/4*3&&st.length>qe.length/4&&(xt/=st.length,$t={index:ut[1]*De.x+ut[0],pos:{x:_e,y:rt},box:[lt.c.clone([_e,rt]),lt.c.clone([_e+te.size.x,rt]),lt.c.clone([_e+te.size.x,rt+te.size.y]),lt.c.clone([_e,rt+te.size.y])],moments:st,rad:xt,vec:lt.c.clone([Math.cos(xt),Math.sin(xt)])},He.push($t))}}return He}q.a={init:function(qe,ut){F=ut,Ce=qe,function(){j=F.halfSample?new bt.a({x:Ce.size.x/2|0,y:Ce.size.y/2|0}):Ce,ft=Object(It.a)(F.patchSize,j.size),De.x=j.size.x/ft.x|0,De.y=j.size.y/ft.y|0,Fe=new bt.a(j.size,void 0,Uint8Array,!1),de=new bt.a(ft,void 0,Array,!0);var _e=new ArrayBuffer(65536);te=new bt.a(ft,new Uint8Array(_e,0,ft.x*ft.y)),U=new bt.a(ft,new Uint8Array(_e,ft.x*ft.y*3,ft.x*ft.y),void 0,!0),ye=Object(xe.a)(typeof window<"u"?window:typeof self<"u"?self:k,{size:ft.x},_e),tt=new bt.a({x:j.size.x/te.size.x|0,y:j.size.y/te.size.y|0},void 0,Array,!0),Ee=new bt.a(tt.size,void 0,void 0,!0),ue=new bt.a(tt.size,void 0,Int32Array,!0)}(),function(){if(!F.useWorker&&typeof document<"u"){we.dom.binary=document.createElement("canvas"),we.dom.binary.className="binaryBuffer";var _e=!!F.willReadFrequently;console.warn("* initCanvas willReadFrequently",_e,F),we.ctx.binary=we.dom.binary.getContext("2d",{willReadFrequently:_e}),we.dom.binary.width=Fe.size.x,we.dom.binary.height=Fe.size.y}}()},locate:function(){F.halfSample&&Object(It.f)(Ce,j),Object(It.i)(j,Fe),Fe.zeroBorder();var qe=function(){var rt,it,xt,st,$t,$e,He=[];for(rt=0;rt<De.x;rt++)for(it=0;it<De.y;it++)Je(xt=te.size.x*rt,st=te.size.y*it),U.zeroBorder(),Xe.a.init(de.data,0),$e=Se.a.create(U,de).rasterize(0),$t=de.moments($e.count),He=He.concat(ge($t,[rt,it],xt,st));return He}();if(qe.length<De.x*De.y*.05)return null;var ut=function(rt){var it,xt,st=0,$t=0;function $e(){var ot;for(ot=0;ot<ue.data.length;ot++)if(0===ue.data[ot]&&1===Ee.data[ot])return ot;return ue.data.length}function He(ot){var gt,Wt,Pt,Nn=ot%ue.size.x,Gt=ot/ue.size.x|0;if(ot<ue.data.length)for(gt=tt.data[ot],ue.data[ot]=st,Pt=0;Pt<be.a.searchDirections.length;Pt++)0!==Ee.data[Wt=(Gt+be.a.searchDirections[Pt][0])*ue.size.x+(Nn+be.a.searchDirections[Pt][1])]?0===ue.data[Wt]&&Math.abs(lt.c.dot(tt.data[Wt].vec,gt.vec))>.95&&He(Wt):ue.data[Wt]=Number.MAX_VALUE}for(Xe.a.init(Ee.data,0),Xe.a.init(ue.data,0),Xe.a.init(tt.data,null),it=0;it<rt.length;it++)tt.data[(xt=rt[it]).index]=xt,Ee.data[xt.index]=1;for(Ee.zeroBorder();($t=$e())<ue.data.length;)st++,He($t);return st}(qe);if(ut<1)return null;var _e=function(rt){var it,xt,st=[];for(it=0;it<rt;it++)st.push(0);for(xt=ue.data.length;xt--;)ue.data[xt]>0&&st[ue.data[xt]-1]++;return(st=st.map(function($t,$e){return{val:$t,label:$e+1}})).sort(function($t,$e){return $e.val-$t.val}),st.filter(function($t){return $t.val>=5})}(ut);return 0===_e.length?null:function(rt,it){var xt,st,$e,He=[],ot=[];for(xt=0;xt<rt.length;xt++){for(st=ue.data.length,He.length=0;st--;)ue.data[st]===rt[xt].label&&He.push(tt.data[st]);($e=Le(He))&&ot.push($e)}return ot}(_e)},checkImageConstraints:function(qe,ut){var _e,rt,it=qe.getWidth(),xt=qe.getHeight(),st=ut.halfSample?.5:1;qe.getConfig().area&&(rt=Object(It.d)(it,xt,qe.getConfig().area),qe.setTopRight({x:rt.sx,y:rt.sy}),qe.setCanvasSize({x:it,y:xt}),it=rt.sw,xt=rt.sh);var $t={x:Math.floor(it*st),y:Math.floor(xt*st)};if(_e=Object(It.a)(ut.patchSize,$t),qe.setWidth(Math.max(Math.floor(Math.floor($t.x/_e.x)*(1/st)*_e.x),_e.x)),qe.setHeight(Math.max(Math.floor(Math.floor($t.y/_e.y)*(1/st)*_e.y),_e.y)),qe.getWidth()%_e.x==0&&qe.getHeight()%_e.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(it," )and height (").concat(xt,") must a multiple of ").concat(_e.x))}}}).call(this,E(45))},function(L,q,E){var k=E(76),F=E(77),j=E(78),U=E(79),te=E(80);function de(Ee){var ue=-1,tt=null==Ee?0:Ee.length;for(this.clear();++ue<tt;){var Fe=Ee[ue];this.set(Fe[0],Fe[1])}}de.prototype.clear=k,de.prototype.delete=F,de.prototype.get=j,de.prototype.has=U,de.prototype.set=te,L.exports=de},function(L,q,E){var k=E(26);L.exports=function(F,j){for(var U=F.length;U--;)if(k(F[U][0],j))return U;return-1}},function(L,q){L.exports=function(E,k){return E===k||E!=E&&k!=k}},function(L,q,E){var k=E(19).Symbol;L.exports=k},function(L,q,E){var k=E(34)(Object,"create");L.exports=k},function(L,q,E){var k=E(101);L.exports=function(F,j){var U=F.__data__;return k(j)?U["string"==typeof j?"string":"hash"]:U.map}},function(L,q,E){var k=E(116),F=E(20),j=Object.prototype,U=j.hasOwnProperty,te=j.propertyIsEnumerable,de=k(function(){return arguments}())?k:function(Ee){return F(Ee)&&U.call(Ee,"callee")&&!te.call(Ee,"callee")};L.exports=de},function(L,q){var E=/^(?:0|[1-9]\d*)$/;L.exports=function(k,F){var j=typeof k;return!!(F=F??9007199254740991)&&("number"==j||"symbol"!=j&&E.test(k))&&k>-1&&k%1==0&&k<F}},function(L,q,E){var k=E(16),F=E(149),j=E(150),U=E(153);L.exports=function(te,de){return k(te)?te:F(te,de)?[te]:j(U(te))}},function(L,q,E){var k=E(143),F=E(144),j=E(59),U=E(145);L.exports=function(te){return k(te)||F(te)||j(te)||U()},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(86),F=E(92);L.exports=function(j,U){var te=F(j,U);return k(te)?te:void 0}},function(L,q,E){var k=E(22),F=E(15);L.exports=function(j){if(!F(j))return!1;var U=k(j);return"[object Function]"==U||"[object GeneratorFunction]"==U||"[object AsyncFunction]"==U||"[object Proxy]"==U}},function(L,q,E){var k=E(48);L.exports=function(F,j,U){"__proto__"==j&&k?k(F,j,{configurable:!0,enumerable:!0,value:U,writable:!0}):F[j]=U}},function(L,q){L.exports=function(E){return E.webpackPolyfill||(E.deprecate=function(){},E.paths=[],E.children||(E.children=[]),Object.defineProperty(E,"loaded",{enumerable:!0,get:function(){return E.l}}),Object.defineProperty(E,"id",{enumerable:!0,get:function(){return E.i}}),E.webpackPolyfill=1),E}},function(L,q,E){var k=E(35),F=E(39);L.exports=function(j){return null!=j&&F(j.length)&&!k(j)}},function(L,q){L.exports=function(E){return"number"==typeof E&&E>-1&&E%1==0&&E<=9007199254740991}},function(L,q){function E(k,F){return L.exports=E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},L.exports.__esModule=!0,L.exports.default=L.exports,E(k,F)}L.exports=E,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(22),F=E(20);L.exports=function(j){return"symbol"==typeof j||F(j)&&"[object Symbol]"==k(j)}},function(L,q,E){var k=E(41);L.exports=function(F){if("string"==typeof F||k(F))return F;var j=F+"";return"0"==j&&1/F==-1/0?"-0":j}},function(L,q,E){var k=E(34)(E(19),"Map");L.exports=k},function(L,q,E){(function(k){L.exports="object"==typeof k&&k&&k.Object===Object&&k}).call(this,E(45))},function(L,q){var E;E=function(){return this}();try{E=E||new Function("return this")()}catch{"object"==typeof window&&(E=window)}L.exports=E},function(L,q,E){var k=E(93),F=E(100),j=E(102),U=E(103),te=E(104);function de(Ee){var ue=-1,tt=null==Ee?0:Ee.length;for(this.clear();++ue<tt;){var Fe=Ee[ue];this.set(Fe[0],Fe[1])}}de.prototype.clear=k,de.prototype.delete=F,de.prototype.get=j,de.prototype.has=U,de.prototype.set=te,L.exports=de},function(L,q,E){var k=E(36),F=E(26);L.exports=function(j,U,te){(void 0!==te&&!F(j[U],te)||void 0===te&&!(U in j))&&k(j,U,te)}},function(L,q,E){var k=E(34),F=function(){try{var j=k(Object,"defineProperty");return j({},"",{}),j}catch{}}();L.exports=F},function(L,q,E){var k=E(115)(Object.getPrototypeOf,Object);L.exports=k},function(L,q){var E=Object.prototype;L.exports=function(k){var F=k&&k.constructor;return k===("function"==typeof F&&F.prototype||E)}},function(L,q,E){(function(k){var F=E(19),j=E(118),U=q&&!q.nodeType&&q,te=U&&"object"==typeof k&&k&&!k.nodeType&&k,de=te&&te.exports===U?F.Buffer:void 0;k.exports=(de?de.isBuffer:void 0)||j}).call(this,E(37)(L))},function(L,q,E){var k=E(120),F=E(121),j=E(122),U=j&&j.isTypedArray,te=U?F(U):k;L.exports=te},function(L,q){L.exports=function(E,k){if(("constructor"!==k||"function"!=typeof E[k])&&"__proto__"!=k)return E[k]}},function(L,q,E){var k=E(36),F=E(26),j=Object.prototype.hasOwnProperty;L.exports=function(U,te,de){var Ee=U[te];j.call(U,te)&&F(Ee,de)&&(void 0!==de||te in U)||k(U,te,de)}},function(L,q,E){var k=E(125),F=E(127),j=E(38);L.exports=function(U){return j(U)?k(U,!0):F(U)}},function(L,q){L.exports=function(E){return E}},function(L,q,E){var k=E(131),F=Math.max;L.exports=function(j,U,te){return U=F(void 0===U?j.length-1:U,0),function(){for(var de=arguments,Ee=-1,ue=F(de.length-U,0),tt=Array(ue);++Ee<ue;)tt[Ee]=de[U+Ee];Ee=-1;for(var Fe=Array(U+1);++Ee<U;)Fe[Ee]=de[Ee];return Fe[U]=te(tt),k(j,this,Fe)}}},function(L,q,E){var k=E(132),F=E(134)(k);L.exports=F},function(L,q,E){var k=E(60);L.exports=function(F,j){if(F){if("string"==typeof F)return k(F,j);var U=Object.prototype.toString.call(F).slice(8,-1);return"Object"===U&&F.constructor&&(U=F.constructor.name),"Map"===U||"Set"===U?Array.from(F):"Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?k(F,j):void 0}},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E,k){(null==k||k>E.length)&&(k=E.length);for(var F=0,j=new Array(k);F<k;F++)j[F]=E[F];return j},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(13).default,F=E(140);L.exports=function(j){var U=F(j,"string");return"symbol"===k(U)?U:String(U)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(137),F=E(138),j=E(59),U=E(139);L.exports=function(te,de){return k(te)||F(te,de)||j(te,de)||U()},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(146),F=E(160)(function(j,U){return null==j?{}:k(j,U)});L.exports=F},function(L,q,E){var k=E(2),F=E(40),j=E(165),U=E(166);function te(de){var Ee="function"==typeof Map?new Map:void 0;return L.exports=te=function(ue){if(null===ue||!j(ue))return ue;if("function"!=typeof ue)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ee){if(Ee.has(ue))return Ee.get(ue);Ee.set(ue,tt)}function tt(){return U(ue,arguments,k(this).constructor)}return tt.prototype=Object.create(ue.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),F(tt,ue)},L.exports.__esModule=!0,L.exports.default=L.exports,te(de)}L.exports=te,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){"use strict";var k=E(21),F={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(j,U){var te=j.data,de=U.data,Ee=j.size.x,ue=j.size.y,tt=k.a.create(j,U);return{rasterize:function(Fe){var ft,lt,bt,It,Xe,Se,be,xe,Ce,ye,we,De,Le=[],Je=0;for(De=0;De<400;De++)Le[De]=0;for(Le[0]=te[0],Ce=null,Se=1;Se<ue-1;Se++)for(It=0,lt=Le[0],Xe=1;Xe<Ee-1;Xe++)if(0===de[we=Se*Ee+Xe])if((ft=te[we])!==lt){if(0===It)Le[bt=Je+1]=ft,lt=ft,null!==(be=tt.contourTracing(Se,Xe,bt,ft,F.DIR.OUTSIDE_EDGE))&&(Je++,It=bt,(xe=F.createContour2D()).dir=F.CONTOUR_DIR.CW_DIR,xe.index=It,xe.firstVertex=be,xe.nextpeer=Ce,xe.insideContours=null,null!==Ce&&(Ce.prevpeer=xe),Ce=xe);else if(null!==(be=tt.contourTracing(Se,Xe,F.DIR.INSIDE_EDGE,ft,It))){for((xe=F.createContour2D()).firstVertex=be,xe.insideContours=null,xe.dir=0===Fe?F.CONTOUR_DIR.CCW_DIR:F.CONTOUR_DIR.CW_DIR,xe.index=Fe,ye=Ce;null!==ye&&ye.index!==It;)ye=ye.nextpeer;null!==ye&&(xe.nextpeer=ye.insideContours,null!==ye.insideContours&&(ye.insideContours.prevpeer=xe),ye.insideContours=xe)}}else de[we]=It;else de[we]===F.DIR.OUTSIDE_EDGE||de[we]===F.DIR.INSIDE_EDGE?(It=0,lt=de[we]===F.DIR.INSIDE_EDGE?te[we]:Le[0]):lt=Le[It=de[we]];for(ye=Ce;null!==ye;)ye.index=Fe,ye=ye.nextpeer;return{cc:Ce,count:Je}},debug:{drawContour:function(Fe,ft){var lt,bt,It,Xe=Fe.getContext("2d"),Se=ft;for(Xe.strokeStyle="red",Xe.fillStyle="red",Xe.lineWidth=1,lt=null!==Se?Se.insideContours:null;null!==Se;){switch(null!==lt?(bt=lt,lt=lt.nextpeer):(bt=Se,lt=null!==(Se=Se.nextpeer)?Se.insideContours:null),bt.dir){case F.CONTOUR_DIR.CW_DIR:Xe.strokeStyle="red";break;case F.CONTOUR_DIR.CCW_DIR:Xe.strokeStyle="blue";break;case F.CONTOUR_DIR.UNKNOWN_DIR:Xe.strokeStyle="green"}It=bt.firstVertex,Xe.beginPath(),Xe.moveTo(It.x,It.y);do{Xe.lineTo((It=It.next).x,It.y)}while(It!==bt.firstVertex);Xe.stroke()}}}}}};q.a=F},function(L,q,E){"use strict";q.a=function(k,F,j){var U=new k.Uint8Array(j),te=0|F.size,de=k.Math.imul;function Ee(Se,be){Se|=0,be|=0;var xe=0,Ce=0,we=0,De=0,Le=0,Je=0,ge=0;for(xe=1;(0|xe)<(te-1|0);xe=xe+1|0)for(ge=ge+te|0,Ce=1;(0|Ce)<(te-1|0);Ce=Ce+1|0)U[be+ge+Ce|0]=5==(0|(0|U[Se+(we=ge-te|0)+(Le=Ce-1|0)|0])+(0|U[Se+we+(Je=Ce+1|0)|0])+(0|U[Se+ge+Ce|0])+(0|U[Se+(De=ge+te|0)+Le|0])+(0|U[Se+De+Je|0]))?1:0}function ue(Se,be,xe){Se|=0,be|=0,xe|=0;var Ce=0;for(Ce=0|de(te,te);(0|Ce)>0;)U[xe+(Ce=Ce-1|0)|0]=(0|U[Se+Ce|0])-(0|U[be+Ce|0])|0}function tt(Se,be,xe){Se|=0,be|=0,xe|=0;var Ce=0;for(Ce=0|de(te,te);(0|Ce)>0;)U[xe+(Ce=Ce-1|0)|0]=0|U[Se+Ce|0]|U[be+Ce|0]|0}function Fe(Se){Se|=0;var be=0,xe=0;for(xe=0|de(te,te);(0|xe)>0;)be=(0|be)+(0|U[Se+(xe=xe-1|0)|0])|0;return 0|be}function lt(Se,be){Se|=0,be|=0;var xe=0,Ce=0,we=0,De=0,Le=0,Je=0,ge=0;for(xe=1;(0|xe)<(te-1|0);xe=xe+1|0)for(ge=ge+te|0,Ce=1;(0|Ce)<(te-1|0);Ce=Ce+1|0)U[be+ge+Ce|0]=(0|(0|U[Se+(we=ge-te|0)+(Le=Ce-1|0)|0])+(0|U[Se+we+(Je=Ce+1|0)|0])+(0|U[Se+ge+Ce|0])+(0|U[Se+(De=ge+te|0)+Le|0])+(0|U[Se+De+Je|0]))>0?1:0}function bt(Se,be){Se|=0,be|=0;var xe=0;for(xe=0|de(te,te);(0|xe)>0;)U[be+(xe=xe-1|0)|0]=0|U[Se+xe|0]}return{skeletonize:function Xe(){var be,xe,Ce,we=0;(function ft(Se,be){Se|=0,be|=0;var xe=0;for(xe=0|de(te,te);(0|xe)>0;)U[Se+(xe=xe-1|0)|0]=be})(Ce=(xe=(be=0|de(te,te))+be|0)+be|0,0),function It(Se){Se|=0;var be=0,xe=0;for(be=0;(0|be)<(te-1|0);be=be+1|0)U[Se+be|0]=0,U[Se+xe|0]=0,U[Se+(xe=xe+te-1|0)|0]=0,xe=xe+1|0;for(be=0;(0|be)<(0|te);be=be+1|0)U[Se+xe|0]=0,xe=xe+1|0}(0);do{Ee(0,be),lt(be,xe),ue(0,xe,xe),tt(Ce,xe,Ce),bt(be,0),we=0==(0|Fe(0))|0}while(!we)}}}},,,,,,,function(L,q,E){L.exports=E(168)},function(L,q,E){var k=E(75),F=E(47),j=E(105),U=E(107),te=E(15),de=E(55),Ee=E(53);L.exports=function ue(tt,Fe,ft,lt,bt){tt!==Fe&&j(Fe,function(It,Xe){if(bt||(bt=new k),te(It))U(tt,Fe,Xe,ft,ue,lt,bt);else{var Se=lt?lt(Ee(tt,Xe),It,Xe+"",tt,Fe,bt):void 0;void 0===Se&&(Se=It),F(tt,Xe,Se)}},de)}},function(L,q,E){var k=E(24),F=E(81),j=E(82),U=E(83),te=E(84),de=E(85);function Ee(ue){var tt=this.__data__=new k(ue);this.size=tt.size}Ee.prototype.clear=F,Ee.prototype.delete=j,Ee.prototype.get=U,Ee.prototype.has=te,Ee.prototype.set=de,L.exports=Ee},function(L,q){L.exports=function(){this.__data__=[],this.size=0}},function(L,q,E){var k=E(25),F=Array.prototype.splice;L.exports=function(j){var U=this.__data__,te=k(U,j);return!(te<0||(te==U.length-1?U.pop():F.call(U,te,1),--this.size,0))}},function(L,q,E){var k=E(25);L.exports=function(F){var j=this.__data__,U=k(j,F);return U<0?void 0:j[U][1]}},function(L,q,E){var k=E(25);L.exports=function(F){return k(this.__data__,F)>-1}},function(L,q,E){var k=E(25);L.exports=function(F,j){var U=this.__data__,te=k(U,F);return te<0?(++this.size,U.push([F,j])):U[te][1]=j,this}},function(L,q,E){var k=E(24);L.exports=function(){this.__data__=new k,this.size=0}},function(L,q){L.exports=function(E){var k=this.__data__,F=k.delete(E);return this.size=k.size,F}},function(L,q){L.exports=function(E){return this.__data__.get(E)}},function(L,q){L.exports=function(E){return this.__data__.has(E)}},function(L,q,E){var k=E(24),F=E(43),j=E(46);L.exports=function(U,te){var de=this.__data__;if(de instanceof k){var Ee=de.__data__;if(!F||Ee.length<199)return Ee.push([U,te]),this.size=++de.size,this;de=this.__data__=new j(Ee)}return de.set(U,te),this.size=de.size,this}},function(L,q,E){var k=E(35),F=E(89),j=E(15),U=E(91),te=/^\[object .+?Constructor\]$/,Fe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");L.exports=function(ft){return!(!j(ft)||F(ft))&&(k(ft)?Fe:te).test(U(ft))}},function(L,q,E){var k=E(27),F=Object.prototype,j=F.hasOwnProperty,U=F.toString,te=k?k.toStringTag:void 0;L.exports=function(de){var Ee=j.call(de,te),ue=de[te];try{de[te]=void 0;var tt=!0}catch{}var Fe=U.call(de);return tt&&(Ee?de[te]=ue:delete de[te]),Fe}},function(L,q){var E=Object.prototype.toString;L.exports=function(k){return E.call(k)}},function(L,q,E){var k,F=E(90),j=(k=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";L.exports=function(U){return!!j&&j in U}},function(L,q,E){var k=E(19)["__core-js_shared__"];L.exports=k},function(L,q){var E=Function.prototype.toString;L.exports=function(k){if(null!=k){try{return E.call(k)}catch{}try{return k+""}catch{}}return""}},function(L,q){L.exports=function(E,k){return E?.[k]}},function(L,q,E){var k=E(94),F=E(24),j=E(43);L.exports=function(){this.size=0,this.__data__={hash:new k,map:new(j||F),string:new k}}},function(L,q,E){var k=E(95),F=E(96),j=E(97),U=E(98),te=E(99);function de(Ee){var ue=-1,tt=null==Ee?0:Ee.length;for(this.clear();++ue<tt;){var Fe=Ee[ue];this.set(Fe[0],Fe[1])}}de.prototype.clear=k,de.prototype.delete=F,de.prototype.get=j,de.prototype.has=U,de.prototype.set=te,L.exports=de},function(L,q,E){var k=E(28);L.exports=function(){this.__data__=k?k(null):{},this.size=0}},function(L,q){L.exports=function(E){var k=this.has(E)&&delete this.__data__[E];return this.size-=k?1:0,k}},function(L,q,E){var k=E(28),F=Object.prototype.hasOwnProperty;L.exports=function(j){var U=this.__data__;if(k){var te=U[j];return"__lodash_hash_undefined__"===te?void 0:te}return F.call(U,j)?U[j]:void 0}},function(L,q,E){var k=E(28),F=Object.prototype.hasOwnProperty;L.exports=function(j){var U=this.__data__;return k?void 0!==U[j]:F.call(U,j)}},function(L,q,E){var k=E(28);L.exports=function(F,j){var U=this.__data__;return this.size+=this.has(F)?0:1,U[F]=k&&void 0===j?"__lodash_hash_undefined__":j,this}},function(L,q,E){var k=E(29);L.exports=function(F){var j=k(this,F).delete(F);return this.size-=j?1:0,j}},function(L,q){L.exports=function(E){var k=typeof E;return"string"==k||"number"==k||"symbol"==k||"boolean"==k?"__proto__"!==E:null===E}},function(L,q,E){var k=E(29);L.exports=function(F){return k(this,F).get(F)}},function(L,q,E){var k=E(29);L.exports=function(F){return k(this,F).has(F)}},function(L,q,E){var k=E(29);L.exports=function(F,j){var U=k(this,F),te=U.size;return U.set(F,j),this.size+=U.size==te?0:1,this}},function(L,q,E){var k=E(106)();L.exports=k},function(L,q){L.exports=function(E){return function(k,F,j){for(var U=-1,te=Object(k),de=j(k),Ee=de.length;Ee--;){var ue=de[E?Ee:++U];if(!1===F(te[ue],ue,te))break}return k}}},function(L,q,E){var k=E(47),F=E(108),j=E(109),U=E(112),te=E(113),de=E(30),Ee=E(16),ue=E(117),tt=E(51),Fe=E(35),ft=E(15),lt=E(119),bt=E(52),It=E(53),Xe=E(123);L.exports=function(Se,be,xe,Ce,ye,we,De){var Le=It(Se,xe),Je=It(be,xe),ge=De.get(Je);if(ge)k(Se,xe,ge);else{var qe=we?we(Le,Je,xe+"",Se,be,De):void 0,ut=void 0===qe;if(ut){var _e=Ee(Je),rt=!_e&&tt(Je),it=!_e&&!rt&&bt(Je);qe=Je,_e||rt||it?Ee(Le)?qe=Le:ue(Le)?qe=U(Le):rt?(ut=!1,qe=F(Je,!0)):it?(ut=!1,qe=j(Je,!0)):qe=[]:lt(Je)||de(Je)?(qe=Le,de(Le)?qe=Xe(Le):ft(Le)&&!Fe(Le)||(qe=te(Je))):ut=!1}ut&&(De.set(Je,qe),ye(qe,Je,Ce,we,De),De.delete(Je)),k(Se,xe,qe)}}},function(L,q,E){(function(k){var F=E(19),j=q&&!q.nodeType&&q,U=j&&"object"==typeof k&&k&&!k.nodeType&&k,te=U&&U.exports===j?F.Buffer:void 0,de=te?te.allocUnsafe:void 0;k.exports=function(Ee,ue){if(ue)return Ee.slice();var tt=Ee.length,Fe=de?de(tt):new Ee.constructor(tt);return Ee.copy(Fe),Fe}}).call(this,E(37)(L))},function(L,q,E){var k=E(110);L.exports=function(F,j){var U=j?k(F.buffer):F.buffer;return new F.constructor(U,F.byteOffset,F.length)}},function(L,q,E){var k=E(111);L.exports=function(F){var j=new F.constructor(F.byteLength);return new k(j).set(new k(F)),j}},function(L,q,E){var k=E(19).Uint8Array;L.exports=k},function(L,q){L.exports=function(E,k){var F=-1,j=E.length;for(k||(k=Array(j));++F<j;)k[F]=E[F];return k}},function(L,q,E){var k=E(114),F=E(49),j=E(50);L.exports=function(U){return"function"!=typeof U.constructor||j(U)?{}:k(F(U))}},function(L,q,E){var k=E(15),F=Object.create,j=function(){function U(){}return function(te){if(!k(te))return{};if(F)return F(te);U.prototype=te;var de=new U;return U.prototype=void 0,de}}();L.exports=j},function(L,q){L.exports=function(E,k){return function(F){return E(k(F))}}},function(L,q,E){var k=E(22),F=E(20);L.exports=function(j){return F(j)&&"[object Arguments]"==k(j)}},function(L,q,E){var k=E(38),F=E(20);L.exports=function(j){return F(j)&&k(j)}},function(L,q){L.exports=function(){return!1}},function(L,q,E){var k=E(22),F=E(49),j=E(20),de=Function.prototype.toString,Ee=Object.prototype.hasOwnProperty,ue=de.call(Object);L.exports=function(tt){if(!j(tt)||"[object Object]"!=k(tt))return!1;var Fe=F(tt);if(null===Fe)return!0;var ft=Ee.call(Fe,"constructor")&&Fe.constructor;return"function"==typeof ft&&ft instanceof ft&&de.call(ft)==ue}},function(L,q,E){var k=E(22),F=E(39),j=E(20),U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object DataView]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object WeakMap]"]=!1,L.exports=function(te){return j(te)&&F(te.length)&&!!U[k(te)]}},function(L,q){L.exports=function(E){return function(k){return E(k)}}},function(L,q,E){(function(k){var F=E(44),j=q&&!q.nodeType&&q,U=j&&"object"==typeof k&&k&&!k.nodeType&&k,te=U&&U.exports===j&&F.process,de=function(){try{return U&&U.require&&U.require("util").types||te&&te.binding&&te.binding("util")}catch{}}();k.exports=de}).call(this,E(37)(L))},function(L,q,E){var k=E(124),F=E(55);L.exports=function(j){return k(j,F(j))}},function(L,q,E){var k=E(54),F=E(36);L.exports=function(j,U,te,de){var Ee=!te;te||(te={});for(var ue=-1,tt=U.length;++ue<tt;){var Fe=U[ue],ft=de?de(te[Fe],j[Fe],Fe,te,j):void 0;void 0===ft&&(ft=j[Fe]),Ee?F(te,Fe,ft):k(te,Fe,ft)}return te}},function(L,q,E){var k=E(126),F=E(30),j=E(16),U=E(51),te=E(31),de=E(52),Ee=Object.prototype.hasOwnProperty;L.exports=function(ue,tt){var Fe=j(ue),ft=!Fe&&F(ue),lt=!Fe&&!ft&&U(ue),bt=!Fe&&!ft&&!lt&&de(ue),It=Fe||ft||lt||bt,Xe=It?k(ue.length,String):[],Se=Xe.length;for(var be in ue)!tt&&!Ee.call(ue,be)||It&&("length"==be||lt&&("offset"==be||"parent"==be)||bt&&("buffer"==be||"byteLength"==be||"byteOffset"==be)||te(be,Se))||Xe.push(be);return Xe}},function(L,q){L.exports=function(E,k){for(var F=-1,j=Array(E);++F<E;)j[F]=k(F);return j}},function(L,q,E){var k=E(15),F=E(50),j=E(128),U=Object.prototype.hasOwnProperty;L.exports=function(te){if(!k(te))return j(te);var de=F(te),Ee=[];for(var ue in te)("constructor"!=ue||!de&&U.call(te,ue))&&Ee.push(ue);return Ee}},function(L,q){L.exports=function(E){var k=[];if(null!=E)for(var F in Object(E))k.push(F);return k}},function(L,q,E){var k=E(130),F=E(135);L.exports=function(j){return k(function(U,te){var de=-1,Ee=te.length,ue=Ee>1?te[Ee-1]:void 0,tt=Ee>2?te[2]:void 0;for(ue=j.length>3&&"function"==typeof ue?(Ee--,ue):void 0,tt&&F(te[0],te[1],tt)&&(ue=Ee<3?void 0:ue,Ee=1),U=Object(U);++de<Ee;){var Fe=te[de];Fe&&j(U,Fe,de,ue)}return U})}},function(L,q,E){var k=E(56),F=E(57),j=E(58);L.exports=function(U,te){return j(F(U,te,k),U+"")}},function(L,q){L.exports=function(E,k,F){switch(F.length){case 0:return E.call(k);case 1:return E.call(k,F[0]);case 2:return E.call(k,F[0],F[1]);case 3:return E.call(k,F[0],F[1],F[2])}return E.apply(k,F)}},function(L,q,E){var k=E(133),F=E(48),j=E(56);L.exports=F?function(te,de){return F(te,"toString",{configurable:!0,enumerable:!1,value:k(de),writable:!0})}:j},function(L,q){L.exports=function(E){return function(){return E}}},function(L,q){var E=Date.now;L.exports=function(k){var F=0,j=0;return function(){var U=E(),te=16-(U-j);if(j=U,te>0){if(++F>=800)return arguments[0]}else F=0;return k.apply(void 0,arguments)}}},function(L,q,E){var k=E(26),F=E(38),j=E(31),U=E(15);L.exports=function(te,de,Ee){if(!U(Ee))return!1;var ue=typeof de;return!!("number"==ue?F(Ee)&&j(de,Ee.length):"string"==ue&&de in Ee)&&k(Ee[de],te)}},function(L,q){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(E){window.setTimeout(E,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(E,k){var F=65535&E,j=65535&k;return F*j+((E>>>16&65535)*j+F*(k>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(E){"use strict";if(null===E)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(E),F=1;F<arguments.length;F++){var j=arguments[F];if(null!==j)for(var U in j)Object.prototype.hasOwnProperty.call(j,U)&&(k[U]=j[U])}return k})},function(L,q){L.exports=function(E){if(Array.isArray(E))return E},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E,k){var F=null==E?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(null!=F){var j,U,te,de,Ee=[],ue=!0,tt=!1;try{if(te=(F=F.call(E)).next,0===k){if(Object(F)!==F)return;ue=!1}else for(;!(ue=(j=te.call(F)).done)&&(Ee.push(j.value),Ee.length!==k);ue=!0);}catch(Fe){tt=!0,U=Fe}finally{try{if(!ue&&null!=F.return&&(de=F.return(),Object(de)!==de))return}finally{if(tt)throw U}}return Ee}},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(13).default;L.exports=function(F,j){if("object"!==k(F)||null===F)return F;var U=F[Symbol.toPrimitive];if(void 0!==U){var te=U.call(F,j||"default");if("object"!==k(te))return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===j?String:Number)(F)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(13).default;function F(){"use strict";L.exports=F=function(){return U},L.exports.__esModule=!0,L.exports.default=L.exports;var j,U={},te=Object.prototype,de=te.hasOwnProperty,Ee=Object.defineProperty||function($e,He,ot){$e[He]=ot.value},ue="function"==typeof Symbol?Symbol:{},tt=ue.iterator||"@@iterator",Fe=ue.asyncIterator||"@@asyncIterator",ft=ue.toStringTag||"@@toStringTag";function lt($e,He,ot){return Object.defineProperty($e,He,{value:ot,enumerable:!0,configurable:!0,writable:!0}),$e[He]}try{lt({},"")}catch{lt=function(He,ot,Ye){return He[ot]=Ye}}function bt($e,He,ot,Ye){var gt=Object.create((He&&He.prototype instanceof Ce?He:Ce).prototype),Wt=new st(Ye||[]);return Ee(gt,"_invoke",{value:_e($e,ot,Wt)}),gt}function It($e,He,ot){try{return{type:"normal",arg:$e.call(He,ot)}}catch(Ye){return{type:"throw",arg:Ye}}}U.wrap=bt;var Xe="suspendedStart",Se="executing",be="completed",xe={};function Ce(){}function ye(){}function we(){}var De={};lt(De,tt,function(){return this});var Le=Object.getPrototypeOf,Je=Le&&Le(Le($t([])));Je&&Je!==te&&de.call(Je,tt)&&(De=Je);var ge=we.prototype=Ce.prototype=Object.create(De);function qe($e){["next","throw","return"].forEach(function(He){lt($e,He,function(ot){return this._invoke(He,ot)})})}function ut($e,He){function ot(Rt,gt,Wt,Pt){var Nn=It($e[Rt],$e,gt);if("throw"!==Nn.type){var Gt=Nn.arg,Pn=Gt.value;return Pn&&"object"==k(Pn)&&de.call(Pn,"__await")?He.resolve(Pn.__await).then(function(Wr){ot("next",Wr,Wt,Pt)},function(Wr){ot("throw",Wr,Wt,Pt)}):He.resolve(Pn).then(function(Wr){Gt.value=Wr,Wt(Gt)},function(Wr){return ot("throw",Wr,Wt,Pt)})}Pt(Nn.arg)}var Ye;Ee(this,"_invoke",{value:function(Rt,gt){function Wt(){return new He(function(Pt,Nn){ot(Rt,gt,Pt,Nn)})}return Ye=Ye?Ye.then(Wt,Wt):Wt()}})}function _e($e,He,ot){var Ye=Xe;return function(Rt,gt){if(Ye===Se)throw new Error("Generator is already running");if(Ye===be){if("throw"===Rt)throw gt;return{value:j,done:!0}}for(ot.method=Rt,ot.arg=gt;;){var Wt=ot.delegate;if(Wt){var Pt=rt(Wt,ot);if(Pt){if(Pt===xe)continue;return Pt}}if("next"===ot.method)ot.sent=ot._sent=ot.arg;else if("throw"===ot.method){if(Ye===Xe)throw Ye=be,ot.arg;ot.dispatchException(ot.arg)}else"return"===ot.method&&ot.abrupt("return",ot.arg);Ye=Se;var Nn=It($e,He,ot);if("normal"===Nn.type){if(Ye=ot.done?be:"suspendedYield",Nn.arg===xe)continue;return{value:Nn.arg,done:ot.done}}"throw"===Nn.type&&(Ye=be,ot.method="throw",ot.arg=Nn.arg)}}}function rt($e,He){var ot=He.method,Ye=$e.iterator[ot];if(Ye===j)return He.delegate=null,"throw"===ot&&$e.iterator.return&&(He.method="return",He.arg=j,rt($e,He),"throw"===He.method)||"return"!==ot&&(He.method="throw",He.arg=new TypeError("The iterator does not provide a '"+ot+"' method")),xe;var Rt=It(Ye,$e.iterator,He.arg);if("throw"===Rt.type)return He.method="throw",He.arg=Rt.arg,He.delegate=null,xe;var gt=Rt.arg;return gt?gt.done?(He[$e.resultName]=gt.value,He.next=$e.nextLoc,"return"!==He.method&&(He.method="next",He.arg=j),He.delegate=null,xe):gt:(He.method="throw",He.arg=new TypeError("iterator result is not an object"),He.delegate=null,xe)}function it($e){var He={tryLoc:$e[0]};1 in $e&&(He.catchLoc=$e[1]),2 in $e&&(He.finallyLoc=$e[2],He.afterLoc=$e[3]),this.tryEntries.push(He)}function xt($e){var He=$e.completion||{};He.type="normal",delete He.arg,$e.completion=He}function st($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(it,this),this.reset(!0)}function $t($e){if($e||""===$e){var He=$e[tt];if(He)return He.call($e);if("function"==typeof $e.next)return $e;if(!isNaN($e.length)){var ot=-1,Ye=function Rt(){for(;++ot<$e.length;)if(de.call($e,ot))return Rt.value=$e[ot],Rt.done=!1,Rt;return Rt.value=j,Rt.done=!0,Rt};return Ye.next=Ye}}throw new TypeError(k($e)+" is not iterable")}return ye.prototype=we,Ee(ge,"constructor",{value:we,configurable:!0}),Ee(we,"constructor",{value:ye,configurable:!0}),ye.displayName=lt(we,ft,"GeneratorFunction"),U.isGeneratorFunction=function($e){var He="function"==typeof $e&&$e.constructor;return!!He&&(He===ye||"GeneratorFunction"===(He.displayName||He.name))},U.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,we):($e.__proto__=we,lt($e,ft,"GeneratorFunction")),$e.prototype=Object.create(ge),$e},U.awrap=function($e){return{__await:$e}},qe(ut.prototype),lt(ut.prototype,Fe,function(){return this}),U.AsyncIterator=ut,U.async=function($e,He,ot,Ye,Rt){void 0===Rt&&(Rt=Promise);var gt=new ut(bt($e,He,ot,Ye),Rt);return U.isGeneratorFunction(He)?gt:gt.next().then(function(Wt){return Wt.done?Wt.value:gt.next()})},qe(ge),lt(ge,ft,"Generator"),lt(ge,tt,function(){return this}),lt(ge,"toString",function(){return"[object Generator]"}),U.keys=function($e){var He=Object($e),ot=[];for(var Ye in He)ot.push(Ye);return ot.reverse(),function Rt(){for(;ot.length;){var gt=ot.pop();if(gt in He)return Rt.value=gt,Rt.done=!1,Rt}return Rt.done=!0,Rt}},U.values=$t,st.prototype={constructor:st,reset:function($e){if(this.prev=0,this.next=0,this.sent=this._sent=j,this.done=!1,this.delegate=null,this.method="next",this.arg=j,this.tryEntries.forEach(xt),!$e)for(var He in this)"t"===He.charAt(0)&&de.call(this,He)&&!isNaN(+He.slice(1))&&(this[He]=j)},stop:function(){this.done=!0;var $e=this.tryEntries[0].completion;if("throw"===$e.type)throw $e.arg;return this.rval},dispatchException:function($e){if(this.done)throw $e;var He=this;function ot(Nn,Gt){return gt.type="throw",gt.arg=$e,He.next=Nn,Gt&&(He.method="next",He.arg=j),!!Gt}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Rt=this.tryEntries[Ye],gt=Rt.completion;if("root"===Rt.tryLoc)return ot("end");if(Rt.tryLoc<=this.prev){var Wt=de.call(Rt,"catchLoc"),Pt=de.call(Rt,"finallyLoc");if(Wt&&Pt){if(this.prev<Rt.catchLoc)return ot(Rt.catchLoc,!0);if(this.prev<Rt.finallyLoc)return ot(Rt.finallyLoc)}else if(Wt){if(this.prev<Rt.catchLoc)return ot(Rt.catchLoc,!0)}else{if(!Pt)throw new Error("try statement without catch or finally");if(this.prev<Rt.finallyLoc)return ot(Rt.finallyLoc)}}}},abrupt:function($e,He){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var Ye=this.tryEntries[ot];if(Ye.tryLoc<=this.prev&&de.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Rt=Ye;break}}Rt&&("break"===$e||"continue"===$e)&&Rt.tryLoc<=He&&He<=Rt.finallyLoc&&(Rt=null);var gt=Rt?Rt.completion:{};return gt.type=$e,gt.arg=He,Rt?(this.method="next",this.next=Rt.finallyLoc,xe):this.complete(gt)},complete:function($e,He){if("throw"===$e.type)throw $e.arg;return"break"===$e.type||"continue"===$e.type?this.next=$e.arg:"return"===$e.type?(this.rval=this.arg=$e.arg,this.method="return",this.next="end"):"normal"===$e.type&&He&&(this.next=He),xe},finish:function($e){for(var He=this.tryEntries.length-1;He>=0;--He){var ot=this.tryEntries[He];if(ot.finallyLoc===$e)return this.complete(ot.completion,ot.afterLoc),xt(ot),xe}},catch:function($e){for(var He=this.tryEntries.length-1;He>=0;--He){var ot=this.tryEntries[He];if(ot.tryLoc===$e){var Ye=ot.completion;if("throw"===Ye.type){var Rt=Ye.arg;xt(ot)}return Rt}}throw new Error("illegal catch attempt")},delegateYield:function($e,He,ot){return this.delegate={iterator:$t($e),resultName:He,nextLoc:ot},"next"===this.method&&(this.arg=j),xe}},U}L.exports=F,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(2);L.exports=function(F,j){for(;!Object.prototype.hasOwnProperty.call(F,j)&&null!==(F=k(F)););return F},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(60);L.exports=function(F){if(Array.isArray(F))return k(F)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(E){if(typeof Symbol<"u"&&null!=E[Symbol.iterator]||null!=E["@@iterator"])return Array.from(E)},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(147),F=E(157);L.exports=function(j,U){return k(j,U,function(te,de){return F(j,de)})}},function(L,q,E){var k=E(148),F=E(156),j=E(32);L.exports=function(U,te,de){for(var Ee=-1,ue=te.length,tt={};++Ee<ue;){var Fe=te[Ee],ft=k(U,Fe);de(ft,Fe)&&F(tt,j(Fe,U),ft)}return tt}},function(L,q,E){var k=E(32),F=E(42);L.exports=function(j,U){for(var te=0,de=(U=k(U,j)).length;null!=j&&te<de;)j=j[F(U[te++])];return te&&te==de?j:void 0}},function(L,q,E){var k=E(16),F=E(41),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/;L.exports=function(te,de){if(k(te))return!1;var Ee=typeof te;return!("number"!=Ee&&"symbol"!=Ee&&"boolean"!=Ee&&null!=te&&!F(te))||U.test(te)||!j.test(te)||null!=de&&te in Object(de)}},function(L,q,E){var k=E(151),F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,U=k(function(te){var de=[];return 46===te.charCodeAt(0)&&de.push(""),te.replace(F,function(Ee,ue,tt,Fe){de.push(tt?Fe.replace(j,"$1"):ue||Ee)}),de});L.exports=U},function(L,q,E){var k=E(152);L.exports=function(F){var j=k(F,function(te){return 500===U.size&&U.clear(),te}),U=j.cache;return j}},function(L,q,E){var k=E(46);function F(j,U){if("function"!=typeof j||null!=U&&"function"!=typeof U)throw new TypeError("Expected a function");var te=function(){var de=arguments,Ee=U?U.apply(this,de):de[0],ue=te.cache;if(ue.has(Ee))return ue.get(Ee);var tt=j.apply(this,de);return te.cache=ue.set(Ee,tt)||ue,tt};return te.cache=new(F.Cache||k),te}F.Cache=k,L.exports=F},function(L,q,E){var k=E(154);L.exports=function(F){return null==F?"":k(F)}},function(L,q,E){var k=E(27),F=E(155),j=E(16),U=E(41),te=k?k.prototype:void 0,de=te?te.toString:void 0;L.exports=function Ee(ue){if("string"==typeof ue)return ue;if(j(ue))return F(ue,Ee)+"";if(U(ue))return de?de.call(ue):"";var tt=ue+"";return"0"==tt&&1/ue==-1/0?"-0":tt}},function(L,q){L.exports=function(E,k){for(var F=-1,j=null==E?0:E.length,U=Array(j);++F<j;)U[F]=k(E[F],F,E);return U}},function(L,q,E){var k=E(54),F=E(32),j=E(31),U=E(15),te=E(42);L.exports=function(de,Ee,ue,tt){if(!U(de))return de;for(var Fe=-1,ft=(Ee=F(Ee,de)).length,lt=ft-1,bt=de;null!=bt&&++Fe<ft;){var It=te(Ee[Fe]),Xe=ue;if("__proto__"===It||"constructor"===It||"prototype"===It)return de;if(Fe!=lt){var Se=bt[It];void 0===(Xe=tt?tt(Se,It,bt):void 0)&&(Xe=U(Se)?Se:j(Ee[Fe+1])?[]:{})}k(bt,It,Xe),bt=bt[It]}return de}},function(L,q,E){var k=E(158),F=E(159);L.exports=function(j,U){return null!=j&&F(j,U,k)}},function(L,q){L.exports=function(E,k){return null!=E&&k in Object(E)}},function(L,q,E){var k=E(32),F=E(30),j=E(16),U=E(31),te=E(39),de=E(42);L.exports=function(Ee,ue,tt){for(var Fe=-1,ft=(ue=k(ue,Ee)).length,lt=!1;++Fe<ft;){var bt=de(ue[Fe]);if(!(lt=null!=Ee&&tt(Ee,bt)))break;Ee=Ee[bt]}return lt||++Fe!=ft?lt:!!(ft=null==Ee?0:Ee.length)&&te(ft)&&U(bt,ft)&&(j(Ee)||F(Ee))}},function(L,q,E){var k=E(161),F=E(57),j=E(58);L.exports=function(U){return j(F(U,void 0,k),U+"")}},function(L,q,E){var k=E(162);L.exports=function(F){return null!=F&&F.length?k(F,1):[]}},function(L,q,E){var k=E(163),F=E(164);L.exports=function j(U,te,de,Ee,ue){var tt=-1,Fe=U.length;for(de||(de=F),ue||(ue=[]);++tt<Fe;){var ft=U[tt];te>0&&de(ft)?te>1?j(ft,te-1,de,Ee,ue):k(ue,ft):Ee||(ue[ue.length]=ft)}return ue}},function(L,q){L.exports=function(E,k){for(var F=-1,j=k.length,U=E.length;++F<j;)E[U+F]=k[F];return E}},function(L,q,E){var k=E(27),F=E(30),j=E(16),U=k?k.isConcatSpreadable:void 0;L.exports=function(te){return j(te)||F(te)||!!(U&&te&&te[U])}},function(L,q){L.exports=function(E){try{return-1!==Function.toString.call(E).indexOf("[native code]")}catch{return"function"==typeof E}},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){var k=E(40),F=E(167);function j(U,te,de){return F()?(L.exports=j=Reflect.construct.bind(),L.exports.__esModule=!0,L.exports.default=L.exports):(L.exports=j=function(Ee,ue,tt){var Fe=[null];Fe.push.apply(Fe,ue);var ft=new(Function.bind.apply(Ee,Fe));return tt&&k(ft,tt.prototype),ft},L.exports.__esModule=!0,L.exports.default=L.exports),j.apply(null,arguments)}L.exports=j,L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q){L.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},L.exports.__esModule=!0,L.exports.default=L.exports},function(L,q,E){"use strict";E.r(q),E.d(q,"BarcodeDecoder",function(){return At}),E.d(q,"Readers",function(){return k}),E.d(q,"CameraAccess",function(){return oi}),E.d(q,"ImageDebug",function(){return ft.a}),E.d(q,"ImageWrapper",function(){return de.a}),E.d(q,"ResultCollector",function(){return Ma});var k={};E.r(k),E.d(k,"BarcodeReader",function(){return _e}),E.d(k,"TwoOfFiveReader",function(){return $e}),E.d(k,"NewCodabarReader",function(){return gt}),E.d(k,"Code128Reader",function(){return Pt}),E.d(k,"Code32Reader",function(){return yn}),E.d(k,"Code39Reader",function(){return lo}),E.d(k,"Code39VINReader",function(){return So}),E.d(k,"Code93Reader",function(){return Ps}),E.d(k,"EAN2Reader",function(){return $i}),E.d(k,"EAN5Reader",function(){return En}),E.d(k,"EAN8Reader",function(){return Io}),E.d(k,"EANReader",function(){return _n}),E.d(k,"I2of5Reader",function(){return Ir}),E.d(k,"UPCEReader",function(){return Yi}),E.d(k,"UPCReader",function(){return _i});var Y,F=E(13),j=E.n(F),U=E(18),te=E.n(U),de=(E(136),E(11)),Ee=E(12),ue=E.n(Ee),tt=E(8),Fe=E.n(tt),ft=E(17),lt=E(3),bt=E.n(lt),It=E(4),Xe=E.n(It),Se=E(1),be=E.n(Se),xe=E(7),Ce=E.n(xe),ye=E(6),we=E.n(ye),De=E(2),Le=E.n(De),Je=E(0),ge=E.n(Je),qe=E(9),ut=((Y={})[Y.Forward=1]="Forward",Y[Y.Reverse=-1]="Reverse",Y),_e=function(){function Y(se,z){bt()(this,Y),ge()(this,"_row",[]),ge()(this,"config",{}),ge()(this,"supplements",[]),ge()(this,"SINGLE_CODE_ERROR",0),ge()(this,"FORMAT","unknown"),ge()(this,"CONFIG_KEYS",{}),this._row=[],this.config=se||{},z&&(this.supplements=z)}return Xe()(Y,[{key:"_nextUnset",value:function(se){for(var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;I<se.length;I++)if(!se[I])return I;return se.length}},{key:"_matchPattern",value:function(se,z){for(var ae,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,T=0,N=0,V=0,K=0,ce=0,Ae=0;Ae<se.length;Ae++)V+=se[Ae],K+=z[Ae];if(V<K)return Number.MAX_VALUE;I*=ae=V/K;for(var H=0;H<se.length;H++){if(ce=z[H]*ae,(N=Math.abs(se[H]-ce)/ce)>I)return Number.MAX_VALUE;T+=N}return T/K}},{key:"_nextSet",value:function(se){for(var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;I<se.length;I++)if(se[I])return I;return se.length}},{key:"_correctBars",value:function(se,z,I){for(var T=I.length,N=0;T--;)(N=se[I[T]]*(1-(1-z)/2))>1&&(se[I[T]]=N)}},{key:"decodePattern",value:function(se){this._row=se;var z=this.decode();return null===z?(this._row.reverse(),(z=this.decode())&&(z.direction=ut.Reverse,z.start=this._row.length-z.start,z.end=this._row.length-z.end)):z.direction=ut.Forward,z&&(z.format=this.FORMAT),z}},{key:"_matchRange",value:function(se,z,I){var T;for(T=se=se<0?0:se;T<z;T++)if(this._row[T]!==I)return!1;return!0}},{key:"_fillCounters",value:function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,I=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],T=[],N=0;T[N]=0;for(var V=se;V<z;V++)this._row[V]^(I?1:0)?T[N]++:(T[++N]=1,I=!I);return T}},{key:"_toCounters",value:function(se,z){var I=z.length,T=this._row.length,N=!this._row[se],V=0;qe.a.init(z,0);for(var K=se;K<T;K++)if(this._row[K]^(N?1:0))z[V]++;else{if(++V===I)break;z[V]=1,N=!N}return z}},{key:"decodeImage",value:function(se){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),Y}();var it=[3,1,3,1,1,1],xt=[3,1,1,1,3],st=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],$t=it.reduce(function(Y,se){return Y+se},0),$e=function(Y){Ce()(z,Y);var se=function rt(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"barSpaceRatio",[1,1]),ge()(be()(I),"FORMAT","2of5"),ge()(be()(I),"SINGLE_CODE_ERROR",.78),ge()(be()(I),"AVG_CODE_ERROR",.3),I}return Xe()(z,[{key:"_findPattern",value:function(I,T){var N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=arguments.length>3&&void 0!==arguments[3]&&arguments[3],K=[],ae=0,ee={error:Number.MAX_VALUE,code:-1,start:0,end:0},ce=0,Ae=0,H=this.AVG_CODE_ERROR;T||(T=this._nextSet(this._row));for(var ne=0;ne<I.length;ne++)K[ne]=0;for(var J=T;J<this._row.length;J++)if(this._row[J]^(N?1:0))K[ae]++;else{if(ae===K.length-1){ce=0;for(var Ve=0;Ve<K.length;Ve++)ce+=K[Ve];if((Ae=this._matchPattern(K,I))<H)return ee.error=Ae,ee.start=J-ce,ee.end=J,ee;if(!V)return null;for(var wt=0;wt<K.length-2;wt++)K[wt]=K[wt+2];K[K.length-2]=0,K[K.length-1]=0,ae--}else ae++;K[ae]=1,N=!N}return null}},{key:"_findStart",value:function(){for(var I=null,T=this._nextSet(this._row),N=1,V=0;!I;){if(!(I=this._findPattern(it,T,!1,!0)))return null;if(N=Math.floor((I.end-I.start)/$t),(V=I.start-5*N)>=0&&this._matchRange(V,I.start,0))return I;T=I.end,I=null}return I}},{key:"_verifyTrailingWhitespace",value:function(I){var T=I.end+(I.end-I.start)/2;return T<this._row.length&&this._matchRange(I.end,T,0)?I:null}},{key:"_findEnd",value:function(){this._row.reverse();var I=this._nextSet(this._row),T=this._findPattern(xt,I,!1,!0);if(this._row.reverse(),null===T)return null;var N=T.start;return T.start=this._row.length-T.end,T.end=this._row.length-N,null!==T?this._verifyTrailingWhitespace(T):null}},{key:"_verifyCounterLength",value:function(I){return I.length%10==0}},{key:"_decodeCode",value:function(I){for(var T=this.AVG_CODE_ERROR,N={error:Number.MAX_VALUE,code:-1,start:0,end:0},V=0;V<st.length;V++){var K=this._matchPattern(I,st[V]);K<N.error&&(N.code=V,N.error=K)}return N.error<T?N:null}},{key:"_decodePayload",value:function(I,T,N){for(var V=0,K=I.length,ae=[0,0,0,0,0],ee=null;V<K;){for(var ce=0;ce<5;ce++)ae[ce]=I[V]*this.barSpaceRatio[0],V+=2;if(!(ee=this._decodeCode(ae)))return null;T.push("".concat(ee.code)),N.push(ee)}return ee}},{key:"decode",value:function(I,T){var N=this._findStart();if(!N)return null;var V=this._findEnd();if(!V)return null;var K=this._fillCounters(N.end,V.start,!1);if(!this._verifyCounterLength(K))return null;var ae=[];ae.push(N);var ee=[];return this._decodePayload(K,ee,ae)?ee.length<5?null:(ae.push(V),{code:ee.join(""),start:N.start,end:V.end,startInfo:N,decodedCodes:ae,format:this.FORMAT}):null}}]),z}(_e);var ot=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ye=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Rt=[26,41,11,14],gt=function(Y){Ce()(z,Y);var se=function He(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"_counters",[]),ge()(be()(I),"FORMAT","codabar"),I}return Xe()(z,[{key:"_computeAlternatingThreshold",value:function(I,T){for(var N=Number.MAX_VALUE,V=0,K=0,ae=I;ae<T;ae+=2)(K=this._counters[ae])>V&&(V=K),K<N&&(N=K);return(N+V)/2|0}},{key:"_toPattern",value:function(I){var T=I+7;if(T>this._counters.length)return-1;for(var N=this._computeAlternatingThreshold(I,T),V=this._computeAlternatingThreshold(I+1,T),K=64,ee=0,ce=0;ce<7;ce++)this._counters[I+ce]>(1&ce?V:N)&&(ee|=K),K>>=1;return ee}},{key:"_isStartEnd",value:function(I){for(var T=0;T<Rt.length;T++)if(Rt[T]===I)return!0;return!1}},{key:"_sumCounters",value:function(I,T){for(var N=0,V=I;V<T;V++)N+=this._counters[V];return N}},{key:"_findStart",value:function(){for(var I=this._nextUnset(this._row),T=1;T<this._counters.length;T++){var N=this._toPattern(T);if(-1!==N&&this._isStartEnd(N))return{start:I+=this._sumCounters(0,T),end:I+this._sumCounters(T,T+8),startCounter:T,endCounter:T+8}}return null}},{key:"_patternToChar",value:function(I){for(var T=0;T<Ye.length;T++)if(Ye[T]===I)return String.fromCharCode(ot[T]);return null}},{key:"_calculatePatternLength",value:function(I){for(var T=0,N=I;N<I+7;N++)T+=this._counters[N];return T}},{key:"_verifyWhitespace",value:function(I,T){return(I-1<=0||this._counters[I-1]>=this._calculatePatternLength(I)/2)&&(T+8>=this._counters.length||this._counters[T+7]>=this._calculatePatternLength(T)/2)}},{key:"_charToPattern",value:function(I){for(var T=I.charCodeAt(0),N=0;N<ot.length;N++)if(ot[N]===T)return Ye[N];return 0}},{key:"_thresholdResultPattern",value:function(I,T){for(var N,V={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},K=T,ae=0;ae<I.length;ae++){N=this._charToPattern(I[ae]);for(var ee=6;ee>=0;ee--){var ce=2==(1&ee)?V.bar:V.space,Ae=1==(1&N)?ce.wide:ce.narrow;Ae.size+=this._counters[K+ee],Ae.counts++,N>>=1}K+=8}return["space","bar"].forEach(function(H){var ne=V[H];ne.wide.min=Math.floor((ne.narrow.size/ne.narrow.counts+ne.wide.size/ne.wide.counts)/2),ne.narrow.max=Math.ceil(ne.wide.min),ne.wide.max=Math.ceil((2*ne.wide.size+1.5)/ne.wide.counts)}),V}},{key:"_validateResult",value:function(I,T){for(var N,V=this._thresholdResultPattern(I,T),K=T,ae=0;ae<I.length;ae++){N=this._charToPattern(I[ae]);for(var ee=6;ee>=0;ee--){var ce=1&ee?V.space:V.bar,Ae=1==(1&N)?ce.wide:ce.narrow,H=this._counters[K+ee];if(H<Ae.min||H>Ae.max)return!1;N>>=1}K+=8}return!0}},{key:"decode",value:function(I,T){if(this._counters=this._fillCounters(),!(T=this._findStart()))return null;var N,V=T.startCounter,K=[];do{if((N=this._toPattern(V))<0)return null;var ae=this._patternToChar(N);if(null===ae)return null;if(K.push(ae),V+=8,K.length>1&&this._isStartEnd(N))break}while(V<this._counters.length);if(K.length-2<4||!this._isStartEnd(N)||!this._verifyWhitespace(T.startCounter,V-8)||!this._validateResult(K,T.startCounter))return null;var ee=T.start+this._sumCounters(T.startCounter,(V=V>this._counters.length?this._counters.length:V)-8);return{code:K.join(""),start:T.start,end:ee,startInfo:T,decodedCodes:K,format:this.FORMAT}}}]),z}(_e);var Pt=function(Y){Ce()(z,Y);var se=function Wt(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"CODE_SHIFT",98),ge()(be()(I),"CODE_C",99),ge()(be()(I),"CODE_B",100),ge()(be()(I),"CODE_A",101),ge()(be()(I),"START_CODE_A",103),ge()(be()(I),"START_CODE_B",104),ge()(be()(I),"START_CODE_C",105),ge()(be()(I),"STOP_CODE",106),ge()(be()(I),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),ge()(be()(I),"SINGLE_CODE_ERROR",.64),ge()(be()(I),"AVG_CODE_ERROR",.3),ge()(be()(I),"FORMAT","code_128"),ge()(be()(I),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),I}return Xe()(z,[{key:"_decodeCode",value:function(I,T){for(var N={error:Number.MAX_VALUE,code:-1,start:I,end:I,correction:{bar:1,space:1}},V=[0,0,0,0,0,0],ae=!this._row[I],ee=0,ce=I;ce<this._row.length;ce++)if(this._row[ce]^(ae?1:0))V[ee]++;else{if(ee===V.length-1){T&&this._correct(V,T);for(var Ae=0;Ae<this.CODE_PATTERN.length;Ae++){var H=this._matchPattern(V,this.CODE_PATTERN[Ae]);H<N.error&&(N.code=Ae,N.error=H)}return N.end=ce,-1===N.code||N.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[N.code]&&(N.correction.bar=this.calculateCorrection(this.CODE_PATTERN[N.code],V,this.MODULE_INDICES.bar),N.correction.space=this.calculateCorrection(this.CODE_PATTERN[N.code],V,this.MODULE_INDICES.space)),N)}V[++ee]=1,ae=!ae}return null}},{key:"_correct",value:function(I,T){this._correctBars(I,T.bar,this.MODULE_INDICES.bar),this._correctBars(I,T.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var I=[0,0,0,0,0,0],T=this._nextSet(this._row),N={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},V=!1,K=0,ae=T;ae<this._row.length;ae++)if(this._row[ae]^(V?1:0))I[K]++;else{if(K===I.length-1){for(var ee=I.reduce(function(ne,J){return ne+J},0),ce=this.START_CODE_A;ce<=this.START_CODE_C;ce++){var Ae=this._matchPattern(I,this.CODE_PATTERN[ce]);Ae<N.error&&(N.code=ce,N.error=Ae)}if(N.error<this.AVG_CODE_ERROR)return N.start=ae-ee,N.end=ae,N.correction.bar=this.calculateCorrection(this.CODE_PATTERN[N.code],I,this.MODULE_INDICES.bar),N.correction.space=this.calculateCorrection(this.CODE_PATTERN[N.code],I,this.MODULE_INDICES.space),N;for(var H=0;H<4;H++)I[H]=I[H+2];I[4]=0,I[5]=0,K--}else K++;I[K]=1,V=!V}return null}},{key:"decode",value:function(I,T){var N=this,V=this._findStart();if(null===V)return null;var K={code:V.code,start:V.start,end:V.end,correction:{bar:V.correction.bar,space:V.correction.space}},ae=[];ae.push(K);for(var ee=K.code,ce=function(Ne){switch(Ne){case N.START_CODE_A:return N.CODE_A;case N.START_CODE_B:return N.CODE_B;case N.START_CODE_C:return N.CODE_C;default:return null}}(K.code),Ae=!1,H=!1,ne=H,J=!0,Ve=0,wt=[],Lt=[];!Ae;){if(ne=H,H=!1,null!==(K=this._decodeCode(K.end,K.correction)))switch(K.code!==this.STOP_CODE&&(J=!0),K.code!==this.STOP_CODE&&(wt.push(K.code),ee+=++Ve*K.code),ae.push(K),ce){case this.CODE_A:if(K.code<64)Lt.push(String.fromCharCode(32+K.code));else if(K.code<96)Lt.push(String.fromCharCode(K.code-64));else switch(K.code!==this.STOP_CODE&&(J=!1),K.code){case this.CODE_SHIFT:H=!0,ce=this.CODE_B;break;case this.CODE_B:ce=this.CODE_B;break;case this.CODE_C:ce=this.CODE_C;break;case this.STOP_CODE:Ae=!0}break;case this.CODE_B:if(K.code<96)Lt.push(String.fromCharCode(32+K.code));else switch(K.code!==this.STOP_CODE&&(J=!1),K.code){case this.CODE_SHIFT:H=!0,ce=this.CODE_A;break;case this.CODE_A:ce=this.CODE_A;break;case this.CODE_C:ce=this.CODE_C;break;case this.STOP_CODE:Ae=!0}break;case this.CODE_C:if(K.code<100)Lt.push(K.code<10?"0"+K.code:K.code);else switch(K.code!==this.STOP_CODE&&(J=!1),K.code){case this.CODE_A:ce=this.CODE_A;break;case this.CODE_B:ce=this.CODE_B;break;case this.STOP_CODE:Ae=!0}}else Ae=!0;ne&&(ce=ce===this.CODE_A?this.CODE_B:this.CODE_A)}return null===K?null:(K.end=this._nextUnset(this._row,K.end),this._verifyTrailingWhitespace(K)?(ee-=Ve*wt[wt.length-1])%103!==wt[wt.length-1]?null:Lt.length?(J&&Lt.splice(Lt.length-1,1),{code:Lt.join(""),start:V.start,end:K.end,codeset:ce,startInfo:V,decodedCodes:ae,endInfo:K,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(I){var T;return(T=I.end+(I.end-I.start)/2)<this._row.length&&this._matchRange(I.end,T,0)?I:null}},{key:"calculateCorrection",value:function(I,T,N){for(var V=N.length,K=0,ae=0;V--;)ae+=I[N[V]],K+=T[N[V]];return ae/K}}]),z}(_e),Nn=E(14),Gt=E.n(Nn),Pn=E(33),Wr=E.n(Pn);var Wo=new Uint16Array(Wr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(Y){return Y.charCodeAt(0)})),Vi=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),lo=function(Y){Ce()(z,Y);var se=function pn(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","code_39"),I}return Xe()(z,[{key:"_findStart",value:function(){for(var I=this._nextSet(this._row),T=I,N=new Uint16Array([0,0,0,0,0,0,0,0,0]),V=0,K=!1,ae=I;ae<this._row.length;ae++)if(this._row[ae]^(K?1:0))N[V]++;else{if(V===N.length-1){if(148===this._toPattern(N)){var ee=Math.floor(Math.max(0,T-(ae-T)/4));if(this._matchRange(ee,T,0))return{start:T,end:ae}}T+=N[0]+N[1];for(var ce=0;ce<7;ce++)N[ce]=N[ce+2];N[7]=0,N[8]=0,V--}else V++;N[V]=1,K=!K}return null}},{key:"_toPattern",value:function(I){for(var T=I.length,N=0,V=T,K=0;V>3;){N=this._findNextWidth(I,N),V=0;for(var ae=0,ee=0;ee<T;ee++)I[ee]>N&&(ae|=1<<T-1-ee,V++,K+=I[ee]);if(3===V){for(var ce=0;ce<T&&V>0;ce++)if(I[ce]>N&&(V--,2*I[ce]>=K))return-1;return ae}}return-1}},{key:"_findNextWidth",value:function(I,T){for(var N=Number.MAX_VALUE,V=0;V<I.length;V++)I[V]<N&&I[V]>T&&(N=I[V]);return N}},{key:"_patternToChar",value:function(I){for(var T=0;T<Vi.length;T++)if(Vi[T]===I)return String.fromCharCode(Wo[T]);return null}},{key:"_verifyTrailingWhitespace",value:function(I,T,N){var V=qe.a.sum(N);return 3*(T-I-V)>=V}},{key:"decode",value:function(){var I=new Uint16Array([0,0,0,0,0,0,0,0,0]),T=[],N=this._findStart();if(!N)return null;var V,K,ae=this._nextSet(this._row,N.end);do{I=this._toCounters(ae,I);var ee=this._toPattern(I);if(ee<0||null===(V=this._patternToChar(ee)))return null;T.push(V),K=ae,ae+=qe.a.sum(I),ae=this._nextSet(this._row,ae)}while("*"!==V);return T.pop(),T.length&&this._verifyTrailingWhitespace(K,ae,I)?{code:T.join(""),start:N.start,end:ae,startInfo:N,decodedCodes:T,format:this.FORMAT}:null}}]),z}(_e);var ia=/[AEIO]/g,yn=function(Y){Ce()(z,Y);var se=function Gr(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","code_32_reader"),I}return Xe()(z,[{key:"_decodeCode32",value:function(I){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(I))return null;for(var T=0,N=0;N<I.length;N++)T=32*T+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(I[N]);var V="".concat(T);return V.length<9&&(V=("000000000"+V).slice(-9)),"A"+V}},{key:"_checkChecksum",value:function(I){return!!I}},{key:"decode",value:function(){var I=Gt()(Le()(z.prototype),"decode",this).call(this);if(!I)return null;var T=I.code;if(!T||(T=T.replace(ia,""),!this._checkChecksum(T)))return null;var N=this._decodeCode32(T);return N?(I.code=N,I):null}}]),z}(lo);var kt=/[IOQ]/g,uo=/[A-Z0-9]{17}/,So=function(Y){Ce()(z,Y);var se=function Ns(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","code_39_vin"),I}return Xe()(z,[{key:"_checkChecksum",value:function(I){return!!I}},{key:"decode",value:function(){var I=Gt()(Le()(z.prototype),"decode",this).call(this);if(!I)return null;var T=I.code;return T&&(T=T.replace(kt,"")).match(uo)&&this._checkChecksum(T)?(I.code=T,I):null}}]),z}(lo);var Go=new Uint16Array(Wr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(Y){return Y.charCodeAt(0)})),qr=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Ps=function(Y){Ce()(z,Y);var se=function Zr(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","code_93"),I}return Xe()(z,[{key:"_patternToChar",value:function(I){for(var T=0;T<qr.length;T++)if(qr[T]===I)return String.fromCharCode(Go[T]);return null}},{key:"_toPattern",value:function(I){for(var T=I.length,N=I.reduce(function(ce,Ae){return ce+Ae},0),V=0,K=0;K<T;K++){var ae=Math.round(9*I[K]/N);if(ae<1||ae>4)return-1;if(1&K)V<<=ae;else for(var ee=0;ee<ae;ee++)V=V<<1|1}return V}},{key:"_findStart",value:function(){for(var I=this._nextSet(this._row),T=I,N=new Uint16Array([0,0,0,0,0,0]),V=0,K=!1,ae=I;ae<this._row.length;ae++)if(this._row[ae]^(K?1:0))N[V]++;else{if(V===N.length-1){if(350===this._toPattern(N)){var ee=Math.floor(Math.max(0,T-(ae-T)/4));if(this._matchRange(ee,T,0))return{start:T,end:ae}}T+=N[0]+N[1];for(var ce=0;ce<4;ce++)N[ce]=N[ce+2];N[4]=0,N[5]=0,V--}else V++;N[V]=1,K=!K}return null}},{key:"_verifyEnd",value:function(I,T){return!(I===T||!this._row[T])}},{key:"_decodeExtended",value:function(I){for(var T=I.length,N=[],V=0;V<T;V++){var K=I[V];if(K>="a"&&K<="d"){if(V>T-2)return null;var ae=I[++V],ee=ae.charCodeAt(0),ce=void 0;switch(K){case"a":if(!(ae>="A"&&ae<="Z"))return null;ce=String.fromCharCode(ee-64);break;case"b":if(ae>="A"&&ae<="E")ce=String.fromCharCode(ee-38);else if(ae>="F"&&ae<="J")ce=String.fromCharCode(ee-11);else if(ae>="K"&&ae<="O")ce=String.fromCharCode(ee+16);else if(ae>="P"&&ae<="S")ce=String.fromCharCode(ee+43);else{if(!(ae>="T"&&ae<="Z"))return null;ce=String.fromCharCode(127)}break;case"c":if(ae>="A"&&ae<="O")ce=String.fromCharCode(ee-32);else{if("Z"!==ae)return null;ce=":"}break;case"d":if(!(ae>="A"&&ae<="Z"))return null;ce=String.fromCharCode(ee+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",ce),null}N.push(ce)}else N.push(K)}return N}},{key:"_matchCheckChar",value:function(I,T,N){var V=I.slice(0,T),K=V.length,ae=V.reduce(function(ee,ce,Ae){return ee+((-1*Ae+(K-1))%N+1)*Go.indexOf(ce.charCodeAt(0))},0);return Go[ae%47]===I[T].charCodeAt(0)}},{key:"_verifyChecksums",value:function(I){return this._matchCheckChar(I,I.length-2,20)&&this._matchCheckChar(I,I.length-1,15)}},{key:"decode",value:function(I,T){if(!(T=this._findStart()))return null;var N,V,K=new Uint16Array([0,0,0,0,0,0]),ae=[],ee=this._nextSet(this._row,T.end);do{K=this._toCounters(ee,K);var ce=this._toPattern(K);if(ce<0||null===(V=this._patternToChar(ce)))return null;ae.push(V),N=ee,ee+=qe.a.sum(K),ee=this._nextSet(this._row,ee)}while("*"!==V);return ae.pop(),ae.length&&this._verifyEnd(N,ee)&&this._verifyChecksums(ae)?(ae=ae.slice(0,ae.length-2),null===(ae=this._decodeExtended(ae))?null:{code:ae.join(""),start:T.start,end:ee,startInfo:T,decodedCodes:ae,format:this.FORMAT}):null}}]),z}(_e);function Xi(Y,se){var z=Object.keys(Y);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(Y);se&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(Y,T).enumerable})),z.push.apply(z,I)}return z}function _r(Y){for(var se=1;se<arguments.length;se++){var z=null!=arguments[se]?arguments[se]:{};se%2?Xi(Object(z),!0).forEach(function(I){ge()(Y,I,z[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(z)):Xi(Object(z)).forEach(function(I){Object.defineProperty(Y,I,Object.getOwnPropertyDescriptor(z,I))})}return Y}var yi=[1,1,1],ks=[1,1,1,1,1],lr=[1,1,2],yt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Fs=[0,11,13,14,19,25,28,21,22,26],_n=function(Y){Ce()(z,Y);var se=function oa(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(I,T){var N;return bt()(this,z),N=se.call(this,te()({supplements:[]},I),T),ge()(be()(N),"FORMAT","ean_13"),ge()(be()(N),"SINGLE_CODE_ERROR",.7),ge()(be()(N),"STOP_PATTERN",[1,1,1]),N}return Xe()(z,[{key:"_findPattern",value:function(I,T,N,V){var K=new Array(I.length).fill(0),ae={error:Number.MAX_VALUE,start:0,end:0},ee=0;T||(T=this._nextSet(this._row));for(var ce=!1,Ae=T;Ae<this._row.length;Ae++)if(this._row[Ae]^(N?1:0))K[ee]+=1;else{if(ee===K.length-1){var H=this._matchPattern(K,I);if(H<.48&&ae.error&&H<ae.error)return ce=!0,ae.error=H,ae.start=Ae-K.reduce(function(J,Ve){return J+Ve},0),ae.end=Ae,ae;if(V){for(var ne=0;ne<K.length-2;ne++)K[ne]=K[ne+2];K[K.length-2]=0,K[K.length-1]=0,ee--}}else ee++;K[ee]=1,N=!N}return ce?ae:null}},{key:"_decodeCode",value:function(I,T){var N=[0,0,0,0],K={error:Number.MAX_VALUE,code:-1,start:I,end:I},ae=!this._row[I],ee=0;T||(T=yt.length);for(var ce=I;ce<this._row.length;ce++)if(this._row[ce]^(ae?1:0))N[ee]++;else{if(ee===N.length-1){for(var Ae=0;Ae<T;Ae++){var H=this._matchPattern(N,yt[Ae]);K.end=ce,H<K.error&&(K.code=Ae,K.error=H)}return K.error>.48?null:K}N[++ee]=1,ae=!ae}return null}},{key:"_findStart",value:function(){for(var I=this._nextSet(this._row),T=null;!T;){if(!(T=this._findPattern(yi,I,!1,!0)))return null;var N=T.start-(T.end-T.start);if(N>=0&&this._matchRange(N,T.start,0))return T;I=T.end,T=null}return null}},{key:"_calculateFirstDigit",value:function(I){for(var T=0;T<Fs.length;T++)if(I===Fs[T])return T;return null}},{key:"_decodePayload",value:function(I,T,N){for(var V=_r({},I),K=0,ae=0;ae<6;ae++){if(!(V=this._decodeCode(V.end)))return null;V.code>=10?(V.code-=10,K|=1<<5-ae):K|=0<<5-ae,T.push(V.code),N.push(V)}var ee=this._calculateFirstDigit(K);if(null===ee)return null;T.unshift(ee);var ce=this._findPattern(ks,V.end,!0,!1);if(null===ce||!ce.end)return null;N.push(ce);for(var Ae=0;Ae<6;Ae++){if(!(ce=this._decodeCode(ce.end,10)))return null;N.push(ce),T.push(ce.code)}return ce}},{key:"_verifyTrailingWhitespace",value:function(I){var T=I.end+(I.end-I.start);return T<this._row.length&&this._matchRange(I.end,T,0)?I:null}},{key:"_findEnd",value:function(I,T){var N=this._findPattern(this.STOP_PATTERN,I,T,!1);return null!==N?this._verifyTrailingWhitespace(N):null}},{key:"_checksum",value:function(I){for(var T=0,N=I.length-2;N>=0;N-=2)T+=I[N];T*=3;for(var V=I.length-1;V>=0;V-=2)T+=I[V];return T%10==0}},{key:"_decodeExtensions",value:function(I){var T=this._nextSet(this._row,I),N=this._findPattern(lr,T,!1,!1);if(null===N)return null;for(var V=0;V<this.supplements.length;V++)try{var K=this.supplements[V].decode(this._row,N.end);if(null!==K)return{code:K.code,start:T,startInfo:N,end:K.end,decodedCodes:K.decodedCodes,format:this.supplements[V].FORMAT}}catch(ae){console.error("* decodeExtensions error in ",this.supplements[V],": ",ae)}return null}},{key:"decode",value:function(I,T){var N=new Array,V=new Array,K={},ae=this._findStart();if(!ae)return null;var ee={start:ae.start,end:ae.end};if(V.push(ee),!(ee=this._decodePayload(ee,N,V))||!(ee=this._findEnd(ee.end,!1))||(V.push(ee),!this._checksum(N)))return null;if(this.supplements.length>0){var ce=this._decodeExtensions(ee.end);if(!ce||!ce.decodedCodes)return null;var Ae=ce.decodedCodes[ce.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:Ae.start+((Ae.end-Ae.start)/2|0),end:Ae.end}))return null;K={supplement:ce,code:N.join("")+ce.code}}return _r(_r({code:N.join(""),start:ae.start,end:ee.end,startInfo:ae,decodedCodes:V},K),{},{format:this.FORMAT})}}]),z}(_e);var $i=function(Y){Ce()(z,Y);var se=function Mn(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","ean_2"),I}return Xe()(z,[{key:"decode",value:function(I,T){I&&(this._row=I);var N=0,V=T,K=this._row.length,ae=[],ee=[],ce=null;if(void 0===V)return null;for(var Ae=0;Ae<2&&V<K;Ae++){if(!(ce=this._decodeCode(V)))return null;ee.push(ce),ae.push(ce.code%10),ce.code>=10&&(N|=1<<1-Ae),1!==Ae&&(V=this._nextSet(this._row,ce.end),V=this._nextUnset(this._row,V))}if(2!==ae.length||parseInt(ae.join(""))%4!==N)return null;var H=this._findStart();return{code:ae.join(""),decodedCodes:ee,end:ce.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),z}(_n);var aa=[24,20,18,17,12,6,3,10,9,5],En=function(Y){Ce()(z,Y);var se=function sa(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","ean_5"),I}return Xe()(z,[{key:"decode",value:function(I,T){if(void 0===T)return null;I&&(this._row=I);for(var N=0,V=T,K=this._row.length,ae=null,ee=[],ce=[],Ae=0;Ae<5&&V<K;Ae++){if(!(ae=this._decodeCode(V)))return null;ce.push(ae),ee.push(ae.code%10),ae.code>=10&&(N|=1<<4-Ae),4!==Ae&&(V=this._nextSet(this._row,ae.end),V=this._nextUnset(this._row,V))}if(5!==ee.length||function(ne){for(var J=ne.length,Ve=0,wt=J-2;wt>=0;wt-=2)Ve+=ne[wt];Ve*=3;for(var Lt=J-1;Lt>=0;Lt-=2)Ve+=ne[Lt];return(Ve*=3)%10}(ee)!==function(ne){for(var J=0;J<10;J++)if(ne===aa[J])return J;return null}(N))return null;var H=this._findStart();return{code:ee.join(""),decodedCodes:ce,end:ae.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),z}(_n);var Io=function(Y){Ce()(z,Y);var se=function Ii(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","ean_8"),I}return Xe()(z,[{key:"_decodePayload",value:function(I,T,N){for(var V=I,K=0;K<4;K++){if(!(V=this._decodeCode(V.end,10)))return null;T.push(V.code),N.push(V)}if(null===(V=this._findPattern(ks,V.end,!0,!1)))return null;N.push(V);for(var ae=0;ae<4;ae++){if(!(V=this._decodeCode(V.end,10)))return null;N.push(V),T.push(V.code)}return V}}]),z}(_n);var Ir=function(Y){Ce()(z,Y);var se=function Ia(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(I){var T;return bt()(this,z),T=se.call(this,te()({normalizeBarSpaceWidth:!1},I)),ge()(be()(T),"barSpaceRatio",[1,1]),ge()(be()(T),"SINGLE_CODE_ERROR",.78),ge()(be()(T),"AVG_CODE_ERROR",.38),ge()(be()(T),"START_PATTERN",[1,1,1,1]),ge()(be()(T),"STOP_PATTERN",[1,1,3]),ge()(be()(T),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),ge()(be()(T),"MAX_CORRECTION_FACTOR",5),ge()(be()(T),"FORMAT","i2of5"),I.normalizeBarSpaceWidth&&(T.SINGLE_CODE_ERROR=.38,T.AVG_CODE_ERROR=.09),T.config=I,we()(T,be()(T))}return Xe()(z,[{key:"_matchPattern",value:function(I,T){if(this.config.normalizeBarSpaceWidth){for(var N=[0,0],V=[0,0],K=[0,0],ae=this.MAX_CORRECTION_FACTOR,ee=1/ae,ce=0;ce<I.length;ce++)N[ce%2]+=I[ce],V[ce%2]+=T[ce];K[0]=V[0]/N[0],K[1]=V[1]/N[1],K[0]=Math.max(Math.min(K[0],ae),ee),K[1]=Math.max(Math.min(K[1],ae),ee),this.barSpaceRatio=K;for(var Ae=0;Ae<I.length;Ae++)I[Ae]*=this.barSpaceRatio[Ae%2]}return Gt()(Le()(z.prototype),"_matchPattern",this).call(this,I,T)}},{key:"_findPattern",value:function(I,T){var N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=arguments.length>3&&void 0!==arguments[3]&&arguments[3],K=new Array(I.length).fill(0),ae=0,ee={error:Number.MAX_VALUE,start:0,end:0},ce=this.AVG_CODE_ERROR;N=N||!1,V=V||!1,T||(T=this._nextSet(this._row));for(var Ae=T;Ae<this._row.length;Ae++)if(this._row[Ae]^(N?1:0))K[ae]++;else{if(ae===K.length-1){var H=K.reduce(function(Ve,wt){return Ve+wt},0),ne=this._matchPattern(K,I);if(ne<ce)return ee.error=ne,ee.start=Ae-H,ee.end=Ae,ee;if(!V)return null;for(var J=0;J<K.length-2;J++)K[J]=K[J+2];K[K.length-2]=0,K[K.length-1]=0,ae--}else ae++;K[ae]=1,N=!N}return null}},{key:"_findStart",value:function(){for(var I=0,T=this._nextSet(this._row),N=null,V=1;!N;){if(!(N=this._findPattern(this.START_PATTERN,T,!1,!0)))return null;if(V=Math.floor((N.end-N.start)/4),(I=N.start-10*V)>=0&&this._matchRange(I,N.start,0))return N;T=N.end,N=null}return null}},{key:"_verifyTrailingWhitespace",value:function(I){var T=I.end+(I.end-I.start)/2;return T<this._row.length&&this._matchRange(I.end,T,0)?I:null}},{key:"_findEnd",value:function(){this._row.reverse();var I=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===I)return null;var T=I.start;return I.start=this._row.length-I.end,I.end=this._row.length-T,null!==I?this._verifyTrailingWhitespace(I):null}},{key:"_decodePair",value:function(I){for(var T=[],N=0;N<I.length;N++){var V=this._decodeCode(I[N]);if(!V)return null;T.push(V)}return T}},{key:"_decodeCode",value:function(I){for(var T=this.AVG_CODE_ERROR,N={error:Number.MAX_VALUE,code:-1,start:0,end:0},V=0;V<this.CODE_PATTERN.length;V++){var K=this._matchPattern(I,this.CODE_PATTERN[V]);K<N.error&&(N.code=V,N.error=K)}return N.error<T?N:null}},{key:"_decodePayload",value:function(I,T,N){for(var V=0,K=I.length,ae=[[0,0,0,0,0],[0,0,0,0,0]],ee=null;V<K;){for(var ce=0;ce<5;ce++)ae[0][ce]=I[V]*this.barSpaceRatio[0],ae[1][ce]=I[V+1]*this.barSpaceRatio[1],V+=2;if(!(ee=this._decodePair(ae)))return null;for(var Ae=0;Ae<ee.length;Ae++)T.push(ee[Ae].code+""),N.push(ee[Ae])}return ee}},{key:"_verifyCounterLength",value:function(I){return I.length%10==0}},{key:"decode",value:function(I,T){var N=new Array,V=new Array,K=this._findStart();if(!K)return null;V.push(K);var ae=this._findEnd();if(!ae)return null;var ee=this._fillCounters(K.end,ae.start,!1);return this._verifyCounterLength(ee)&&this._decodePayload(ee,N,V)?N.length%2!=0||N.length<6?null:(V.push(ae),{code:N.join(""),start:K.start,end:ae.end,startInfo:K,decodedCodes:V,format:this.FORMAT}):null}}]),z}(_e);function Ls(Y,se){var z=Object.keys(Y);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(Y);se&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(Y,T).enumerable})),z.push.apply(z,I)}return z}var Yi=function(Y){Ce()(z,Y);var se=function Xo(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),ge()(be()(I),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),ge()(be()(I),"FORMAT","upc_e"),I}return Xe()(z,[{key:"_decodePayload",value:function(I,T,N){for(var V=function(ee){for(var ce=1;ce<arguments.length;ce++){var Ae=null!=arguments[ce]?arguments[ce]:{};ce%2?Ls(Object(Ae),!0).forEach(function(H){ge()(ee,H,Ae[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Ae)):Ls(Object(Ae)).forEach(function(H){Object.defineProperty(ee,H,Object.getOwnPropertyDescriptor(Ae,H))})}return ee}({},I),K=0,ae=0;ae<6;ae++){if(!(V=this._decodeCode(V.end)))return null;V.code>=10&&(V.code=V.code-10,K|=1<<5-ae),T.push(V.code),N.push(V)}return this._determineParity(K,T)?V:null}},{key:"_determineParity",value:function(I,T){for(var N=0;N<this.CODE_FREQUENCY.length;N++)for(var V=0;V<this.CODE_FREQUENCY[N].length;V++)if(I===this.CODE_FREQUENCY[N][V])return T.unshift(N),T.push(V),!0;return!1}},{key:"_convertToUPCA",value:function(I){var T=[I[0]],N=I[I.length-2];return(T=N<=2?T.concat(I.slice(1,3)).concat([N,0,0,0,0]).concat(I.slice(3,6)):3===N?T.concat(I.slice(1,4)).concat([0,0,0,0,0]).concat(I.slice(4,6)):4===N?T.concat(I.slice(1,5)).concat([0,0,0,0,0,I[5]]):T.concat(I.slice(1,6)).concat([0,0,0,0,N])).push(I[I.length-1]),T}},{key:"_checksum",value:function(I){return Gt()(Le()(z.prototype),"_checksum",this).call(this,this._convertToUPCA(I))}},{key:"_findEnd",value:function(I,T){return Gt()(Le()(z.prototype),"_findEnd",this).call(this,I,!0)}},{key:"_verifyTrailingWhitespace",value:function(I){var T=I.end+(I.end-I.start)/2;return T<this._row.length&&this._matchRange(I.end,T,0)?I:null}}]),z}(_n);var _i=function(Y){Ce()(z,Y);var se=function ms(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(){var I;bt()(this,z);for(var T=arguments.length,N=new Array(T),V=0;V<T;V++)N[V]=arguments[V];return I=se.call.apply(se,[this].concat(N)),ge()(be()(I),"FORMAT","upc_a"),I}return Xe()(z,[{key:"decode",value:function(I,T){var N=_n.prototype.decode.call(this);return N&&N.code&&13===N.code.length&&"0"===N.code.charAt(0)?(N.code=N.code.substring(1),N):null}}]),z}(_n),ri={},Di_UP=1,Di_DOWN=-1;ri.getBarcodeLine=function(Y,se,z){var I,T,N,V,K,ae=0|se.x,ee=0|se.y,ce=0|z.x,Ae=0|z.y,H=Math.abs(Ae-ee)>Math.abs(ce-ae),ne=[],J=Y.data,Ve=Y.size.x,wt=255,Lt=0;function Ne(Qn,Yo){wt=(K=J[Yo*Ve+Qn])<wt?K:wt,Lt=K>Lt?K:Lt,ne.push(K)}H&&(N=ae,ae=ee,ee=N,N=ce,ce=Ae,Ae=N),ae>ce&&(N=ae,ae=ce,ce=N,N=ee,ee=Ae,Ae=N);var vt=ce-ae,Ot=Math.abs(Ae-ee);I=vt/2|0,T=ee;var Fn=ee<Ae?1:-1;for(V=ae;V<ce;V++)H?Ne(T,V):Ne(V,T),(I-=Ot)<0&&(T+=Fn,I+=vt);return{line:ne,min:wt,max:Lt}},ri.toBinaryLine=function(Y){var se,z,I,T,N,V,K=Y.min,ae=Y.max,ee=Y.line,ce=K+(ae-K)/2,Ae=[],H=(ae-K)/12,ne=-H;for(I=ee[0]>ce?Di_UP:Di_DOWN,Ae.push({pos:0,val:ee[0]}),N=0;N<ee.length-2;N++)I!==(T=(se=ee[N+1]-ee[N])+(z=ee[N+2]-ee[N+1])<ne&&ee[N+1]<1.5*ce?Di_DOWN:se+z>H&&ee[N+1]>.5*ce?Di_UP:I)&&(Ae.push({pos:N,val:ee[N]}),I=T);for(Ae.push({pos:ee.length,val:ee[ee.length-1]}),V=Ae[0].pos;V<Ae[1].pos;V++)ee[V]=ee[V]>ce?0:1;for(N=1;N<Ae.length-1;N++)for(H=Ae[N+1].val>Ae[N].val?Ae[N].val+(Ae[N+1].val-Ae[N].val)/3*2|0:Ae[N+1].val+(Ae[N].val-Ae[N+1].val)/3|0,V=Ae[N].pos;V<Ae[N+1].pos;V++)ee[V]=ee[V]>H?0:1;return{line:ee,threshold:H}},ri.debug={printFrequency:function(Y,se){var z,I=se.getContext("2d");for(se.width=Y.length,se.height=256,I.beginPath(),I.strokeStyle="blue",z=0;z<Y.length;z++)I.moveTo(z,255),I.lineTo(z,255-Y[z]);I.stroke(),I.closePath()},printPattern:function(Y,se){var z,I=se.getContext("2d");for(se.width=Y.length,I.fillColor="black",z=0;z<Y.length;z++)1===Y[z]&&I.fillRect(z,0,1,100)}};var vs=ri;function xi(Y,se){var z=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!z){if(Array.isArray(Y)||(z=function(ae,ee){if(ae){if("string"==typeof ae)return Zi(ae,undefined);var ce=Object.prototype.toString.call(ae).slice(8,-1);if("Object"===ce&&ae.constructor&&(ce=ae.constructor.name),"Map"===ce||"Set"===ce)return Array.from(ae);if("Arguments"===ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return Zi(ae,undefined)}}(Y))||se&&Y&&"number"==typeof Y.length){z&&(Y=z);var I=0,T=function(){};return{s:T,n:function(){return I>=Y.length?{done:!0}:{done:!1,value:Y[I++]}},e:function(ae){throw ae},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,V=!0,K=!1;return{s:function(){z=z.call(Y)},n:function(){var ae=z.next();return V=ae.done,ae},e:function(ae){K=!0,N=ae},f:function(){try{V||null==z.return||z.return()}finally{if(K)throw N}}}}function Zi(Y,se){(null==se||se>Y.length)&&(se=Y.length);for(var z=0,I=new Array(se);z<se;z++)I[z]=Y[z];return I}var Mi={code_128_reader:Pt,ean_reader:_n,ean_5_reader:En,ean_2_reader:$i,ean_8_reader:Io,code_39_reader:lo,code_39_vin_reader:So,codabar_reader:gt,upc_reader:_i,upc_e_reader:Yi,i2of5_reader:Ir,"2of5_reader":$e,code_93_reader:Ps,code_32_reader:yn},At={registerReader:function(Y,se){Mi[Y]=se},create:function(Y,se){var I=[];function T(){Y.readers.forEach(function(ee){var ce,Ae={},H=[];"object"===j()(ee)?(ce=ee.format,Ae=ee.config):"string"==typeof ee&&(ce=ee),Ae.supplements&&(H=Ae.supplements.map(function(J){return new Mi[J]}));try{var ne=new Mi[ce](Ae,H);I.push(ne)}catch(J){throw console.error("* Error constructing reader ",ce,J),J}})}function N(ee){var ce,Ae=null,H=vs.getBarcodeLine(se,ee[0],ee[1]);for(vs.toBinaryLine(H),ce=0;ce<I.length&&null===Ae;ce++)Ae=I[ce].decodePattern(H.line);return null===Ae?null:{codeResult:Ae,barcodeLine:H}}function V(ee){return K.apply(this,arguments)}function K(){return(K=ue()(Fe.a.mark(function ee(ce){var Ae,H,ne,J;return Fe.a.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:Ae=null,H=xi(I),Ve.prev=2,H.s();case 4:if((ne=H.n()).done){Ve.next=14;break}if(!(J=ne.value).decodeImage){Ve.next=12;break}return Ve.next=9,J.decodeImage(ce);case 9:if(!(Ae=Ve.sent)){Ve.next=12;break}return Ve.abrupt("break",14);case 12:Ve.next=4;break;case 14:Ve.next=19;break;case 16:Ve.prev=16,Ve.t0=Ve.catch(2),H.e(Ve.t0);case 19:return Ve.prev=19,H.f(),Ve.finish(19);case 22:return Ve.abrupt("return",Ae);case 23:case"end":return Ve.stop()}},ee,null,[[2,16,19,22]])}))).apply(this,arguments)}function ae(ee){var ce,Ae,J,H=function(J){return Math.sqrt(Math.pow(Math.abs(J[1].y-J[0].y),2)+Math.pow(Math.abs(J[1].x-J[0].x),2))}(ce=[{x:((J=ee)[1][0]-J[0][0])/2+J[0][0],y:(J[1][1]-J[0][1])/2+J[0][1]},{x:(J[3][0]-J[2][0])/2+J[2][0],y:(J[3][1]-J[2][1])/2+J[2][1]}]),ne=Math.atan2(ce[1].y-ce[0].y,ce[1].x-ce[0].x);return null===(ce=function(J,Ve,wt){function Lt(Ne){var vt=Ne*Math.sin(Ve),Ot=Ne*Math.cos(Ve);J[0].y-=vt,J[0].x-=Ot,J[1].y+=vt,J[1].x+=Ot}for(Lt(wt);wt>1&&(!se.inImageWithBorder(J[0])||!se.inImageWithBorder(J[1]));)Lt(-(wt-=Math.ceil(wt/2)));return J}(ce,ne,Math.floor(.1*H)))?null:(null===(Ae=N(ce))&&(Ae=function(J,Ve,wt){var Lt,Ne,vt,Ot=Math.sqrt(Math.pow(J[1][0]-J[0][0],2)+Math.pow(J[1][1]-J[0][1],2)),Fn=null,Qn=Math.sin(wt),Yo=Math.cos(wt);for(Lt=1;Lt<16&&null===Fn;Lt++)vt={y:(Ne=Ot/16*Lt*(Lt%2==0?-1:1))*Qn,x:Ne*Yo},Ve[0].y+=vt.x,Ve[0].x-=vt.y,Ve[1].y+=vt.x,Ve[1].x-=vt.y,Fn=N(Ve);return Fn}(ee,ce,ne)),null===Ae?null:{codeResult:Ae.codeResult,line:ce,angle:ne,pattern:Ae.barcodeLine.line,threshold:Ae.barcodeLine.threshold})}return T(),{decodeFromBoundingBox:function(ee){return ae(ee)},decodeFromBoundingBoxes:function(ee){var ce,Ae,H=[],ne=Y.multiple;for(ce=0;ce<ee.length;ce++){var J=ee[ce];if((Ae=ae(J)||{}).box=J,ne)H.push(Ae);else if(Ae.codeResult)return Ae}return{barcodes:H}},decodeFromImage:function(ee){return ue()(Fe.a.mark(function ce(){return Fe.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,V(ee);case 2:return H.abrupt("return",H.sent);case 4:case"end":return H.stop()}},ce)}))()},registerReader:function(ee,ce){if(Mi[ee])throw new Error("cannot register existing reader",ee);Mi[ee]=ce},setReaders:function(ee){Y.readers=ee,I.length=0,T()}}}},Hn=function(){var Y={};function se(T){return Y[T]||(Y[T]={subscribers:[]}),Y[T]}function z(T,N){T.async?setTimeout(function(){T.callback(N)},4):T.callback(N)}function I(T,N,V){var K;if("function"==typeof N)K={callback:N,async:V};else if(!(K=N).callback)throw new Error("Callback was not specified on options");se(T).subscribers.push(K)}return{subscribe:function(T,N,V){return I(T,N,V)},publish:function(T,N){var V=se(T),K=V.subscribers;K.filter(function(ae){return!!ae.once}).forEach(function(ae){z(ae,N)}),V.subscribers=K.filter(function(ae){return!ae.once}),V.subscribers.forEach(function(ae){z(ae,N)})},once:function(T,N){I(T,{callback:N,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(T,N){if(T){var V=se(T);V.subscribers=V&&N?V.subscribers.filter(function(K){return K.callback!==N}):[]}else Y={}}}}(),Bs=E(63),bi=E.n(Bs),tc=E(64);var Kr,Vs=function(Y){Ce()(z,Y);var se=function nc(Y){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,I=Le()(Y);if(se){var T=Le()(this).constructor;z=Reflect.construct(I,arguments,T)}else z=I.apply(this,arguments);return we()(this,z)}}(z);function z(I,T){var N;return bt()(this,z),N=se.call(this,I),ge()(be()(N),"code",void 0),N.code=T,Object.setPrototypeOf(be()(N),z.prototype),N}return Xe()(z)}(E.n(tc)()(Error)),Da="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function qi(){try{return navigator.mediaDevices.enumerateDevices()}catch{var Y=new Vs("enumerateDevices is not defined. ".concat(Da),-1);return Promise.reject(Y)}}function rc(Y){try{return navigator.mediaDevices.getUserMedia(Y)}catch{var se=new Vs("getUserMedia is not defined. ".concat(Da),-1);return Promise.reject(se)}}function Cr(Y){return new Promise(function(se,z){var I=10;!function T(){I>0?Y.videoWidth>10&&Y.videoHeight>10?se():window.setTimeout(T,500):z(new Vs("Unable to play video stream. Is webcam working?",-1)),I--}()})}function ii(Y,se){return Qr.apply(this,arguments)}function Qr(){return(Qr=ue()(Fe.a.mark(function Y(se,z){var I;return Fe.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,rc(z);case 2:if(Kr=I=T.sent,!se){T.next=11;break}return se.setAttribute("autoplay","true"),se.setAttribute("muted","true"),se.setAttribute("playsinline","true"),se.srcObject=I,se.addEventListener("loadedmetadata",function(){se.play().catch(function(N){console.warn("* Error while trying to play video stream:",N)})}),T.abrupt("return",Cr(se));case 11:return T.abrupt("return",Promise.resolve());case 12:case"end":return T.stop()}},Y)}))).apply(this,arguments)}function $o(){var se=function Do(Y){var se=bi()(Y,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==Y.minAspectRatio&&Y.minAspectRatio>0&&(se.aspectRatio=Y.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==Y.facing&&(se.facingMode=Y.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),se}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return se&&se.deviceId&&se.facingMode&&delete se.facingMode,Promise.resolve({audio:!1,video:se})}function nt(){return(nt=ue()(Fe.a.mark(function Y(){return Fe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,qi();case 2:return z.abrupt("return",z.sent.filter(function(I){return"videoinput"===I.kind}));case 4:case"end":return z.stop()}},Y)}))).apply(this,arguments)}function Mo(){if(!Kr)return null;var Y=Kr.getVideoTracks();return Y&&null!=Y&&Y.length?Y[0]:null}var Tn={requestedVideoElement:null,request:function(Y,se){return ue()(Fe.a.mark(function z(){return Fe.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return Tn.requestedVideoElement=Y,T.next=3,$o(se);case 3:return T.abrupt("return",ii(Y,T.sent));case 5:case"end":return T.stop()}},z)}))()},release:function(){var Y=Kr&&Kr.getVideoTracks();return null!==Tn.requestedVideoElement&&Tn.requestedVideoElement.pause(),new Promise(function(se){setTimeout(function(){Y&&Y.length&&Y.forEach(function(z){return z.stop()}),Kr=null,Tn.requestedVideoElement=null,se()},0)})},enumerateVideoDevices:function(){return nt.apply(this,arguments)},getActiveStreamLabel:function(){var Y=Mo();return Y?Y.label:""},getActiveTrack:Mo,disableTorch:function(){return ue()(Fe.a.mark(function Y(){var se;return Fe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(se=Mo())){z.next=11;break}return z.prev=2,z.next=5,se.applyConstraints({advanced:[{torch:!1}]});case 5:z.next=11;break;case 7:throw z.prev=7,z.t0=z.catch(2),z.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),z.t0;case 11:case"end":return z.stop()}},Y,null,[[2,7]])}))()},enableTorch:function(){return ue()(Fe.a.mark(function Y(){var se;return Fe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(se=Mo())){z.next=11;break}return z.prev=2,z.next=5,se.applyConstraints({advanced:[{torch:!0}]});case 5:z.next=11;break;case 7:throw z.prev=7,z.t0=z.catch(2),z.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),z.t0;case 11:case"end":return z.stop()}},Y,null,[[2,7]])}))()}},oi=Tn,Ma={create:function(Y){var se,z=document.createElement("canvas"),I=z.getContext("2d",{willReadFrequently:!!Y.willReadFrequently}),T=[],N=null!==(se=Y.capacity)&&void 0!==se?se:20,V=!0===Y.capture;return{addResult:function(ae,ee,ce){var Ae={};(function K(ae){return!!N&&ae&&(ee=ae,!((ce=Y.blacklist)&&ce.some(function(Ae){return Object.keys(Ae).every(function(H){return Ae[H]===ee[H]})})))&&function(ee,ce){return"function"!=typeof ce||ce(ee)}(ae,Y.filter);var ee,ce})(ce)&&(N--,Ae.codeResult=ce,V&&(z.width=ee.x,z.height=ee.y,ft.a.drawImage(ae,ee,I),Ae.frame=z.toDataURL()),T.push(Ae))},getResults:function(){return T}}}},In={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},on=E(5),an=E(10),Us=Math.PI/180,js={create:function(Y,se){var z,I={},T=Y.getConfig(),N=(Object(an.h)(Y.getRealWidth(),Y.getRealHeight()),Y.getCanvasSize()),V=Object(an.h)(Y.getWidth(),Y.getHeight()),K=Y.getTopRight(),ae=K.x,ee=K.y,ce=null,Ae=null,H=T.willReadFrequently;return(z=se||document.createElement("canvas")).width=N.x,z.height=N.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",z),ce=z.getContext("2d",{willReadFrequently:!!H}),Ae=new Uint8Array(V.x*V.y),I.attachData=function(ne){Ae=ne},I.getData=function(){return Ae},I.grab=function(){var ne,Ne,vt,J=T.halfSample,Ve=Y.getFrame(),wt=Ve,Lt=0;if(wt){if((Ne=z).width!==(vt=N).x&&(Ne.width=vt.x),Ne.height!==vt.y&&(Ne.height=vt.y),"ImageStream"===T.type&&(wt=Ve.img,Ve.tags&&Ve.tags.orientation))switch(Ve.tags.orientation){case 6:Lt=90*Us;break;case 8:Lt=-90*Us}return 0!==Lt?(ce.translate(N.x/2,N.y/2),ce.rotate(Lt),ce.drawImage(wt,-N.y/2,-N.x/2,N.y,N.x),ce.rotate(-Lt),ce.translate(-N.x/2,-N.y/2)):ce.drawImage(wt,0,0,N.x,N.y),ne=ce.getImageData(ae,ee,V.x,V.y).data,J?Object(an.e)(ne,V,Ae):Object(an.c)(ne,Ae,T),!0}return!1},I.getSize=function(){return V},I}},ca=js,ar={274:"orientation"},Ki=Object.keys(ar).map(function(Y){return ar[Y]});function ic(Y){return new Promise(function(se){var z=new FileReader;z.onload=function(I){return se(I.target.result)},z.readAsArrayBuffer(Y)})}function si(Y,se,z){if("Exif"!==function(V,K,ae){for(var ee="",ce=K;ce<K+4;ce++)ee+=String.fromCharCode(V.getUint8(ce));return ee}(Y,se))return!1;var I,T=se+6;if(18761===Y.getUint16(T))I=!1;else{if(19789!==Y.getUint16(T))return!1;I=!0}if(42!==Y.getUint16(T+2,!I))return!1;var N=Y.getUint32(T+4,!I);return!(N<8)&&function(V,K,ae,ee,ce){for(var Ae=V.getUint16(ae,!ce),H={},ne=0;ne<Ae;ne++){var J=ae+12*ne+2,Ve=ee[V.getUint16(J,!ce)];Ve&&(H[Ve]=Yt(V,J,0,0,ce))}return H}(Y,0,T+N,z,I)}function Yt(Y,se,z,I,T){var N=Y.getUint16(se+2,!T),V=Y.getUint32(se+4,!T);return 3===N&&1===V?Y.getUint16(se+8,!T):null}var kn={};function ur(Y,se){Y.onload=function(){se.loaded(this)}}kn.load=function(Y,se,z,I,T){var N,V,K,ae=new Array(I),ee=new Array(ae.length);if(!1===T)ae[0]=Y;else for(N=0;N<ae.length;N++)K=z+N,ae[N]="".concat(Y,"image-").concat("00".concat(K).slice(-3),".jpg");for(ee.notLoaded=[],ee.addImage=function(ce){ee.notLoaded.push(ce)},ee.loaded=function(ce){for(var Ae=ee.notLoaded,H=0;H<Ae.length;H++)if(Ae[H]===ce){Ae.splice(H,1);for(var ne=0;ne<ae.length;ne++){var J=ae[ne].substr(ae[ne].lastIndexOf("/"));if(-1!==ce.src.lastIndexOf(J)){ee[ne]={img:ce};break}}break}0===Ae.length&&(!1===T?function(Ve){var wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki;return/^blob:/i.test(Ve)?function un(Y){return new Promise(function(se,z){var I=new XMLHttpRequest;I.open("GET",Y,!0),I.responseType="blob",I.onreadystatechange=function(){I.readyState!==XMLHttpRequest.DONE||200!==I.status&&0!==I.status||se(this.response)},I.onerror=z,I.send()})}(Ve).then(ic).then(function(Lt){return function ys(Y){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki,z=new DataView(Y),I=Y.byteLength,T=se.reduce(function(V,K){var ae=Object.keys(ar).filter(function(ee){return ar[ee]===K})[0];return ae&&(V[ae]=K),V},{}),N=2;if(255!==z.getUint8(0)||216!==z.getUint8(1))return!1;for(;N<I;){if(255!==z.getUint8(N))return!1;if(225===z.getUint8(N+1))return si(z,N+4,T);N+=2+z.getUint16(N+2)}return!1}(Lt,wt)}):Promise.resolve(null)}(Y,["orientation"]).then(function(Ve){ee[0].tags=Ve,se(ee)}).catch(function(Ve){console.log(Ve),se(ee)}):se(ee))},N=0;N<ae.length;N++)V=new Image,ee.addImage(V),ur(V,ee),V.src=ae[N]};var Me=kn,Q={createVideoStream:function(Y){console.warn("**** InputStreamBrowser createVideoStream");var se,z,I=null,T=["canrecord","ended"],N={},V={x:0,y:0,type:"Point"},K={x:0,y:0,type:"XYSize"},ae={getRealWidth:function(){return Y.videoWidth},getRealHeight:function(){return Y.videoHeight},getWidth:function(){return se},getHeight:function(){return z},setWidth:function(ee){se=ee},setHeight:function(ee){z=ee},setInputStream:function(ee){I=ee,this.setAttribute("src",void 0!==ee.src?ee.src:"")},ended:function(){return Y.ended},getConfig:function(){return I},setAttribute:function(ee,ce){Y&&Y.setAttribute(ee,ce)},pause:function(){Y.pause()},play:function(){Y.play()},setCurrentTime:function(ee){var ce;"LiveStream"!==(null===(ce=I)||void 0===ce?void 0:ce.type)&&this.setAttribute("currentTime",ee.toString())},addEventListener:function(ee,ce,Ae){-1!==T.indexOf(ee)?(N[ee]||(N[ee]=[]),N[ee].push(ce)):Y.addEventListener(ee,ce,Ae)},clearEventHandlers:function(){T.forEach(function(ee){var ce=N[ee];ce&&ce.length>0&&ce.forEach(function(Ae){Y.removeEventListener(ee,Ae)})})},trigger:function(ee,ce){var Ae,H,ne,J,Ve,wt=N[ee];if("canrecord"===ee&&(J=Y.videoWidth,Ve=Y.videoHeight,se=null!==(H=I)&&void 0!==H&&H.size?J/Ve>1?I.size:Math.floor(J/Ve*I.size):J,z=null!==(ne=I)&&void 0!==ne&&ne.size?J/Ve>1?Math.floor(Ve/J*I.size):I.size:Ve,K.x=se,K.y=z),wt&&wt.length>0)for(Ae=0;Ae<wt.length;Ae++)wt[Ae].apply(ae,ce)},setTopRight:function(ee){V.x=ee.x,V.y=ee.y},getTopRight:function(){return V},setCanvasSize:function(ee){K.x=ee.x,K.y=ee.y},getCanvasSize:function(){return K},getFrame:function(){return Y}};return ae},createLiveStream:function(Y){console.warn("**** InputStreamBrowser createLiveStream"),Y&&Y.setAttribute("autoplay","true");var se=Q.createVideoStream(Y);return se.ended=function(){return!1},se},createImageStream:function(){var Y,se,z=null,I=0,T=0,N=0,V=!0,K=!1,ae=null,ee=0,ce=null,Ae=!1,H=["canrecord","ended"],ne={},J={x:0,y:0,type:"Point"},Ve={x:0,y:0,type:"XYSize"};function wt(Ne,vt){var Ot,Fn=ne[Ne];if(Fn&&Fn.length>0)for(Ot=0;Ot<Fn.length;Ot++)Fn[Ot].apply(Lt,vt)}var Lt={trigger:wt,getWidth:function(){return Y},getHeight:function(){return se},setWidth:function(Ne){Y=Ne},setHeight:function(Ne){se=Ne},getRealWidth:function(){return I},getRealHeight:function(){return T},setInputStream:function(Ne){var vt;!1===Ne.sequence?(ce=Ne.src,ee=1):(ce=Ne.src,ee=Ne.length),K=!1,Me.load(ce,function(Ot){var Fn,Qn;if(ae=Ot,Ot[0].tags&&Ot[0].tags.orientation)switch(Ot[0].tags.orientation){case 6:case 8:I=Ot[0].img.height,T=Ot[0].img.width;break;default:I=Ot[0].img.width,T=Ot[0].img.height}else I=Ot[0].img.width,T=Ot[0].img.height;Y=null!==(Fn=z)&&void 0!==Fn&&Fn.size?I/T>1?z.size:Math.floor(I/T*z.size):I,se=null!==(Qn=z)&&void 0!==Qn&&Qn.size?I/T>1?Math.floor(T/I*z.size):z.size:T,Ve.x=Y,Ve.y=se,K=!0,N=0,setTimeout(function(){wt("canrecord",[])},0)},1,ee,null===(vt=z=Ne)||void 0===vt?void 0:vt.sequence)},ended:function(){return Ae},setAttribute:function(){},getConfig:function(){return z},pause:function(){V=!0},play:function(){V=!1},setCurrentTime:function(Ne){N=Ne},addEventListener:function(Ne,vt){-1!==H.indexOf(Ne)&&(ne[Ne]||(ne[Ne]=[]),ne[Ne].push(vt))},clearEventHandlers:function(){Object.keys(ne).forEach(function(Ne){return delete ne[Ne]})},setTopRight:function(Ne){J.x=Ne.x,J.y=Ne.y},getTopRight:function(){return J},setCanvasSize:function(Ne){Ve.x=Ne.x,Ve.y=Ne.y},getCanvasSize:function(){return Ve},getFrame:function(){var Ne,vt;return K?(V||(Ne=null===(vt=ae)||void 0===vt?void 0:vt[N],N<ee-1?N++:setTimeout(function(){Ae=!0,wt("ended",[])},0)),Ne):null}};return Lt}},Ht=Q,Qt=E(23),Jr=Xe()(function Y(){bt()(this,Y),ge()(this,"config",void 0),ge()(this,"inputStream",void 0),ge()(this,"framegrabber",void 0),ge()(this,"inputImageWrapper",void 0),ge()(this,"stopped",!1),ge()(this,"boxSize",void 0),ge()(this,"resultCollector",void 0),ge()(this,"decoder",void 0),ge()(this,"workerPool",[]),ge()(this,"onUIThread",!0),ge()(this,"canvasContainer",new R)}),xr=Xe()(function Y(){bt()(this,Y),ge()(this,"image",void 0),ge()(this,"overlay",void 0)}),R=Xe()(function Y(){bt()(this,Y),ge()(this,"ctx",void 0),ge()(this,"dom",void 0),this.ctx=new xr,this.dom=new xr});function W(Y){return typeof document>"u"?null:Y instanceof HTMLElement&&Y.nodeName&&1===Y.nodeType?Y:document.querySelector("string"==typeof Y?Y:"#interactive.viewport")}function X(Y,se,z){var V,K,I=(V=se,(K=document.querySelector(Y))||((K=document.createElement("canvas")).className=V),K);console.warn("* initCanvas getCanvasAndContext");var T=I.getContext("2d",{willReadFrequently:z.willReadFrequently});return{canvas:I,context:T}}function ze(Y,se){var z=Object.keys(Y);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(Y);se&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(Y,T).enumerable})),z.push.apply(z,I)}return z}function at(Y){for(var se=1;se<arguments.length;se++){var z=null!=arguments[se]?arguments[se]:{};se%2?ze(Object(z),!0).forEach(function(I){ge()(Y,I,z[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(z)):ze(Object(z)).forEach(function(I){Object.defineProperty(Y,I,Object.getOwnPropertyDescriptor(z,I))})}return Y}on.a.setMatrixArrayType(Array);var St=[];function Xt(Y){return at(at({},Y),{},{inputStream:at(at({},Y.inputStream),{},{target:null})})}function Te(Y){if(Y){var se=Y().default;if(!se)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var z;function I(N){self.postMessage({event:"processed",imageData:z.data,result:N},[z.data.buffer])}function T(){self.postMessage({event:"initialized",imageData:z.data},[z.data.buffer])}self.onmessage=function(N){if("init"===N.data.cmd){var V=N.data.config;V.numOfWorkers=0,z=new se.ImageWrapper({x:N.data.size.x,y:N.data.size.y},new Uint8Array(N.data.imageData)),se.init(V,T,z),se.onProcessed(I)}else"process"===N.data.cmd?(z.data=new Uint8Array(N.data.imageData),se.start()):"setReaders"===N.data.cmd?se.setReaders(N.data.readers):"registerReader"===N.data.cmd&&se.registerReader(N.data.name,N.data.reader)}}function Zn(Y,se,z){var I,T,N=(typeof __factorySource__<"u"&&(T=__factorySource__),I=new Blob(["("+Te.toString()+")("+T+");"],{type:"text/javascript"}),window.URL.createObjectURL(I)),V={worker:new Worker(N),imageData:new Uint8Array(se.getWidth()*se.getHeight()),busy:!0};V.worker.onmessage=function(K){"initialized"===K.data.event?(URL.revokeObjectURL(N),V.busy=!1,V.imageData=new Uint8Array(K.data.imageData),z(V)):"processed"===K.data.event&&(V.imageData=new Uint8Array(K.data.imageData),V.busy=!1,typeof publishResult<"u"&&publishResult(K.data.result,V.imageData))},V.worker.postMessage({cmd:"init",size:{x:se.getWidth(),y:se.getHeight()},imageData:V.imageData,config:Xt(Y)},[V.imageData.buffer])}function Bt(Y,se,z,I){var T=Y-St.length;if(0===T&&I)I();else if(T<0)St.slice(T).forEach(function(K){K.worker.terminate()}),St=St.slice(0,T),I&&I();else{var N=function(K){St.push(K),St.length>=Y&&I&&I()};if(se)for(var V=0;V<T;V++)Zn(se,z,N)}}function nn(Y,se,z){for(var I=Y.length;I--;)Y[I][0]+=se,Y[I][1]+=z}on.a.setMatrixArrayType(Array);var Dr=function(){function Y(){var I=this;bt()(this,Y),ge()(this,"context",new Jr),ge()(this,"canRecord",function(T){var N;I.context.config&&(Qt.a.checkImageConstraints(I.context.inputStream,null===(N=I.context.config)||void 0===N?void 0:N.locator),I.initCanvas(),I.context.framegrabber=ca.create(I.context.inputStream,I.context.canvasContainer.dom.image),void 0===I.context.config.numOfWorkers&&(I.context.config.numOfWorkers=0),Bt(I.context.config.numOfWorkers,I.context.config,I.context.inputStream,function(){var V;0===(null===(V=I.context.config)||void 0===V?void 0:V.numOfWorkers)&&I.initializeData(),I.ready(T)}))}),ge()(this,"update",function(){if(I.context.onUIThread){var T,N=(K=I.context.framegrabber,St.length?!!(ae=St.filter(function(ee){return!ee.busy})[0])&&(K.attachData(ae.imageData),K.grab()&&(ae.busy=!0,ae.worker.postMessage({cmd:"process",imageData:ae.imageData},[ae.imageData.buffer])),!0):null);N||(I.context.framegrabber.attachData(null===(T=I.context.inputImageWrapper)||void 0===T?void 0:T.data),I.context.framegrabber.grab()&&(N||I.locateAndDecode()))}else{var V;I.context.framegrabber.attachData(null===(V=I.context.inputImageWrapper)||void 0===V?void 0:V.data),I.context.framegrabber.grab(),I.locateAndDecode()}var K,ae})}var se,z;return Xe()(Y,[{key:"initBuffers",value:function(I){if(this.context.config){var T=(K=this.context.inputStream,ee=this.context.config.locator,ce=I||new de.a({x:K.getWidth(),y:K.getHeight(),type:"XYSize"}),Ae=[on.c.clone([0,0]),on.c.clone([0,ce.size.y]),on.c.clone([ce.size.x,ce.size.y]),on.c.clone([ce.size.x,0])],Qt.a.init(ce,ee),{inputImageWrapper:ce,boxSize:Ae}),V=T.boxSize;this.context.inputImageWrapper=T.inputImageWrapper,this.context.boxSize=V}var K,ee,ce,Ae}},{key:"initializeData",value:function(I){this.context.config&&(this.initBuffers(I),this.context.decoder=At.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?W(this.context.config.inputStream.target):null}},{key:"ready",value:function(I){this.context.inputStream.play(),I()}},{key:"initCanvas",value:function(){var I=function ve(Y){var se,z,I,T,N,V,K=W(null==Y||null===(se=Y.config)||void 0===se||null===(z=se.inputStream)||void 0===z?void 0:z.target),ae=null==Y||null===(I=Y.config)||void 0===I||null===(T=I.inputStream)||void 0===T?void 0:T.type;if(!ae)return null;var ee=function(Ae,H){var ne=H.willReadFrequently;if(typeof document<"u"){var J=X("canvas.imgBuffer","imgBuffer",{willReadFrequently:ne}),Ve=X("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:ne});return J.canvas.width=Ve.canvas.width=Ae.x,J.canvas.height=Ve.canvas.height=Ae.y,{dom:{image:J.canvas,overlay:Ve.canvas},ctx:{image:J.context,overlay:Ve.context}}}return null}(Y.inputStream.getCanvasSize(),{willReadFrequently:!(null==Y||null===(N=Y.config)||void 0===N||null===(V=N.inputStream)||void 0===V||!V.willReadFrequently)});if(!ee)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var ce=ee.dom;return typeof document<"u"&&K&&("ImageStream"!==ae||K.contains(ce.image)||K.appendChild(ce.image),K.contains(ce.overlay)||K.appendChild(ce.overlay)),ee}(this.context);if(I){var T=I.ctx,N=I.dom;this.context.canvasContainer.dom.image=N.image,this.context.canvasContainer.dom.overlay=N.overlay,this.context.canvasContainer.ctx.image=T.image,this.context.canvasContainer.ctx.overlay=T.overlay}}},{key:"initInputStream",value:function(I){if(this.context.config&&this.context.config.inputStream){var T=this.context.config.inputStream,N=T.type,V=T.constraints,K=function(){var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",Ae=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(ce){case"VideoStream":var ne=document.createElement("video");return{video:ne,inputStream:H.createVideoStream(ne)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var J=null;return Ae&&((J=Ae.querySelector("video"))||(J=document.createElement("video"),Ae.appendChild(J))),{video:J,inputStream:H.createLiveStream(J)};default:return console.error("* setupInputStream invalid type ".concat(ce)),{video:null,inputStream:null}}}(N,this.getViewPort(),Ht),ae=K.video,ee=K.inputStream;"LiveStream"===N&&ae&&oi.request(ae,V).then(function(){return ee.trigger("canrecord")}).catch(function(ce){return I(ce)}),ee&&(ee.setAttribute("preload","auto"),ee.setInputStream(this.context.config.inputStream),ee.addEventListener("canrecord",this.canRecord.bind(void 0,I))),this.context.inputStream=ee}}},{key:"getBoundingBoxes",value:function(){var I;return null!==(I=this.context.config)&&void 0!==I&&I.locate?Qt.a.locate():[[on.c.clone(this.context.boxSize[0]),on.c.clone(this.context.boxSize[1]),on.c.clone(this.context.boxSize[2]),on.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(I){var ee,ce,Ae,T=this,N=this.context.inputStream.getTopRight(),V=N.x,K=N.y;if((0!==V||0!==K)&&(I.barcodes&&I.barcodes.forEach(function(ee){return T.transformResult(ee)}),I.line&&2===I.line.length&&(Ae=K,(ee=I.line)[0].x+=ce=V,ee[0].y+=Ae,ee[1].x+=ce,ee[1].y+=Ae),I.box&&nn(I.box,V,K),I.boxes&&I.boxes.length>0))for(var ae=0;ae<I.boxes.length;ae++)nn(I.boxes[ae],V,K)}},{key:"addResult",value:function(I,T){var N=this;T&&this.context.resultCollector&&(I.barcodes?I.barcodes.filter(function(V){return V.codeResult}).forEach(function(V){return N.addResult(V,T)}):I.codeResult&&this.context.resultCollector.addResult(T,this.context.inputStream.getCanvasSize(),I.codeResult))}},{key:"hasCodeResult",value:function(I){return!(!I||!(I.barcodes?I.barcodes.some(function(T){return T.codeResult}):I.codeResult))}},{key:"publishResult",value:function(){var I,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,V=T;T&&this.context.onUIThread&&(this.transformResult(T),this.addResult(T,N),V=(null==T||null===(I=T.barcodes)||void 0===I?void 0:I.length)>0?T.barcodes:T),Hn.publish("processed",V),this.hasCodeResult(T)&&Hn.publish("detected",V)}},{key:"locateAndDecode",value:(z=ue()(Fe.a.mark(function I(){var T,N,V,K,ae;return Fe.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(T=this.getBoundingBoxes())){ee.next=12;break}return ee.next=4,this.context.decoder.decodeFromBoundingBoxes(T);case 4:if(ee.t0=ee.sent,ee.t0){ee.next=7;break}ee.t0={};case 7:(V=ee.t0).boxes=T,this.publishResult(V,null===(N=this.context.inputImageWrapper)||void 0===N?void 0:N.data),ee.next=16;break;case 12:return ee.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(K=ee.sent)?this.publishResult(K,null===(ae=this.context.inputImageWrapper)||void 0===ae?void 0:ae.data):this.publishResult();case 16:case"end":return ee.stop()}},I,this)})),function(){return z.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var I,T=this,N=null,V=1e3/((null===(I=this.context.config)||void 0===I?void 0:I.frequency)||60);this.context.stopped=!1;var K=this.context;!function ae(ee){N=N||ee,K.stopped||(ee>=N&&(N+=V,T.update()),window.requestAnimationFrame(ae))}(performance.now())}},{key:"start",value:function(){var I,T;this.context.onUIThread&&"LiveStream"===(null===(I=this.context.config)||void 0===I||null===(T=I.inputStream)||void 0===T?void 0:T.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(se=ue()(Fe.a.mark(function I(){var T;return Fe.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(this.context.stopped=!0,Bt(0),null===(T=this.context.config)||void 0===T||!T.inputStream||"LiveStream"!==this.context.config.inputStream.type){N.next=6;break}return N.next=5,oi.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return N.stop()}},I,this)})),function(){return se.apply(this,arguments)})},{key:"setReaders",value:function(I){var T;this.context.decoder&&this.context.decoder.setReaders(I),T=I,St.forEach(function(N){return N.worker.postMessage({cmd:"setReaders",readers:T})})}},{key:"registerReader",value:function(I,T){var N,V;At.registerReader(I,T),this.context.decoder&&this.context.decoder.registerReader(I,T),N=I,V=T,St.forEach(function(K){return K.worker.postMessage({cmd:"registerReader",name:N,reader:V})})}}]),Y}(),Zt=new Dr,_s=Zt.context,en={init:function(Y,se,z){var I,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zt;return se||(I=new Promise(function(N,V){se=function(K){K?V(K):N()}})),T.context.config=te()({},In,Y),T.context.config.numOfWorkers>0&&(T.context.config.numOfWorkers=0),z?(T.context.onUIThread=!1,T.initializeData(z),se&&se()):T.initInputStream(se),I},start:function(){return Zt.start()},stop:function(){return Zt.stop()},pause:function(){_s.stopped=!0},onDetected:function(Y){Y&&("function"==typeof Y||"object"===j()(Y)&&Y.callback)?Hn.subscribe("detected",Y):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(Y){Hn.unsubscribe("detected",Y)},onProcessed:function(Y){Y&&("function"==typeof Y||"object"===j()(Y)&&Y.callback)?Hn.subscribe("processed",Y):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(Y){Hn.unsubscribe("processed",Y)},setReaders:function(Y){Y?Zt.setReaders(Y):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(Y,se){Y?se?Zt.registerReader(Y,se):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(Y){Y&&"function"==typeof Y.addResult&&(_s.resultCollector=Y)},get canvas(){return _s.canvasContainer},decodeSingle:function(Y,se){var z=this,I=new Dr;return(Y=te()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:Y.src},numOfWorkers:1,locator:{halfSample:!1}},Y)).numOfWorkers>0&&(Y.numOfWorkers=0),Y.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),Y.numOfWorkers=0),new Promise(function(T,N){try{z.init(Y,function(){Hn.once("processed",function(V){I.stop(),se&&se.call(null,V),T(V)},!0),I.start()},null,I)}catch(V){N(V)}})},get default(){return en},Readers:k,CameraAccess:oi,ImageDebug:ft.a,ImageWrapper:de.a,ResultCollector:Ma};q.default=en}]).default},768:(gs,L,q)=>{"use strict";function E(n){return"function"==typeof n}function k(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const F=k(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function j(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class U{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(o){t=o instanceof F?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Ee(o)}catch(s){t=t??[],s instanceof F?t=[...t,...s.errors]:t.push(s)}}if(t)throw new F(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ee(t);else{if(t instanceof U){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&j(e,t)}remove(t){const{_finalizers:e}=this;e&&j(e,t),t instanceof U&&t._removeParent(this)}}U.EMPTY=(()=>{const n=new U;return n.closed=!0,n})();const te=U.EMPTY;function de(n){return n instanceof U||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function Ee(n){E(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tt={setTimeout(n,t,...e){const{delegate:r}=tt;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=tt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Fe(n){tt.setTimeout(()=>{const{onUnhandledError:t}=ue;if(!t)throw n;t(n)})}function ft(){}const lt=Xe("C",void 0,void 0);function Xe(n,t,e){return{kind:n,value:t,error:e}}let Se=null;function be(n){if(ue.useDeprecatedSynchronousErrorHandling){const t=!Se;if(t&&(Se={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Se;if(Se=null,e)throw r}}else n()}class Ce extends U{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,de(t)&&t.add(this)):this.destination=ut}static create(t,e,r){return new Le(t,e,r)}next(t){this.isStopped?qe(function It(n){return Xe("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qe(function bt(n){return Xe("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qe(lt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function we(n,t){return ye.call(n,t)}class De{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){Je(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){Je(r)}else Je(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Je(e)}}}class Le extends Ce{constructor(t,e,r){let i;if(super(),E(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&ue.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&we(t.next,o),error:t.error&&we(t.error,o),complete:t.complete&&we(t.complete,o)}):i=t}this.destination=new De(i)}}function Je(n){ue.useDeprecatedSynchronousErrorHandling?function xe(n){ue.useDeprecatedSynchronousErrorHandling&&Se&&(Se.errorThrown=!0,Se.error=n)}(n):Fe(n)}function qe(n,t){const{onStoppedNotification:e}=ue;e&&tt.setTimeout(()=>e(n,t))}const ut={closed:!0,next:ft,error:function ge(n){throw n},complete:ft},_e="function"==typeof Symbol&&Symbol.observable||"@@observable";function rt(n){return n}function xt(n){return 0===n.length?rt:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let st=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function He(n){return n&&n instanceof Ce||function $e(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&de(n)}(e)?e:new Le(e,r,i);return be(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=$t(r))((i,o)=>{const s=new Le({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[_e](){return this}pipe(...e){return xt(e)(this)}toPromise(e){return new(e=$t(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function $t(n){var t;return null!==(t=n??ue.Promise)&&void 0!==t?t:Promise}const ot=k(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ye=(()=>{class n extends st{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Rt(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new ot}next(e){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?te:(this.currentObservers=null,o.push(e),new U(()=>{this.currentObservers=null,j(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new st;return e.source=this,e}}return n.create=(t,e)=>new Rt(t,e),n})();class Rt extends Ye{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:te}}function gt(n){return E(n?.lift)}function Wt(n){return t=>{if(gt(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(n,t,e,r,i){return new Nn(n,t,e,r,i)}class Nn extends Ce{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Gt(n,t){return Wt((e,r)=>{let i=0;e.subscribe(Pt(r,o=>{r.next(n.call(t,o,i++))}))})}function yi(n){return this instanceof yi?(this.v=n,this):new yi(n)}function yt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function qr(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yi=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ms(n){return E(n?.then)}function _i(n){return E(n[_e])}function ri(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Di(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xi=function vs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zi(n){return E(n?.[xi])}function Mi(n){return function ks(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(_){return function(w){return Promise.resolve(w).then(_,g)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(_,w){r[_]&&(i[_]=function(C){return new Promise(function(D,P){o.push([_,C,D,P])>1||c(_,C)})},w&&(i[_]=w(i[_])))}function c(_,w){try{!function l(_){_.value instanceof yi?Promise.resolve(_.value.v).then(h,g):y(o[0][2],_)}(r[_](w))}catch(C){y(o[0][3],C)}}function h(_){c("next",_)}function g(_){c("throw",_)}function y(_,w){_(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield yi(e.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{e.releaseLock()}})}function At(n){return E(n?.getReader)}function Hn(n){if(n instanceof st)return n;if(null!=n){if(_i(n))return function Bs(n){return new st(t=>{const e=n[_e]();if(E(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Yi(n))return function bi(n){return new st(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ms(n))return function tc(n){return new st(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Fe)})}(n);if(ri(n))return Kr(n);if(Zi(n))return function nc(n){return new st(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(At(n))return function Vs(n){return Kr(Mi(n))}(n)}throw Di(n)}function Kr(n){return new st(t=>{(function Da(n,t){var e,r,i,o;return function uo(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=yt(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function qi(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Cr(n,t,e=1/0){return E(t)?Cr((r,i)=>Gt((o,s)=>t(r,o,i,s))(Hn(n(r,i))),e):("number"==typeof t&&(e=t),Wt((r,i)=>function rc(n,t,e,r,i,o,s,a){const c=[];let l=0,h=0,g=!1;const y=()=>{g&&!c.length&&!l&&t.complete()},_=C=>l<r?w(C):c.push(C),w=C=>{o&&t.next(C),l++;let D=!1;Hn(e(C,h++)).subscribe(Pt(t,P=>{i?.(P),o?_(P):t.next(P)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){const P=c.shift();s?qi(t,s,()=>w(P)):w(P)}y()}catch(P){t.error(P)}}))};return n.subscribe(Pt(t,_,()=>{g=!0,y()})),()=>{a?.()}}(r,i,n,e)))}function ii(n=1/0){return Cr(rt,n)}const Qr=new st(n=>n.complete());function nt(n){return n&&E(n.schedule)}function Mo(n){return n[n.length-1]}function Tn(n){return E(Mo(n))?n.pop():void 0}function oi(n){return nt(Mo(n))?n.pop():void 0}function In(n,t=0){return Wt((e,r)=>{e.subscribe(Pt(r,i=>qi(r,n,()=>r.next(i),t),()=>qi(r,n,()=>r.complete(),t),i=>qi(r,n,()=>r.error(i),t)))})}function on(n,t=0){return Wt((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function ar(n,t){if(!n)throw new Error("Iterable cannot be null");return new st(e=>{qi(e,t,()=>{const r=n[Symbol.asyncIterator]();qi(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function un(n,t){return t?function ic(n,t){if(null!=n){if(_i(n))return function an(n,t){return Hn(n).pipe(on(t),In(t))}(n,t);if(Yi(n))return function js(n,t){return new st(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(ms(n))return function Us(n,t){return Hn(n).pipe(on(t),In(t))}(n,t);if(ri(n))return ar(n,t);if(Zi(n))return function ca(n,t){return new st(e=>{let r;return qi(e,t,()=>{r=n[xi](),qi(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>E(r?.return)&&r.return()})}(n,t);if(At(n))return function Ki(n,t){return ar(Mi(n),t)}(n,t)}throw Di(n)}(n,t):Hn(n)}function ys(...n){const t=oi(n),e=function Ma(n,t){return"number"==typeof Mo(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Hn(r[0]):ii(e)(un(r,t)):Qr}class si extends Ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Yt(...n){return un(n,oi(n))}function kn(n={}){const{connector:t=(()=>new Ye),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,g=!1;const y=()=>{a?.unsubscribe(),a=void 0},_=()=>{y(),s=c=void 0,h=g=!1},w=()=>{const C=s;_(),C?.unsubscribe()};return Wt((C,D)=>{l++,!g&&!h&&y();const P=c=c??t();D.add(()=>{l--,0===l&&!g&&!h&&(a=ur(w,i))}),P.subscribe(D),!s&&l>0&&(s=new Le({next:O=>P.next(O),error:O=>{g=!0,y(),a=ur(_,e,O),P.error(O)},complete:()=>{h=!0,y(),a=ur(_,r),P.complete()}}),Hn(C).subscribe(s))})(o)}}function ur(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new Le({next:()=>{r.unsubscribe(),n()}});return Hn(t(...e)).subscribe(r)}function Me(n,t){return Wt((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(Pt(r,c=>{i?.unsubscribe();let l=0;const h=o++;Hn(n(c,h)).subscribe(i=Pt(r,g=>r.next(t?t(c,g,h,l++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Q(n,t=rt){return n=n??Ht,Wt((e,r)=>{let i,o=!0;e.subscribe(Pt(r,s=>{const a=t(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function Ht(n,t){return n===t}function Qt(n){for(let t in n)if(n[t]===Qt)return t;throw Error("Could not find renamed property on target object.")}function Jr(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function xr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function R(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const W=Qt({__forward_ref__:Qt});function X(n){return n.__forward_ref__=X,n.toString=function(){return xr(this())},n}function ve(n){return ze(n)?n():n}function ze(n){return"function"==typeof n&&n.hasOwnProperty(W)&&n.__forward_ref__===X}function at(n){return n&&!!n.\u0275providers}const Xt="https://g.co/ng/security#xss";class Te extends Error{constructor(t,e){super(function Zn(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Bt(n){return"string"==typeof n?n:null==n?"":String(n)}function en(n,t){throw new Te(-201,!1)}function ne(n,t){null==n&&function J(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function Ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fn(n){return Yo(n,kr)||Yo(n,pf)}function Yo(n,t){return n.hasOwnProperty(t)?n[t]:null}function cn(n){return n&&(n.hasOwnProperty(Cl)||n.hasOwnProperty($m))?n[Cl]:null}const kr=Qt({\u0275prov:Qt}),Cl=Qt({\u0275inj:Qt}),pf=Qt({ngInjectableDef:Qt}),$m=Qt({ngInjectorDef:Qt});var Dn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Dn||{});let gf;function Gn(n){const t=gf;return gf=n,t}function Su(n,t,e){const r=Fn(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Dn.Optional?null:void 0!==t?t:void en(xr(n))}const tr=globalThis;class Ge{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ne({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Al={},Ta="__NG_DI_FLAG__",Pc="ngTempTokenPath",Sl=/\n/gm,la="__source";let ua;function da(n){const t=ua;return ua=n,t}function Hs(n,t=Dn.Default){if(void 0===ua)throw new Te(-203,!1);return null===ua?Su(n,void 0,t):ua.get(n,t&Dn.Optional?null:void 0,t)}function Ue(n,t=Dn.Default){return(function mf(){return gf}()||Hs)(ve(n),t)}function Ct(n,t=Dn.Default){return Ue(n,Il(t))}function Il(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qo(n){const t=[];for(let e=0;e<n.length;e++){const r=ve(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let i,o=Dn.Default;for(let s=0;s<r.length;s++){const a=r[s],c=xf(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Ue(i,o))}else t.push(Ue(r))}return t}function Dl(n,t){return n[Ta]=t,n.prototype[Ta]=t,n}function xf(n){return n[Ta]}function Ko(n){return{toString:n}.toString()}var S=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(S||{}),u=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(u||{});const d={},f=[],p=Qt({\u0275cmp:Qt}),m=Qt({\u0275dir:Qt}),v=Qt({\u0275pipe:Qt}),x=Qt({\u0275mod:Qt}),b=Qt({\u0275fac:Qt}),A=Qt({__NG_ELEMENT_ID__:Qt}),M=Qt({__NG_ENV_ID__:Qt});function B(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}function $(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];n.setAttribute(t,s,a,o)}else{const o=i,s=e[++r];le(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),r++}}return r}function re(n){return 3===n||4===n||6===n}function le(n){return 64===n.charCodeAt(0)}function me(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Oe(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Oe(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const Be="ng-template";function ht(n,t,e){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(e&&"class"===o&&-1!==B(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Dt(n){return 4===n.type&&n.value!==Be}function Qe(n,t,e){return t===(4!==n.type||e?n.value:Be)}function An(n,t,e){let r=4;const i=n.attrs||[],o=function fr(n){for(let t=0;t<n.length;t++)if(re(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Qe(n,c,e)||""===c&&1===t.length){if(tn(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==n.attrs){if(!ht(n.attrs,l,e)){if(tn(r))return!1;s=!0}continue}const g=fo(8&r?"class":c,i,Dt(n),e);if(-1===g){if(tn(r))return!1;s=!0;continue}if(""!==l){let y;y=g>o?"":i[g+1].toLowerCase();const _=8&r?y:null;if(_&&-1!==B(_,l,0)||2&r&&l!==y){if(tn(r))return!1;s=!0}}}}else{if(!s&&!tn(r)&&!tn(c))return!1;if(s&&tn(c))continue;s=!1,r=c|1&r}}return tn(r)||s}function tn(n){return 0==(1&n)}function fo(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Ti(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Qo(n,t,e=!1){for(let r=0;r<t.length;r++)if(An(n,t[r],e))return!0;return!1}function To(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function oc(n,t){return n?":not("+t.trim()+")":t}function kc(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!tn(s)&&(t+=oc(o,i),i=""),r=s,o=o||!tn(r);e++}return""!==i&&(t+=oc(o,i)),t}function ui(n){return Ko(()=>{const t=ww(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===S.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||u.Emulated,styles:n.styles||f,_:null,schemas:n.schemas||null,tView:null,id:""};Cw(e);const r=n.dependencies;return e.directiveDefs=Yp(r,!1),e.pipeDefs=Yp(r,!0),e.id=function C6(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function _6(n){return Xn(n)||Qi(n)}function x6(n){return null!==n}function Fr(n){return Ko(()=>({type:n.type,bootstrap:n.bootstrap||f,declarations:n.declarations||f,imports:n.imports||f,exports:n.exports||f,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bw(n,t){if(null==n)return d;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}function Jt(n){return Ko(()=>{const t=ww(n);return Cw(t),t})}function Xn(n){return n[p]||null}function Qi(n){return n[m]||null}function Oo(n){return n[v]||null}function xs(n,t){const e=n[x]||null;if(!e&&!0===t)throw new Error(`Type ${xr(n)} does not have '\u0275mod' property.`);return e}function ww(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||d,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||f,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bw(n.inputs,t),outputs:bw(n.outputs)}}function Cw(n){n.features?.forEach(t=>t(n))}function Yp(n,t){if(!n)return null;const e=t?Oo:_6;return()=>("function"==typeof n?n():n).map(r=>e(r)).filter(x6)}const ai=0,Ft=1,gn=2,Xr=3,fa=4,bf=5,po=6,Tu=7,di=8,Fc=9,Ou=10,dn=11,wf=12,Ew=13,Ru=14,fi=15,Cf=16,Nu=17,Oa=18,Ef=19,Aw=20,Lc=21,sc=22,Af=23,Sf=24,Ln=25,nv=1,Sw=2,Ra=7,Pu=9,Ji=11;function es(n){return Array.isArray(n)&&"object"==typeof n[nv]}function Ro(n){return Array.isArray(n)&&!0===n[nv]}function rv(n){return 0!=(4&n.flags)}function Tl(n){return n.componentOffset>-1}function qp(n){return 1==(1&n.flags)}function ha(n){return!!n.template}function iv(n){return 0!=(512&n[gn])}function Ol(n,t){return n.hasOwnProperty(b)?n[b]:null}let eo=null,Kp=!1;function zs(n){const t=eo;return eo=n,t}const Mw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ow(n){if(!Df(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Pw(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Nw(n){n.dirty=!0,function Rw(n){if(void 0===n.liveConsumerNode)return;const t=Kp;Kp=!0;try{for(const e of n.liveConsumerNode)e.dirty||Nw(e)}finally{Kp=t}}(n),n.consumerMarkedDirty?.(n)}function sv(n){return n&&(n.nextProducerIndex=0),zs(n)}function av(n,t){if(zs(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Df(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Qp(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Pw(n){ku(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(Ow(e),r!==e.version))return!0}return!1}function kw(n){if(ku(n),Df(n))for(let t=0;t<n.producerNode.length;t++)Qp(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Qp(n,t){if(function Lw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ku(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Qp(n.producerNode[r],n.producerIndexOfThis[r]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];ku(i),i.producerIndexOfThis[r]=t}}function Df(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ku(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Bw=null;const Hw=()=>{},F6=(()=>({...Mw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Hw}))();class L6{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function ts(){return zw}function zw(n){return n.type.prototype.ngOnChanges&&(n.setInput=V6),B6}function B6(){const n=Gw(this),t=n?.current;if(t){const e=n.previous;if(e===d)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function V6(n,t,e,r){const i=this.declaredInputs[e],o=Gw(n)||function U6(n,t){return n[Ww]=t}(n,{previous:d,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new L6(c&&c.currentValue,t,a===d),n[r]=t}ts.ngInherit=!0;const Ww="__ngSimpleChanges__";function Gw(n){return n[Ww]||null}const Na=function(n,t,e){};function Mr(n){for(;Array.isArray(n);)n=n[ai];return n}function Jp(n,t){return Mr(t[n])}function ns(n,t){return Mr(t[n.index])}function Yw(n,t){return n.data[t]}function bs(n,t){const e=t[n];return es(e)?e:e[ai]}function Vc(n,t){return null==t?null:n[t]}function Zw(n){n[Nu]=0}function X6(n){1024&n[gn]||(n[gn]|=1024,Kw(n,1))}function qw(n){1024&n[gn]&&(n[gn]&=-1025,Kw(n,-1))}function Kw(n,t){let e=n[Xr];if(null===e)return;e[bf]+=t;let r=e;for(e=e[Xr];null!==e&&(1===t&&1===r[bf]||-1===t&&0===r[bf]);)e[bf]+=t,r=e,e=e[Xr]}const ln={lFrame:cC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eC(){return ln.bindingsEnabled}function Lu(){return null!==ln.skipHydrationRootTNode}function ct(){return ln.lFrame.lView}function $n(){return ln.lFrame.tView}function On(n){return ln.lFrame.contextLView=n,n[di]}function Rn(n){return ln.lFrame.contextLView=null,n}function to(){let n=tC();for(;null!==n&&64===n.type;)n=n.parent;return n}function tC(){return ln.lFrame.currentTNode}function Pa(n,t){const e=ln.lFrame;e.currentTNode=n,e.isParent=t}function fv(){return ln.lFrame.isParent}function hv(){ln.lFrame.isParent=!1}function Bu(){return ln.lFrame.bindingIndex++}function ik(n,t){const e=ln.lFrame;e.bindingIndex=e.bindingRootIndex=n,pv(t)}function pv(n){ln.lFrame.currentDirectiveIndex=n}function gv(n){const t=ln.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function oC(){return ln.lFrame.currentQueryIndex}function mv(n){ln.lFrame.currentQueryIndex=n}function sk(n){const t=n[Ft];return 2===t.type?t.declTNode:1===t.type?n[po]:null}function sC(n,t,e){if(e&Dn.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&Dn.Host||(i=sk(o),null===i||(o=o[Ru],10&i.type))););if(null===i)return!1;t=i,n=o}const r=ln.lFrame=aC();return r.currentTNode=t,r.lView=n,!0}function vv(n){const t=aC(),e=n[Ft];ln.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function aC(){const n=ln.lFrame,t=null===n?null:n.child;return null===t?cC(n):t}function cC(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function lC(){const n=ln.lFrame;return ln.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const uC=lC;function yv(){const n=lC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Po(){return ln.lFrame.selectedIndex}function Rl(n){ln.lFrame.selectedIndex=n}function ei(){const n=ln.lFrame;return Yw(n.tView,n.selectedIndex)}let fC=!0;function e0(){return fC}function Uc(n){fC=n}function t0(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=h&&(n.destroyHooks??=[]).push(e,h)}}function n0(n,t,e){hC(n,t,3,e)}function r0(n,t,e,r){(3&n[gn])===e&&hC(n,t,e,r)}function _v(n,t){let e=n[gn];(3&e)===t&&(e&=8191,e+=1,n[gn]=e)}function hC(n,t,e,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&n[Nu]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(n[Nu]+=65536),(a<o||-1==o)&&(pk(n,e,t,c),n[Nu]=(4294901760&n[Nu])+c+2),c++}function pC(n,t){Na(4,n,t);const e=zs(null);try{t.call(n)}finally{zs(e),Na(5,n,t)}}function pk(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];i?n[gn]>>13<n[Nu]>>16&&(3&n[gn])===t&&(n[gn]+=8192,pC(a,o)):pC(a,o)}const Vu=-1;class Tf{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function bv(n){return n!==Vu}function Of(n){return 32767&n}function Rf(n,t){let e=function yk(n){return n>>16}(n),r=t;for(;e>0;)r=r[Ru],e--;return r}let wv=!0;function o0(n){const t=wv;return wv=n,t}const gC=255,mC=5;let _k=0;const ka={};function s0(n,t){const e=vC(n,t);if(-1!==e)return e;const r=t[Ft];r.firstCreatePass&&(n.injectorIndex=t.length,Cv(r.data,n),Cv(t,null),Cv(r.blueprint,null));const i=a0(n,t),o=n.injectorIndex;if(bv(i)){const s=Of(i),a=Rf(i,t),c=a[Ft].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Cv(n,t){n.push(0,0,0,0,0,0,0,0,t)}function vC(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function a0(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=EC(i),null===r)return Vu;if(e++,i=i[Ru],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Vu}function Ev(n,t,e){!function xk(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(A)&&(r=e[A]),null==r&&(r=e[A]=_k++);const i=r&gC;t.data[n+(i>>mC)]|=1<<i}(n,t,e)}function yC(n,t,e){if(e&Dn.Optional||void 0!==n)return n;en()}function _C(n,t,e,r){if(e&Dn.Optional&&void 0===r&&(r=null),!(e&(Dn.Self|Dn.Host))){const i=n[Fc],o=Gn(void 0);try{return i?i.get(t,r,e&Dn.Optional):Su(t,r,e&Dn.Optional)}finally{Gn(o)}}return yC(r,0,e)}function xC(n,t,e,r=Dn.Default,i){if(null!==n){if(2048&t[gn]&&!(r&Dn.Self)){const s=function Sk(n,t,e,r,i){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[gn]&&!(512&s[gn]);){const a=bC(o,s,e,r|Dn.Self,ka);if(a!==ka)return a;let c=o.parent;if(!c){const l=s[Aw];if(l){const h=l.get(e,ka,r);if(h!==ka)return h}c=EC(s),s=s[Ru]}o=c}return i}(n,t,e,r,ka);if(s!==ka)return s}const o=bC(n,t,e,r,ka);if(o!==ka)return o}return _C(t,e,r,i)}function bC(n,t,e,r,i){const o=function Ck(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(A)?n[A]:void 0;return"number"==typeof t?t>=0?t&gC:Ak:t}(e);if("function"==typeof o){if(!sC(t,n,r))return r&Dn.Host?yC(i,0,r):_C(t,e,r,i);try{let s;if(s=o(r),null!=s||r&Dn.Optional)return s;en()}finally{uC()}}else if("number"==typeof o){let s=null,a=vC(n,t),c=Vu,l=r&Dn.Host?t[fi][po]:null;for((-1===a||r&Dn.SkipSelf)&&(c=-1===a?a0(n,t):t[a+8],c!==Vu&&CC(r,!1)?(s=t[Ft],a=Of(c),t=Rf(c,t)):a=-1);-1!==a;){const h=t[Ft];if(wC(o,a,h.data)){const g=wk(a,t,e,s,r,l);if(g!==ka)return g}c=t[a+8],c!==Vu&&CC(r,t[Ft].data[a+8]===l)&&wC(o,a,t)?(s=h,a=Of(c),t=Rf(c,t)):a=-1}}return i}function wk(n,t,e,r,i,o){const s=t[Ft],a=s.data[n+8],h=c0(a,s,e,null==r?Tl(a)&&wv:r!=s&&0!=(3&a.type),i&Dn.Host&&o===a);return null!==h?Nl(t,s,h,a):ka}function c0(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,h=o>>20,y=i?a+h:n.directiveEnd;for(let _=r?a:a+h;_<y;_++){const w=s[_];if(_<c&&e===w||_>=c&&w.type===e)return _}if(i){const _=s[c];if(_&&ha(_)&&_.type===e)return c}return null}function Nl(n,t,e,r){let i=n[e];const o=t.data;if(function gk(n){return n instanceof Tf}(i)){const s=i;s.resolving&&function Dr(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${e}`)}(function nn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Bt(n)}(o[e]));const a=o0(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Gn(s.injectImpl):null;sC(n,r,Dn.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function hk(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=zw(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&Gn(l),o0(a),s.resolving=!1,uC()}}return i}function wC(n,t,e){return!!(e[t+(n>>mC)]&1<<n)}function CC(n,t){return!(n&Dn.Self||n&Dn.Host&&t)}class ko{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return xC(this._tNode,this._lView,t,Il(r),e)}}function Ak(){return new ko(to(),ct())}function Ui(n){return Ko(()=>{const t=n.prototype.constructor,e=t[b]||Av(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[b]||Av(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Av(n){return ze(n)?()=>{const t=Av(ve(n));return t&&t()}:Ol(n)}function EC(n){const t=n[Ft],e=t.type;return 2===e?t.declTNode:1===e?n[po]:null}const ju="__parameters__";function zu(n,t,e){return Ko(()=>{const r=function Sv(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const g=c.hasOwnProperty(ju)?c[ju]:Object.defineProperty(c,ju,{value:[]})[ju];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Gu(n,t){n.forEach(e=>Array.isArray(e)?Gu(e,t):t(e))}function SC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function u0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function kf(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function ws(n,t,e){let r=Xu(n,t);return r>=0?n[1|r]=e:(r=~r,function Nk(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Iv(n,t){const e=Xu(n,t);if(e>=0)return n[1|e]}function Xu(n,t){return function IC(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const f0=Dl(zu("Optional"),8),h0=Dl(zu("SkipSelf"),4);function y0(n){return 128==(128&n.flags)}var jc=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(jc||{});const Rv=new Map;let r5=0;const Pv="__ngContext__";function go(n,t){es(t)?(n[Pv]=t[Ef],function s5(n){Rv.set(n[Ef],n)}(t)):n[Pv]=t}let kv;function Fv(n,t){return kv(n,t)}function Bf(n){const t=n[Xr];return Ro(t)?t[Xr]:t}function $C(n){return ZC(n[wf])}function YC(n){return ZC(n[fa])}function ZC(n){for(;null!==n&&!Ro(n);)n=n[fa];return n}function Zu(n,t,e,r,i){if(null!=r){let o,s=!1;Ro(r)?o=r:es(r)&&(s=!0,r=r[ai]);const a=Mr(r);0===n&&null!==e?null==i?JC(t,e,a):Pl(t,e,a,i||null,!0):1===n&&null!==e?Pl(t,e,a,i||null,!0):2===n?function A0(n,t,e){const r=C0(n,t);r&&function A5(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function D5(n,t,e,r,i){const o=e[Ra];o!==Mr(e)&&Zu(t,n,r,o,i);for(let a=Ji;a<e.length;a++){const c=e[a];Uf(c[Ft],c,n,t,r,o)}}(t,n,o,e,i)}}function b0(n,t,e){return n.createElement(t,e)}function KC(n,t){const e=n[Pu],r=e.indexOf(t);qw(t),e.splice(r,1)}function w0(n,t){if(n.length<=Ji)return;const e=Ji+t,r=n[e];if(r){const i=r[Cf];null!==i&&i!==n&&KC(i,r),t>0&&(n[e-1][fa]=r[fa]);const o=u0(n,Ji+t);!function v5(n,t){Uf(n,t,t[dn],2,null,null),t[ai]=null,t[po]=null}(r[Ft],r);const s=o[Oa];null!==s&&s.detachView(o[Ft]),r[Xr]=null,r[fa]=null,r[gn]&=-129}return r}function Bv(n,t){if(!(256&t[gn])){const e=t[dn];t[Af]&&kw(t[Af]),t[Sf]&&kw(t[Sf]),e.destroyNode&&Uf(n,t,e,3,null,null),function x5(n){let t=n[wf];if(!t)return Vv(n[Ft],n);for(;t;){let e=null;if(es(t))e=t[wf];else{const r=t[Ji];r&&(e=r)}if(!e){for(;t&&!t[fa]&&t!==n;)es(t)&&Vv(t[Ft],t),t=t[Xr];null===t&&(t=n),es(t)&&Vv(t[Ft],t),e=t&&t[fa]}t=e}}(t)}}function Vv(n,t){if(!(256&t[gn])){t[gn]&=-129,t[gn]|=256,function E5(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Tf)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Na(4,a,c);try{c.call(a)}finally{Na(5,a,c)}}else{Na(4,i,o);try{o.call(i)}finally{Na(5,i,o)}}}}}(n,t),function C5(n,t){const e=n.cleanup,r=t[Tu];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(t[Tu]=null);const i=t[Lc];if(null!==i){t[Lc]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,t),1===t[Ft].type&&t[dn].destroy();const e=t[Cf];if(null!==e&&Ro(t[Xr])){e!==t[Xr]&&KC(e,t);const r=t[Oa];null!==r&&r.detachView(n)}!function a5(n){Rv.delete(n[Ef])}(t)}}function Uv(n,t,e){return function QC(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[ai];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===u.None||o===u.Emulated)return null}return ns(r,e)}}(n,t.parent,e)}function Pl(n,t,e,r,i){n.insertBefore(t,e,r,i)}function JC(n,t,e){n.appendChild(t,e)}function eE(n,t,e,r,i){null!==r?Pl(n,t,e,r,i):JC(n,t,e)}function C0(n,t){return n.parentNode(t)}function tE(n,t,e){return rE(n,t,e)}let jv,Gv,I0,rE=function nE(n,t,e){return 40&n.type?ns(n,e):null};function E0(n,t,e,r){const i=Uv(n,r,t),o=t[dn],a=tE(r.parent||t[po],r,t);if(null!=i)if(Array.isArray(e))for(let c=0;c<e.length;c++)eE(o,i,e[c],a,!1);else eE(o,i,e,a,!1);void 0!==jv&&jv(o,r,t,e,i)}function Vf(n,t){if(null!==t){const e=t.type;if(3&e)return ns(t,n);if(4&e)return Hv(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Vf(n,r);{const i=n[t.index];return Ro(i)?Hv(-1,i):Mr(i)}}if(32&e)return Fv(t,n)()||Mr(n[t.index]);{const r=oE(n,t);return null!==r?Array.isArray(r)?r[0]:Vf(Bf(n[fi]),r):Vf(n,t.next)}}return null}function oE(n,t){return null!==t?n[fi][po].projection[t.projection]:null}function Hv(n,t){const e=Ji+n+1;if(e<t.length){const r=t[e],i=r[Ft].firstChild;if(null!==i)return Vf(r,i)}return t[Ra]}function zv(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===t&&(a&&go(Mr(a),r),e.flags|=2),32!=(32&e.flags))if(8&c)zv(n,t,e.child,r,i,o,!1),Zu(t,n,i,a,o);else if(32&c){const l=Fv(e,r);let h;for(;h=l();)Zu(t,n,i,h,o);Zu(t,n,i,a,o)}else 16&c?aE(n,t,r,e,i,o):Zu(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Uf(n,t,e,r,i,o){zv(e,r,n.firstChild,t,i,o,!1)}function aE(n,t,e,r,i,o){const s=e[fi],c=s[po].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zu(t,n,i,c[l],o);else{let l=c;const h=s[Xr];y0(r)&&(l.flags|=128),zv(n,t,l,h,i,o,!0)}}function cE(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function lE(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&$(n,t,r),null!==i&&cE(n,t,i),null!==o&&function T5(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function fE(n){return function Xv(){if(void 0===I0&&(I0=null,tr.trustedTypes))try{I0=tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return I0}()?.createScriptURL(n)||n}class hE{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}function Hc(n){return n instanceof hE?n.changingThisBreaksApplicationSecurity:n}function jf(n,t){const e=function U5(n){return n instanceof hE&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Xt})`)}return e===t}const W5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Qu||{});function Kv(n){const t=zf();return t?t.sanitize(Qu.URL,n)||"":jf(n,"URL")?Hc(n):function $v(n){return(n=String(n)).match(W5)?n:"unsafe:"+n}(Bt(n))}function xE(n){const t=zf();if(t)return fE(t.sanitize(Qu.RESOURCE_URL,n)||"");if(jf(n,"ResourceURL"))return fE(Hc(n));throw new Te(904,!1)}function zf(){const n=ct();return n&&n[Ou].sanitizer}const Wf=new Ge("ENVIRONMENT_INITIALIZER"),wE=new Ge("INJECTOR",-1),CE=new Ge("INJECTOR_DEF_TYPES");class Qv{get(t,e=Al){if(e===Al){const r=new Error(`NullInjectorError: No provider for ${xr(t)}!`);throw r.name="NullInjectorError",r}return e}}function rF(...n){return{\u0275providers:EE(0,n),\u0275fromNgModule:!0}}function EE(n,...t){const e=[],r=new Set;let i;const o=s=>{e.push(s)};return Gu(t,s=>{const a=s;M0(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&AE(i,o),e}function AE(n,t){for(let e=0;e<n.length;e++){const{ngModule:r,providers:i}=n[e];ey(i,o=>{t(o,r)})}}function M0(n,t,e,r){if(!(n=ve(n)))return!1;let i=null,o=cn(n);const s=!o&&Xn(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=cn(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)M0(l,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Gu(o.imports,h=>{M0(h,t,e,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&AE(l,t)}if(!a){const l=Ol(i)||(()=>new i);t({provide:i,useFactory:l,deps:f},i),t({provide:CE,useValue:i,multi:!0},i),t({provide:Wf,useValue:()=>Ue(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=n;ey(c,h=>{t(h,l)})}}}return i!==n&&void 0!==n.providers}function ey(n,t){for(let e of n)at(e)&&(e=e.\u0275providers),Array.isArray(e)?ey(e,t):t(e)}const iF=Qt({provide:String,useValue:Qt});function ty(n){return null!==n&&"object"==typeof n&&iF in n}function kl(n){return"function"==typeof n}const ny=new Ge("Set Injector scope."),T0={},sF={};let ry;function O0(){return void 0===ry&&(ry=new Qv),ry}class Cs{}class Ju extends Cs{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(t,s=>this.processProvider(s)),this.records.set(wE,ed(void 0,this)),i.has("environment")&&this.records.set(Cs,ed(void 0,this));const o=this.records.get(ny);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CE.multi,f,Dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=da(this),r=Gn(void 0);try{return t()}finally{da(e),Gn(r)}}get(t,e=Al,r=Dn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(M))return t[M](this);r=Il(r);const o=da(this),s=Gn(void 0);try{if(!(r&Dn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function dF(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ge}(t)&&Fn(t);c=l&&this.injectableDefInScope(l)?ed(iy(t),T0):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&Dn.Self?O0():this.parent).get(t,e=r&Dn.Optional&&e===Al?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Pc]=a[Pc]||[]).unshift(xr(t)),o)throw a;return function Ml(n,t,e,r){const i=n[Pc];throw t[la]&&i.unshift(t[la]),n.message=function zn(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=xr(t);if(Array.isArray(t))i=t.map(xr).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):xr(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Sl,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Pc]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Gn(s),da(o)}}resolveInjectorInitializers(){const t=da(this),e=Gn(void 0);try{const i=this.get(Wf.multi,f,Dn.Self);for(const o of i)o()}finally{da(t),Gn(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(xr(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(t){let e=kl(t=ve(t))?t:ve(t&&t.provide);const r=function cF(n){return ty(n)?ed(void 0,n.useValue):ed(DE(n),T0)}(t);if(kl(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=ed(void 0,T0,!0),i.factory=()=>qo(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===T0&&(e.value=sF,e.value=e.factory()),"object"==typeof e.value&&e.value&&function uF(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ve(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function iy(n){const t=Fn(n),e=null!==t?t.factory:Ol(n);if(null!==e)return e;if(n instanceof Ge)throw new Te(204,!1);if(n instanceof Function)return function aF(n){const t=n.length;if(t>0)throw kf(t,"?"),new Te(204,!1);const e=function je(n){return n&&(n[kr]||n[pf])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Te(204,!1)}function DE(n,t,e){let r;if(kl(n)){const i=ve(n);return Ol(i)||iy(i)}if(ty(n))r=()=>ve(n.useValue);else if(function IE(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...qo(n.deps||[]));else if(function SE(n){return!(!n||!n.useExisting)}(n))r=()=>Ue(ve(n.useExisting));else{const i=ve(n&&(n.useClass||n.provide));if(!function lF(n){return!!n.deps}(n))return Ol(i)||iy(i);r=()=>new i(...qo(n.deps))}return r}function ed(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function oy(n,t){for(const e of n)Array.isArray(e)?oy(e,t):e&&at(e)?oy(e.\u0275providers,t):t(e)}const R0=new Ge("AppId",{providedIn:"root",factory:()=>fF}),fF="ng",ME=new Ge("Platform Initializer"),zc=new Ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),td=new Ge("AnimationModuleType"),sy=new Ge("CSP nonce",{providedIn:"root",factory:()=>function Ku(){if(void 0!==Gv)return Gv;if(typeof document<"u")return document;throw new Te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TE=(n,t,e)=>null;function py(n,t,e=!1){return TE(n,t,e)}class wF{}class NE{}class EF{resolveComponentFactory(t){throw function CF(n){const t=Error(`No component factory found for ${xr(n)}.`);return t.ngComponent=n,t}(t)}}let id=(()=>{class n{static{this.NULL=new EF}}return n})();function AF(){return od(to(),ct())}function od(n,t){return new hi(ns(n,t))}let hi=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=AF}}return n})();function SF(n){return n instanceof hi?n.nativeElement:n}class $f{}let uc=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function IF(){const n=ct(),e=bs(to().index,n);return(es(e)?e:n)[dn]}()}}return n})(),DF=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>null})}}return n})();class Fl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const MF=new Fl("16.2.12"),vy={};function BE(n,t=null,e=null,r){const i=VE(n,t,e,r);return i.resolveInjectorInitializers(),i}function VE(n,t=null,e=null,r,i=new Set){const o=[e||f,rF(n)];return r=r||("object"==typeof n?void 0:xr(n)),new Ju(o,t||O0(),r||null,i)}let Ri=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Al}static{this.NULL=new Qv}static create(e,r){if(Array.isArray(e))return BE({name:""},r,e,"");{const i=e.name??"";return BE({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=Ne({token:n,providedIn:"any",factory:()=>Ue(wE)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function _y(n){return n.ngOriginalError}class dc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&_y(t);for(;e&&_y(e);)e=_y(e);return e||null}}function xy(n){return t=>{setTimeout(n,void 0,t)}}const hr=class LF extends Ye{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=xy(o),i&&(i=xy(i)),s&&(s=xy(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof U&&t.add(a),a}};function jE(...n){}class mn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hr(!1),this.onMicrotaskEmpty=new hr(!1),this.onStable=new hr(!1),this.onError=new hr(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function BF(){const n="function"==typeof tr.requestAnimationFrame;let t=tr[n?"requestAnimationFrame":"setTimeout"],e=tr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function jF(n){const t=()=>{!function UF(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wy(n),n.isCheckStableRunning=!0,by(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{if(function zF(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(i,o,s,a);try{return HE(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),zE(n)}},onInvoke:(e,r,i,o,s,a,c)=>{try{return HE(n),e.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),zE(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,wy(n),by(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mn.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(mn.isInAngularZone())throw new Te(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,VF,jE,jE);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const VF={};function by(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function HE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zE(n){n._nesting--,by(n)}class HF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hr,this.onMicrotaskEmpty=new hr,this.onStable=new hr,this.onError=new hr}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const WE=new Ge("",{providedIn:"root",factory:GE});function GE(){const n=Ct(mn);let t=!0;return ys(new st(i=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(t),i.complete()})}),new st(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{mn.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{mn.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(kn()))}function fc(n){return n instanceof Function?n():n}let Cy=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Yf(n){for(;n;){n[gn]|=64;const t=Bf(n);if(iv(n)&&!t)return n;n=t}return null}const qE=new Ge("",{providedIn:"root",factory:()=>!1});let U0=null;function eA(n,t){return n[t]??rA()}function tA(n,t){const e=rA();e.producerNode?.length&&(n[t]=U0,e.lView=n,U0=nA())}const JF={...Mw,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Yf(n.lView)},lView:null};function nA(){return Object.create(JF)}function rA(){return U0??=nA(),U0}const fn={};function Ze(n){iA($n(),ct(),Po()+n,!1)}function iA(n,t,e,r){if(!r)if(3==(3&t[gn])){const o=n.preOrderCheckHooks;null!==o&&n0(t,o,e)}else{const o=n.preOrderHooks;null!==o&&r0(t,o,0,e)}Rl(e)}function We(n,t=Dn.Default){const e=ct();return null===e?Ue(n,t):xC(to(),e,ve(n),t)}function Ey(){throw new Error("invalid")}function j0(n,t,e,r,i,o,s,a,c,l,h){const g=t.blueprint.slice();return g[ai]=i,g[gn]=140|r,(null!==l||n&&2048&n[gn])&&(g[gn]|=2048),Zw(g),g[Xr]=g[Ru]=n,g[di]=e,g[Ou]=s||n&&n[Ou],g[dn]=a||n&&n[dn],g[Fc]=c||n&&n[Fc]||null,g[po]=o,g[Ef]=function o5(){return r5++}(),g[sc]=h,g[Aw]=l,g[fi]=2==t.type?n[fi]:g,g}function cd(n,t,e,r,i){let o=n.data[t];if(null===o)o=function Ay(n,t,e,r,i){const o=tC(),s=fv(),c=n.data[t]=function aL(n,t,e,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Lu()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,r,i),function rk(){return ln.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function Mf(){const n=ln.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pa(o,!0),o}function Zf(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function oA(n,t,e,r,i){const o=eA(t,Af),s=Po(),a=2&r;try{Rl(-1),a&&t.length>Ln&&iA(n,t,Ln,!1),Na(a?2:0,i);const l=a?o:null,h=sv(l);try{null!==l&&(l.dirty=!1),e(r,i)}finally{av(l,h)}}finally{a&&null===t[Af]&&tA(t,Af),Rl(s),Na(a?3:1,i)}}function Sy(n,t,e){if(rv(t)){const r=zs(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{zs(r)}}}function Iy(n,t,e){eC()&&(function pL(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;Tl(e)&&function bL(n,t,e){const r=ns(t,n),i=sA(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=H0(n,j0(n,i,null,s,r,t,null,n[Ou].rendererFactory.createRenderer(r,e),null,null,null));n[t.index]=a}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||s0(e,t),go(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=Nl(t,n,a,e);go(l,t),null!==s&&wL(0,a-i,l,c,0,s),ha(c)&&(bs(e.index,t)[di]=Nl(t,n,a,e))}}(n,t,e,ns(e,t)),64==(64&e.flags)&&dA(n,t,e))}function Dy(n,t,e=ns){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function sA(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=My(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function My(n,t,e,r,i,o,s,a,c,l,h){const g=Ln+r,y=g+i,_=function tL(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:fn);return e}(g,y),w="function"==typeof l?l():l;return _[Ft]={type:n,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:t,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}let aA=n=>null;function cA(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?lA(e,t,i,o):r.hasOwnProperty(i)&&lA(e,t,r[i],o)}return e}function lA(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function Es(n,t,e,r,i,o,s,a){const c=ns(t,e);let h,l=t.inputs;!a&&null!=l&&(h=l[r])?(Py(n,e,h,r,i),Tl(t)&&function uL(n,t){const e=bs(t,n);16&e[gn]||(e[gn]|=64)}(e,t.index)):3&t.type&&(r=function lL(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}function Ty(n,t,e,r){if(eC()){const i=null===r?null:{"":-1},o=function mL(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Qo(t,s.selectors,!1))if(r||(r=[]),ha(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Oy(n,t,a.length)}else r.unshift(s),Oy(n,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&uA(n,t,e,s,i,a),i&&function vL(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new Te(-301,!1);r.push(t[i],o)}}}(e,r,i)}e.mergedAttrs=me(e.mergedAttrs,e.attrs)}function uA(n,t,e,r,i,o){for(let l=0;l<r.length;l++)Ev(s0(e,t),n,r[l].type);!function _L(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Zf(n,t,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];e.mergedAttrs=me(e.mergedAttrs,h.hostAttrs),xL(n,e,t,c,h),yL(c,h,i),null!==h.contentQueries&&(e.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=64);const g=h.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function cL(n,t,e){const i=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let h=t.directiveStart;h<i;h++){const g=o[h],y=e?e.get(g):null,w=y?y.outputs:null;c=cA(g.inputs,h,c,y?y.inputs:null),l=cA(g.outputs,h,l,w);const C=null===c||null===s||Dt(t)?null:CL(c,h,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function dA(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function ok(){return ln.lFrame.currentDirectiveIndex}();try{Rl(o);for(let a=r;a<i;a++){const c=n.data[a],l=t[a];pv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&gL(c,l)}}finally{Rl(-1),pv(s)}}function gL(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Oy(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function yL(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;ha(t)&&(e[""]=n)}}function xL(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ol(i.type)),s=new Tf(o,ha(i),We);n.blueprint[r]=s,e[r]=s,function fL(n,t,e,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function hL(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,o)}}(n,t,r,Zf(n,e,i.hostVars,fn),i)}function Fa(n,t,e,r,i,o){const s=ns(n,t);!function Ry(n,t,e,r,i,o,s){if(null==o)n.removeAttribute(t,i,e);else{const a=null==s?Bt(o):s(o,r||"",i);n.setAttribute(t,i,a,e)}}(t[dn],s,o,n.value,e,r,i)}function wL(n,t,e,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)fA(r,e,s[a++],s[a++],s[a++])}function fA(n,t,e,r,i){const o=zs(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==n.setInput?n.setInput(t,i,e,r):t[r]=i}finally{zs(o)}}function CL(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function hA(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null,null]}function pA(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const s=n.data[o];mv(e[r]),s.contentQueries(2,t[o],o)}}}function H0(n,t){return n[wf]?n[Ew][fa]=t:n[wf]=t,n[Ew]=t,t}function Ny(n,t,e){mv(0);const r=zs(null);try{t(n,e)}finally{zs(r)}}function gA(n){return n[Tu]||(n[Tu]=[])}function mA(n){return n.cleanup||(n.cleanup=[])}function vA(n,t,e){return(null===n||ha(n))&&(e=function dv(n){for(;Array.isArray(n);){if("object"==typeof n[nv])return n;n=n[ai]}return null}(e[t.index])),e[dn]}function yA(n,t){const e=n[Fc],r=e?e.get(dc,null):null;r&&r.handleError(t)}function Py(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];fA(n.data[s],t[s],r,a,i)}}function EL(n,t){const e=bs(t,n),r=e[Ft];!function AL(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const i=e[ai];null!==i&&null===e[sc]&&(e[sc]=py(i,e[Fc])),ky(r,e,e[di])}function ky(n,t,e){vv(t);try{const r=n.viewQuery;null!==r&&Ny(1,r,e);const i=n.template;null!==i&&oA(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pA(n,t),n.staticViewQueries&&Ny(2,n.viewQuery,e);const o=n.components;null!==o&&function SL(n,t){for(let e=0;e<t.length;e++)EL(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[gn]&=-5,yv()}}let _A=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function k6(n,t,e){const r=Object.create(F6);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Nw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Pw(r))return;r.hasRun=!0;const s=sv(r);try{r.cleanupFn(),r.cleanupFn=Hw,r.fn(i)}finally{av(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function z0(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=R(i,a):2==o&&(r=R(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function qf(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];null!==o&&r.push(Mr(o)),Ro(o)&&xA(o,r);const s=e.type;if(8&s)qf(n,t,e.child,r);else if(32&s){const a=Fv(e,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=oE(t,e);if(Array.isArray(a))r.push(...a);else{const c=Bf(t[fi]);qf(c[Ft],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function xA(n,t){for(let e=Ji;e<n.length;e++){const r=n[e],i=r[Ft].firstChild;null!==i&&qf(r[Ft],r,i,t)}n[Ra]!==n[ai]&&t.push(n[Ra])}function W0(n,t,e,r=!0){const i=t[Ou],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{bA(n,t,n.template,e)}catch(c){throw r&&yA(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function bA(n,t,e,r){const i=t[gn];if(256!=(256&i)){t[Ou].effectManager?.flush(),vv(t);try{Zw(t),function rC(n){return ln.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&oA(n,t,e,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&n0(t,l,null)}else{const l=n.preOrderHooks;null!==l&&r0(t,l,0,null),_v(t,0)}if(function ML(n){for(let t=$C(n);null!==t;t=YC(t)){if(!t[Sw])continue;const e=t[Pu];for(let r=0;r<e.length;r++){X6(e[r])}}}(t),wA(t,2),null!==n.contentQueries&&pA(n,t),s){const l=n.contentCheckHooks;null!==l&&n0(t,l)}else{const l=n.contentHooks;null!==l&&r0(t,l,1),_v(t,1)}!function eL(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const r=eA(t,Sf);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)Rl(~o);else{const s=o,a=e[++i],c=e[++i];ik(a,s),r.dirty=!1;const l=sv(r);try{c(2,t[s])}finally{av(r,l)}}}}finally{null===t[Sf]&&tA(t,Sf),Rl(-1)}}(n,t);const a=n.components;null!==a&&EA(t,a,0);const c=n.viewQuery;if(null!==c&&Ny(2,c,r),s){const l=n.viewCheckHooks;null!==l&&n0(t,l)}else{const l=n.viewHooks;null!==l&&r0(t,l,2),_v(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[gn]&=-73,qw(t)}finally{yv()}}}function wA(n,t){for(let e=$C(n);null!==e;e=YC(e))for(let r=Ji;r<e.length;r++)CA(e[r],t)}function TL(n,t,e){CA(bs(t,n),e)}function CA(n,t){if(!function W6(n){return 128==(128&n[gn])}(n))return;const e=n[Ft],r=n[gn];if(80&r&&0===t||1024&r||2===t)bA(e,n,e.template,n[di]);else if(n[bf]>0){wA(n,1);const i=e.components;null!==i&&EA(n,i,1)}}function EA(n,t,e){for(let r=0;r<t.length;r++)TL(n,t[r],e)}class Kf{get rootNodes(){const t=this._lView,e=t[Ft];return qf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[di]}set context(t){this._lView[di]=t}get destroyed(){return 256==(256&this._lView[gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xr];if(Ro(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(w0(t,r),u0(e,r))}this._attachedToViewContainer=!1}Bv(this._lView[Ft],this._lView)}onDestroy(t){!function Qw(n,t){if(256==(256&n[gn]))throw new Te(911,!1);null===n[Lc]&&(n[Lc]=[]),n[Lc].push(t)}(this._lView,t)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[gn]&=-129}reattach(){this._lView[gn]|=128}detectChanges(){W0(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _5(n,t){Uf(n,t,t[dn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=t}}class OL extends Kf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;W0(t[Ft],t,t[di],!1)}checkNoChanges(){}get context(){return null}}class AA extends id{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xn(t);return new Qf(e,this.ngModule)}}function SA(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class NL{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=Il(r);const i=this.injector.get(t,vy,r);return i!==vy||e===vy?i:this.parentInjector.get(t,e,r)}}class Qf extends NE{get inputs(){const t=this.componentDef,e=t.inputTransforms,r=SA(t.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return SA(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function ev(n){return n.map(kc).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Cs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new NL(t,o):t,a=s.get($f,null);if(null===a)throw new Te(407,!1);const g={rendererFactory:a,sanitizer:s.get(DF,null),effectManager:s.get(_A,null),afterRenderEventManager:s.get(Cy,null)},y=a.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",w=r?function nL(n,t,e,r){const o=r.get(qE,!1)||e===u.ShadowDom,s=n.selectRootElement(t,o);return function rL(n){aA(n)}(s),s}(y,r,this.componentDef.encapsulation,s):b0(y,_,function RL(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_)),P=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let O=null;null!==w&&(O=py(w,s,!0));const G=My(0,null,null,1,0,null,null,null,null,null,null),Z=j0(null,G,null,P,null,null,g,y,s,null,O);let oe,fe;vv(Z);try{const Ie=this.componentDef;let Re,et=null;Ie.findHostDirectiveDefs?(Re=[],et=new Map,Ie.findHostDirectiveDefs(Ie,Re,et),Re.push(Ie)):Re=[Ie];const dt=function kL(n,t){const e=n[Ft],r=Ln;return n[r]=t,cd(e,r,2,"#host",null)}(Z,w),Vt=function FL(n,t,e,r,i,o,s){const a=i[Ft];!function LL(n,t,e,r){for(const i of n)t.mergedAttrs=me(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(z0(t,t.mergedAttrs,!0),null!==e&&lE(r,e,t))}(r,n,t,s);let c=null;null!==t&&(c=py(t,i[Fc]));const l=o.rendererFactory.createRenderer(t,e);let h=16;e.signals?h=4096:e.onPush&&(h=64);const g=j0(i,sA(e),null,h,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Oy(a,n,r.length-1),H0(i,g),i[n.index]=g}(dt,w,Ie,Re,Z,g,y);fe=Yw(G,Ln),w&&function VL(n,t,e,r){if(r)$(n,e,["ng-version",MF.full]);else{const{attrs:i,classes:o}=function tv(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!tn(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&$(n,e,i),o&&o.length>0&&cE(n,e,o.join(" "))}}(y,Ie,w,r),void 0!==e&&function UL(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(fe,this.ngContentSelectors,e),oe=function BL(n,t,e,r,i,o){const s=to(),a=i[Ft],c=ns(s,i);uA(a,i,s,e,null,r);for(let h=0;h<e.length;h++)go(Nl(i,a,s.directiveStart+h,s),i);dA(a,i,s),c&&go(c,i);const l=Nl(i,a,s.directiveStart+s.componentOffset,s);if(n[di]=i[di]=l,null!==o)for(const h of o)h(l,t);return Sy(a,s,n),l}(Vt,Ie,Re,et,Z,[jL]),ky(G,Z,null)}finally{yv()}return new PL(this.componentType,oe,od(fe,Z),Z,fe)}}class PL extends wF{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new OL(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;Py(o[Ft],o,i,t,e),this.previousInputValues.set(t,e),Yf(bs(this._tNode.index,o))}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function jL(){const n=to();t0(ct()[Ft],n)}function Yn(n){let t=function IA(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(ha(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Te(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=G0(n.inputs),s.inputTransforms=G0(n.inputTransforms),s.declaredInputs=G0(n.declaredInputs),s.outputs=G0(n.outputs);const a=i.hostBindings;a&&GL(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&zL(n,c),l&&WL(n,l),Jr(n.inputs,i.inputs),Jr(n.declaredInputs,i.declaredInputs),Jr(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Jr(s.inputTransforms,i.inputTransforms)),ha(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Yn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HL(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=me(i.hostAttrs,e=me(e,i.hostAttrs))}}(r)}function G0(n){return n===d?{}:n===f?[]:n}function zL(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function WL(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function GL(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}function OA(n){const t=n.inputConfig,e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}n.inputTransforms=e}function X0(n){return!!Fy(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Fy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Xs(n,t,e,r){const i=ct();return mo(i,Bu(),t)&&($n(),Fa(ei(),i,n,t,e,r)),Xs}function ud(n,t,e,r){return mo(n,Bu(),e)?t+Bt(e)+r:fn}function xn(n,t,e,r,i,o,s,a){const c=ct(),l=$n(),h=n+Ln,g=l.firstCreatePass?function mB(n,t,e,r,i,o,s,a,c){const l=t.consts,h=cd(t,n,4,s||null,Vc(l,a));Ty(t,e,h,Vc(l,c)),t0(t,h);const g=h.tView=My(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,h),g.queries=t.queries.embeddedTView(h)),h}(h,l,c,t,e,r,i,o,s):l.data[h];Pa(g,!1);const y=WA(l,c,g,n);e0()&&E0(l,c,y,g),go(y,c),H0(c,c[h]=hA(y,c,y,g)),qp(g)&&Iy(l,c,g),null!=s&&Dy(c,g,a)}let WA=function GA(n,t,e,r){return Uc(!0),t[dn].createComment("")};function pt(n,t,e){const r=ct();return mo(r,Bu(),t)&&Es($n(),ei(),r,n,t,r[dn],e,!1),pt}function Hy(n,t,e,r,i){const s=i?"class":"style";Py(n,e,t.inputs[s],s,r)}function he(n,t,e,r){const i=ct(),o=$n(),s=Ln+n,a=i[dn],c=o.firstCreatePass?function bB(n,t,e,r,i,o){const s=t.consts,c=cd(t,n,2,r,Vc(s,i));return Ty(t,e,c,Vc(s,o)),null!==c.attrs&&z0(c,c.attrs,!1),null!==c.mergedAttrs&&z0(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,e,r):o.data[s],l=XA(o,i,c,a,t,n);i[s]=l;const h=qp(c);return Pa(c,!0),lE(a,l,c),32!=(32&c.flags)&&e0()&&E0(o,i,l,c),0===function Y6(){return ln.lFrame.elementDepthCount}()&&go(l,i),function Z6(){ln.lFrame.elementDepthCount++}(),h&&(Iy(o,i,c),Sy(o,c,i)),null!==r&&Dy(i,c),he}function pe(){let n=to();fv()?hv():(n=n.parent,Pa(n,!1));const t=n;(function K6(n){return ln.skipHydrationRootTNode===n})(t)&&function tk(){ln.skipHydrationRootTNode=null}(),function q6(){ln.lFrame.elementDepthCount--}();const e=$n();return e.firstCreatePass&&(t0(e,n),rv(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function mk(n){return 0!=(8&n.flags)}(t)&&Hy(e,t,ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vk(n){return 0!=(16&n.flags)}(t)&&Hy(e,t,ct(),t.stylesWithoutHost,!1),pe}function br(n,t,e,r){return he(n,t,e,r),pe(),br}let XA=(n,t,e,r,i,o)=>(Uc(!0),b0(r,i,function dC(){return ln.lFrame.currentNamespace}()));function no(){return ct()}function rh(n){return!!n&&"function"==typeof n.then}function ZA(n){return!!n&&"function"==typeof n.subscribe}function mt(n,t,e,r){const i=ct(),o=$n(),s=to();return qA(o,i,i[dn],s,n,t,r),mt}function Gy(n,t){const e=to(),r=ct(),i=$n();return qA(i,r,vA(gv(i.data),e,r),e,n,t),Gy}function qA(n,t,e,r,i,o,s){const a=qp(r),l=n.firstCreatePass&&mA(n),h=t[di],g=gA(t);let y=!0;if(3&r.type||s){const C=ns(r,t),D=s?s(C):C,P=g.length,O=s?Z=>s(Mr(Z[r.index])):r.index;let G=null;if(!s&&a&&(G=function IB(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[Tu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,y=!1;else{o=QA(r,t,h,o,!1);const Z=e.listen(D,i,o);g.push(o,Z),l&&l.push(i,O,P,P+1)}}else o=QA(r,t,h,o,!1);const _=r.outputs;let w;if(y&&null!==_&&(w=_[i])){const C=w.length;if(C)for(let D=0;D<C;D+=2){const oe=t[w[D]][w[D+1]].subscribe(o),fe=g.length;g.push(o,oe),l&&l.push(i,r.index,fe,-(fe+1))}}}function KA(n,t,e,r){try{return Na(6,t,e),!1!==e(r)}catch(i){return yA(n,i),!1}finally{Na(7,t,e)}}function QA(n,t,e,r,i){return function o(s){if(s===Function)return r;Yf(n.componentOffset>-1?bs(n.index,t):t);let c=KA(t,e,r,s),l=o.__ngNextListenerFn__;for(;l;)c=KA(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function vn(n=1){return function ak(n){return(ln.lFrame.contextLView=function ck(n,t){for(;n>0;)t=t[Ru],n--;return t}(n,ln.lFrame.contextLView))[di]}(n)}function DB(n,t){let e=null;const r=function ho(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Qo(n,o,!0):To(r,o))return i}else e=i}return e}function K0(n,t=0,e){const r=ct(),i=$n(),o=cd(i,Ln+n,16,null,e||null);null===o.projection&&(o.projection=t),hv(),(!r[sc]||Lu())&&32!=(32&o.flags)&&function I5(n,t,e){aE(t[dn],0,t,e,Uv(n,e,t),tE(e.parent||t[po],e,t))}(i,r,o)}function Xy(n,t,e){return $y(n,"",t,"",e),Xy}function $y(n,t,e,r,i){const o=ct(),s=ud(o,t,e,r);return s!==fn&&Es($n(),ei(),o,n,s,o[dn],i,!1),$y}function Q0(n,t){return n<<17|t<<2}function Wc(n){return n>>17&32767}function Yy(n){return 2|n}function Bl(n){return(131068&n)>>2}function Zy(n,t){return-131069&n|t<<2}function qy(n){return 1|n}function cS(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?Wc(o):Bl(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];PB(n[a],t)&&(c=!0,n[a+1]=r?qy(h):Yy(h)),a=r?Wc(h):Bl(h)}c&&(n[e+1]=r?Yy(o):qy(o))}function PB(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Xu(n,t)>=0}function Gc(n,t,e){return pa(n,t,e,!1),Gc}function Vl(n,t){return pa(n,t,null,!0),Vl}function pa(n,t,e,r){const i=ct(),o=$n(),s=function cc(n){const t=ln.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);o.firstUpdatePass&&function mS(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Po()],s=function gS(n,t){return t>=n.expandoStartIndex}(n,e);(function xS(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function zB(n,t,e,r){const i=gv(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ih(e=Ky(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=Ky(i,n,t,e,r),null===o){let c=function WB(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Bl(r))return n[Wc(r)]}(n,t,r);void 0!==c&&Array.isArray(c)&&(c=Ky(null,n,t,c[1],r),c=ih(c,t.attrs,r),function GB(n,t,e,r){n[Wc(e?t.classBindings:t.styleBindings)]=r}(n,t,r,c))}else o=function XB(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ih(r,n[o].hostAttrs,e);return ih(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function RB(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Wc(s),c=Bl(s);n[r]=e;let h,l=!1;if(Array.isArray(e)?(h=e[1],(null===h||Xu(e,h)>0)&&(l=!0)):h=e,i)if(0!==c){const y=Wc(n[a+1]);n[r+1]=Q0(y,a),0!==y&&(n[y+1]=Zy(n[y+1],r)),n[a+1]=function TB(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Q0(a,0),0!==a&&(n[a+1]=Zy(n[a+1],r)),a=r;else n[r+1]=Q0(c,0),0===a?a=r:n[c+1]=Zy(n[c+1],r),c=r;l&&(n[r+1]=Yy(n[r+1])),cS(n,h,r,!0),cS(n,h,r,!1),function NB(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Xu(o,t)>=0&&(e[r+1]=qy(e[r+1]))}(t,h,n,r,o),s=Q0(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==fn&&mo(i,s,t)&&function yS(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],h=function OB(n){return 1==(1&n)}(l)?_S(c,t,e,i,Bl(l),s):void 0;J0(h)||(J0(o)||function MB(n){return 2==(2&n)}(l)&&(o=_S(c,null,e,i,a,s)),function M5(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:jc.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jc.Important),n.setStyle(e,r,i,o))}}(r,s,Jp(Po(),e),i,o))}(o,o.data[Po()],i,i[dn],n,i[s+1]=function qB(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=xr(Hc(n)))),n}(t,e),r,s)}function Ky(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=ih(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function ih(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ws(n,s,!!e||t[++o]))}return void 0===n?null:n}function _S(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),h=l?c[1]:c,g=null===h;let y=e[i+1];y===fn&&(y=g?f:void 0);let _=g?Iv(y,r):h===r?y:void 0;if(l&&!J0(_)&&(_=Iv(c,r)),J0(_)&&(a=_,s))return a;const w=n[i+1];i=s?Wc(w):Bl(w)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Iv(c,r))}return a}function J0(n){return void 0!==n}function Pe(n,t=""){const e=ct(),r=$n(),i=n+Ln,o=r.firstCreatePass?cd(r,i,1,t,null):r.data[i],s=bS(r,e,o,t,n);e[i]=s,e0()&&E0(r,e,s,o),Pa(o,!1)}let bS=(n,t,e,r,i)=>(Uc(!0),function x0(n,t){return n.createText(t)}(t[dn],r));function ro(n){return io("",n,""),ro}function io(n,t,e){const r=ct(),i=ud(r,n,t,e);return i!==fn&&function hc(n,t,e){const r=Jp(t,n);!function qC(n,t,e){n.setValue(t,e)}(n[dn],r,e)}(r,Po(),i),io}function Qy(n,t,e){const r=ct();if(mo(r,Bu(),t)){const o=$n(),s=ei();Es(o,s,r,n,t,vA(gv(o.data),s,r),e,!0)}return Qy}const xd="en-US";let HS=xd;function t_(n,t,e,r,i){if(n=ve(n),Array.isArray(n))for(let o=0;o<n.length;o++)t_(n[o],t,e,r,i);else{const o=$n(),s=ct(),a=to();let c=kl(n)?n:ve(n.provide);const l=DE(n),h=1048575&a.providerIndexes,g=a.directiveStart,y=a.providerIndexes>>20;if(kl(n)||!n.multi){const _=new Tf(l,i,We),w=r_(c,t,i?h:h+y,g);-1===w?(Ev(s0(a,s),o,c),n_(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(_),s.push(_)):(e[w]=_,s[w]=_)}else{const _=r_(c,t,h+y,g),w=r_(c,t,h,h+y),D=w>=0&&e[w];if(i&&!D||!i&&!(_>=0&&e[_])){Ev(s0(a,s),o,c);const P=function v9(n,t,e,r,i){const o=new Tf(n,e,We);return o.multi=[],o.index=t,o.componentProviders=0,hI(o,i,r&&!e),o}(i?m9:g9,e.length,i,r,l);!i&&D&&(e[w].providerFactory=P),n_(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(P),s.push(P)}else n_(o,n,_>-1?_:w,hI(e[i?w:_],l,!i&&r));!i&&r&&D&&e[w].componentProviders++}}}function n_(n,t,e,r){const i=kl(t),o=function oF(n){return!!n.useClass}(t);if(i||o){const c=(o?ve(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const h=l.indexOf(e);-1===h?l.push(e,[r,c]):l[h+1].push(r,c)}else l.push(e,c)}}}function hI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function r_(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function g9(n,t,e,r){return i_(this.multi,[])}function m9(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Nl(e,e[Ft],this.providerFactory.index,r);o=a.slice(0,s),i_(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],i_(i,o);return o}function i_(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function $r(n,t=[]){return e=>{e.providersResolver=(r,i)=>function p9(n,t,e){const r=$n();if(r.firstCreatePass){const i=ha(n);t_(e,r.data,r.blueprint,i,!0),t_(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class jl{}class pI{}class o_ extends jl{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AA(this);const i=xs(t);this._bootstrapComponents=fc(i.bootstrap),this._r3Injector=VE(t,e,[{provide:jl,useValue:this},{provide:id,useValue:this.componentFactoryResolver},...r],xr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class s_ extends pI{constructor(t){super(),this.moduleType=t}create(t){return new o_(this.moduleType,t,[])}}class gI extends jl{constructor(t){super(),this.componentFactoryResolver=new AA(this),this.instance=null;const e=new Ju([...t.providers,{provide:jl,useValue:this},{provide:id,useValue:this.componentFactoryResolver}],t.parent||O0(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function a_(n,t,e=null){return new gI({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let x9=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=EE(0,e.type),i=r.length>0?a_([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ne({token:n,providedIn:"environment",factory:()=>new n(Ue(Cs))})}}return n})();function mI(n){n.getStandaloneInjector=t=>t.get(x9).getOrCreateStandaloneInjector(n)}function X9(){return this._results[Symbol.iterator]()}class fh{get changes(){return this._changes||(this._changes=new hr)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=fh.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=X9)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function Ws(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ok(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Y9(n,t,e,r=!0){const i=t[Ft];if(function b5(n,t,e,r){const i=Ji+r,o=e.length;r>0&&(e[i-1][fa]=t),r<o-Ji?(t[fa]=e[i],SC(e,Ji+r,t)):(e.push(t),t[fa]=null),t[Xr]=e;const s=t[Cf];null!==s&&e!==s&&function w5(n,t){const e=n[Pu];t[fi]!==t[Xr][Xr][fi]&&(n[Sw]=!0),null===e?n[Pu]=[t]:e.push(t)}(s,t);const a=t[Oa];null!==a&&a.insertView(n),t[gn]|=128}(i,t,n,e),r){const o=Hv(e,n),s=t[dn],a=C0(s,n[Ra]);null!==a&&function y5(n,t,e,r,i,o){r[ai]=i,r[po]=t,Uf(n,r,e,1,i,o)}(i,n[po],s,t,a,o)}}let Ua=(()=>{class n{static{this.__NG_ELEMENT_ID__=K9}}return n})();const Z9=Ua,q9=class extends Z9{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){const i=function $9(n,t,e,r){const i=t.tView,a=j0(n,i,e,4096&n[gn]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Cf]=n[t.index];const l=n[Oa];return null!==l&&(a[Oa]=l.createEmbeddedView(i)),ky(i,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:r});return new Kf(i)}};function K9(){return ig(to(),ct())}function ig(n,t){return 4&n.type?new q9(t,n,od(n,t)):null}let $s=(()=>{class n{static{this.__NG_ELEMENT_ID__=rV}}return n})();function rV(){return PI(to(),ct())}const iV=$s,RI=class extends iV{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=a0(this._hostTNode,this._hostLView);if(bv(t)){const e=Rf(t,this._hostLView),r=Of(t);return new ko(e[Ft].data[r+8],e)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=NI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,e,r,i,o){const s=t&&!function Pf(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const C=e||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const c=s?t:new Qf(Xn(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const D=(s?l:this.parentInjector).get(Cs,null);D&&(o=D)}Xn(c.componentType??{});const _=c.create(l,i,null,o);return this.insertImpl(_.hostView,a,false),_}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,r){const i=t._lView;if(function G6(n){return Ro(n[Xr])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=i[Xr],h=new RI(l,l[po],l[Xr]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Y9(a,i,s,!r),t.attachToViewContainerRef(),SC(l_(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=NI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=w0(this._lContainer,e);r&&(u0(l_(this._lContainer),e),Bv(r[Ft],r))}detach(t){const e=this._adjustIndex(t,-1),r=w0(this._lContainer,e);return r&&null!=u0(l_(this._lContainer),e)?new Kf(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function NI(n){return n[8]}function l_(n){return n[8]||(n[8]=[])}function PI(n,t){let e;const r=t[n.index];return Ro(r)?e=r:(e=hA(r,t,null,n),t[n.index]=e,H0(t,e)),kI(e,t,n,r),new RI(e,n,t)}let kI=function FI(n,t,e,r){if(n[Ra])return;let i;i=8&e.type?Mr(r):function oV(n,t){const e=n[dn],r=e.createComment(""),i=ns(t,n);return Pl(e,C0(e,i),r,function S5(n,t){return n.nextSibling(t)}(e,i),!1),r}(t,e),n[Ra]=i};class u_{constructor(t){this.queryList=t,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class d_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new d_(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==HI(t,e).matches&&this.queries[e].setDirty()}}class LI{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class f_{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new f_(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class h_{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new h_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,cV(e,o)),this.matchTNodeWithReadOption(t,e,c0(e,t,o,!1,!1))}else r===Ua?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,c0(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===hi||i===$s||i===Ua&&4&e.type)this.addMatch(e.index,-2);else{const o=c0(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cV(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function uV(n,t,e,r){return-1===e?function lV(n,t){return 11&n.type?od(n,t):4&n.type?ig(n,t):null}(t,n):-2===e?function dV(n,t,e){return e===hi?od(t,n):e===Ua?ig(t,n):e===$s?PI(t,n):void 0}(n,t,r):Nl(n,n[Ft],e,t)}function BI(n,t,e,r){const i=t[Oa].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:uV(t,o[l],s[c+1],e.metadata.read))}i.matches=a}return i.matches}function p_(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=BI(n,t,i,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],h=t[-c];for(let g=Ji;g<h.length;g++){const y=h[g];y[Cf]===y[Xr]&&p_(y[Ft],y,l,r)}if(null!==h[Pu]){const g=h[Pu];for(let y=0;y<g.length;y++){const _=g[y];p_(_[Ft],_,l,r)}}}}}return r}function bd(n){const t=ct(),e=$n(),r=oC();mv(r+1);const i=HI(e,r);if(n.dirty&&function z6(n){return 4==(4&n[gn])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?p_(e,t,r,[]):BI(e,t,i,r);n.reset(o,SF),n.notifyOnChanges()}return!0}return!1}function hh(n,t,e){const r=$n();r.firstCreatePass&&(function jI(n,t,e){null===n.queries&&(n.queries=new f_),n.queries.track(new h_(t,e))}(r,new LI(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),function UI(n,t,e){const r=new fh(4==(4&e));(function sL(n,t,e,r){const i=gA(t);i.push(e),n.firstCreatePass&&mA(n).push(r,i.length-1)})(n,t,r,r.destroy),null===t[Oa]&&(t[Oa]=new d_),t[Oa].queries.push(new u_(r))}(r,ct(),t)}function wd(){return function fV(n,t){return n[Oa].queries[t].queryList}(ct(),oC())}function HI(n,t){return n.queries.getByIndex(t)}const x_=new Ge("Application Initializer");let b_=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Ct(x_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(rh(o))e.push(o);else if(ZA(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oD=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ja=new Ge("LocaleId",{providedIn:"root",factory:()=>Ct(ja,Dn.Optional|Dn.SkipSelf)||function kV(){return typeof $localize<"u"&&$localize.locale||xd}()});let ag=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new si(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class BV{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let sD=(()=>{class n{compileModuleSync(e){return new s_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=fc(xs(e).declarations).reduce((s,a)=>{const c=Xn(a);return c&&s.push(new Qf(c)),s},[]);return new BV(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const uD=new Ge(""),lg=new Ge("");let S_,E_=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,S_||(function sU(n){S_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Ue(mn),Ue(A_),Ue(lg))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),A_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return S_?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Xc=null;const dD=new Ge("AllowMultipleToken"),I_=new Ge("PlatformDestroyListeners"),D_=new Ge("appBootstrapListener");class hD{constructor(t,e){this.name=t,this.token=e}}function gD(n,t,e=[]){const r=`Platform: ${t}`,i=new Ge(r);return(o=[])=>{let s=M_();if(!s||s.injector.get(dD,!1)){const a=[...e,...o,{provide:i,useValue:!0}];n?n(a):function lU(n){if(Xc&&!Xc.get(dD,!1))throw new Te(400,!1);(function fD(){!function T6(n){Bw=n}(()=>{throw new Te(600,!1)})})(),Xc=n;const t=n.get(vD);(function pD(n){n.get(ME,null)?.forEach(e=>e())})(n)}(function mD(n=[],t){return Ri.create({name:t,providers:[{provide:ny,useValue:"platform"},{provide:I_,useValue:new Set([()=>Xc=null])},...n]})}(a,r))}return function dU(n){const t=M_();if(!t)throw new Te(401,!1);return t}()}}function M_(){return Xc?.get(vD)??null}let vD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function fU(n="zone.js",t){return"noop"===n?new HF:"zone.js"===n?new mn(t):n}(r?.ngZone,function yD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function _9(n,t,e){return new o_(n,t,e)}(e.moduleType,this.injector,function CD(n){return[{provide:mn,useFactory:n},{provide:Wf,multi:!0,useFactory:()=>{const t=Ct(pU,{optional:!0});return()=>t.initialize()}},{provide:wD,useFactory:hU},{provide:WE,useFactory:GE}]}(()=>i)),s=o.injector.get(dc,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ug(this._modules,o),a.unsubscribe()})}),function _D(n,t,e){try{const r=e();return rh(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(b_);return a.runInitializers(),a.donePromise.then(()=>(function zS(n){ne(n,"Expected localeId to be defined"),"string"==typeof n&&(HS=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ja,xd)||xd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,r=[]){const i=xD({},r);return function aU(n,t,e){const r=new s_(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get($c);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Te(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(I_,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Ue(Ri))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function xD(n,t){return Array.isArray(t)?t.reduce(xD,n):{...n,...t}}let $c=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct(wD),this.zoneIsStable=Ct(WE),this.componentTypes=[],this.components=[],this.isStable=Ct(ag).hasPendingTasks.pipe(Me(e=>e?Yt(!1):this.zoneIsStable),Q(),kn()),this._injector=Ct(Cs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof NE;if(!this._injector.get(b_).done)throw!i&&function Mu(n){const t=Xn(n)||Qi(n)||Oo(n);return null!==t&&t.standalone}(e),new Te(405,!1);let s;s=i?e:this._injector.get(id).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function cU(n){return n.isBoundToModule}(s)?void 0:this._injector.get(jl),l=s.create(Ri.NULL,[],r||s.selector,a),h=l.location.nativeElement,g=l.injector.get(uD,null);return g?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ug(this.components,l),g?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;ug(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(D_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ug(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Te(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ug(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const wD=new Ge("",{providedIn:"root",factory:()=>Ct(dc).handleError.bind(void 0)});function hU(){const n=Ct(mn),t=Ct(dc);return e=>n.runOutsideAngular(()=>t.handleError(e))}let pU=(()=>{class n{constructor(){this.zone=Ct(mn),this.applicationRef=Ct($c)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let mh=(()=>{class n{static{this.__NG_ELEMENT_ID__=mU}}return n})();function mU(n){return function vU(n,t,e){if(Tl(n)&&!e){const r=bs(n.index,t);return new Kf(r,r)}return 47&n.type?new Kf(t[fi],t):null}(to(),ct(),16==(16&n))}class DD{constructor(){}supports(t){return X0(t)}create(t){return new wU(t)}}const bU=(n,t)=>t;class wU{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bU}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<TD(r,i,o)?e:r,a=TD(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let y=0;y<l;y++){const _=y<o.length?o[y]:o[y]=0,w=_+y;h<=w&&w<l&&(o[y]=_+1)}o[s.previousIndex]=h-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!X0(t))throw new Te(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function QL(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new CU(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new MD),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CU{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EU{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class MD{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new EU,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TD(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class OD{constructor(){}supports(t){return t instanceof Map||Fy(t)}create(){return new AU}}class AU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fy(t)))throw new Te(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new SU(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class SU{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RD(){return new hg([new DD])}let hg=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:RD})}constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||RD()),deps:[[n,new h0,new f0]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Te(901,!1)}}return n})();function ND(){return new vh([new OD])}let vh=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:ND})}constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||ND()),deps:[[n,new h0,new f0]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Te(901,!1)}}return n})();const MU=gD(null,"core",[]);let TU=(()=>{class n{constructor(e){}static{this.\u0275fac=function(r){return new(r||n)(Ue($c))}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();function Ad(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let k_=null;function Yc(){return k_}class WU{}const qn=new Ge("DocumentToken");let F_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Ct(XU)},providedIn:"platform"})}}return n})();const GU=new Ge("Location Initialized");let XU=(()=>{class n extends F_{constructor(){super(),this._doc=Ct(qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yc().getBaseHref(this._doc)}onPopState(e){const r=Yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function L_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function HD(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function pc(n){return n&&"?"!==n[0]?"?"+n:n}let zl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Ct(WD)},providedIn:"root"})}}return n})();const zD=new Ge("appBaseHref");let WD=(()=>{class n extends zl{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ct(qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return L_(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+pc(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+pc(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+pc(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Ue(F_),Ue(zD,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$U=(()=>{class n extends zl{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=L_(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+pc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+pc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Ue(F_),Ue(zD,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),gg=(()=>{class n{constructor(e){this._subject=new hr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function qU(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(HD(GD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+pc(r))}normalize(e){return n.stripTrailingSlash(function ZU(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,GD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pc(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=pc}static{this.joinWithSlash=L_}static{this.stripTrailingSlash=HD}static{this.\u0275fac=function(r){return new(r||n)(Ue(zl))}}static{this.\u0275prov=Ne({token:n,factory:function(){return function YU(){return new gg(Ue(zl))}()},providedIn:"root"})}}return n})();function GD(n){return n.replace(/\/index.html$/,"")}function eM(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const $_=/\s+/,tM=[];let Y_=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=tM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split($_):tM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split($_):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split($_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(We(hg),We(vh),We(hi),We(uc))}}static{this.\u0275dir=Jt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class kj{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wl=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kj(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),rM(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{rM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(We($s),We(Ua),We(hg))}}static{this.\u0275dir=Jt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function rM(n,t){n.context.$implicit=t.item}let ss=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Fj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){iM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){iM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(We($s),We(Ua))}}static{this.\u0275dir=Jt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Fj{constructor(){this.$implicit=null,this.ngIf=null}}function iM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${xr(t)}'.`)}let Sg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();const aM="browser";function cM(n){return"server"===n}let dH=(()=>{class n{static{this.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new fH(Ue(qn),window)})}}return n})();class fH{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function hH(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class lM{}class FH extends WU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tx extends FH{static makeCurrent(){!function zU(n){k_||(k_=n)}(new tx)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function LH(){return bh=bh||document.querySelector("base"),bh?bh.getAttribute("href"):null}();return null==e?null:function BH(n){Mg=Mg||document.createElement("a"),Mg.setAttribute("href",n);const t=Mg.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){bh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return eM(document.cookie,t)}}let Mg,bh=null,UH=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const nx=new Ge("EventManagerPlugins");let pM=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Te(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||n)(Ue(nx),Ue(mn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class gM{constructor(t){this._doc=t}}const rx="ng-app-id";let mM=(()=>{class n{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cM(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${rx}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(rx),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(rx,this.appId),s}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(R0),Ue(sy,8),Ue(zc))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const ix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ox=/%COMP%/g,WH=new Ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yM(n,t){return t.map(e=>e.replace(ox,n))}let sx=(()=>{class n{constructor(e,r,i,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=cM(a),this.defaultRenderer=new ax(e,s,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ShadowDom&&(r={...r,encapsulation:u.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof xM?i.applyToHost(e):i instanceof cx&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case u.Emulated:o=new xM(c,l,r,this.appId,h,s,a,g);break;case u.ShadowDom:return new YH(c,l,e,r,s,a,this.nonce,g);default:o=new cx(c,l,r,h,s,a,g)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Ue(pM),Ue(mM),Ue(R0),Ue(WH),Ue(qn),Ue(zc),Ue(mn),Ue(sy))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class ax{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ix[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_M(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(_M(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Te(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=ix[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=ix[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(jc.DashCase|jc.Important)?t.style.setProperty(e,r,i&jc.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&jc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=Yc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function _M(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class YH extends ax{constructor(t,e,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=yM(i.id,i.styles);for(const h of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cx extends ax{constructor(t,e,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?yM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xM extends cx{constructor(t,e,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,e,r,o,s,a,c,l),this.contentAttr=function GH(n){return"_ngcontent-%COMP%".replace(ox,n)}(l),this.hostAttr=function XH(n){return"_nghost-%COMP%".replace(ox,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let ZH=(()=>{class n extends gM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const bM=["alt","control","meta","shift"],qH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let QH=(()=>{class n extends gM{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bM.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(e,r){let i=qH[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bM.forEach(s=>{s!==i&&(0,KH[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const CM=[{provide:zc,useValue:aM},{provide:ME,useValue:function JH(){tx.makeCurrent()},multi:!0},{provide:qn,useFactory:function tz(){return function P5(n){Gv=n}(document),document},deps:[]}],nz=gD(MU,"browser",CM),rz=new Ge(""),EM=[{provide:lg,useClass:class VH{addToWindow(t){tr.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Te(5103,!1);return o},tr.getAllAngularTestabilities=()=>t.getAllTestabilities(),tr.getAllAngularRootElements=()=>t.getAllRootElements(),tr.frameworkStabilizers||(tr.frameworkStabilizers=[]),tr.frameworkStabilizers.push(r=>{const i=tr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Yc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:uD,useClass:E_,deps:[mn,A_,lg]},{provide:E_,useClass:E_,deps:[mn,A_,lg]}],AM=[{provide:ny,useValue:"root"},{provide:dc,useFactory:function ez(){return new dc},deps:[]},{provide:nx,useClass:ZH,multi:!0,deps:[qn,mn,zc]},{provide:nx,useClass:QH,multi:!0,deps:[qn]},sx,mM,pM,{provide:$f,useExisting:sx},{provide:lM,useClass:UH,deps:[]},[]];let SM=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:R0,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Ue(rz,12))}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({providers:[...AM,...EM],imports:[Sg,TU]})}}return n})(),IM=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:function(r){let i=null;return i=r?new r:function oz(){return new IM(Ue(qn))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:uz}=Array,{getPrototypeOf:dz,prototype:fz,keys:hz}=Object;function OM(n){if(1===n.length){const t=n[0];if(uz(t))return{args:t,keys:null};if(function pz(n){return n&&"object"==typeof n&&dz(n)===fz}(t)){const e=hz(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:gz}=Array;function ux(n){return Gt(t=>function mz(n,t){return gz(t)?n(...t):n(t)}(n,t))}function RM(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}let NM=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||n)(We(uc),We(hi))}}static{this.\u0275dir=Jt({type:n})}}return n})(),Gl=(()=>{class n extends NM{static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275dir=Jt({type:n,features:[Yn]})}}return n})();const Ha=new Ge("NgValueAccessor"),yz={provide:Ha,useExisting:X(()=>dx),multi:!0};let dx=(()=>{class n extends Gl{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275dir=Jt({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&mt("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[$r([yz]),Yn]})}}return n})();const _z={provide:Ha,useExisting:X(()=>qs),multi:!0},bz=new Ge("CompositionEventMode");let qs=(()=>{class n extends NM{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xz(){const n=Yc()?Yc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||n)(We(uc),We(hi),We(bz,8))}}static{this.\u0275dir=Jt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&mt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$r([_z]),Yn]})}}return n})();function qc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function PM(n){return null!=n&&"number"==typeof n.length}const vo=new Ge("NgValidators"),Kc=new Ge("NgAsyncValidators"),wz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kM{static min(t){return function FM(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function LM(n){return t=>{if(qc(t.value)||qc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function BM(n){return qc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function VM(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function UM(n){return qc(n.value)||wz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function jM(n){return t=>qc(t.value)||!PM(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function HM(n){return t=>PM(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function zM(n){if(!n)return Tg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(qc(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return ZM(t)}static composeAsync(t){return qM(t)}}function Tg(n){return null}function WM(n){return null!=n}function GM(n){return rh(n)?un(n):n}function XM(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function $M(n,t){return t.map(e=>e(n))}function YM(n){return n.map(t=>function Cz(n){return!n.validate}(t)?t:e=>t.validate(e))}function ZM(n){if(!n)return null;const t=n.filter(WM);return 0==t.length?null:function(e){return XM($M(e,t))}}function fx(n){return null!=n?ZM(YM(n)):null}function qM(n){if(!n)return null;const t=n.filter(WM);return 0==t.length?null:function(e){return function vz(...n){const t=Tn(n),{args:e,keys:r}=OM(n),i=new st(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let g=!1;Hn(e[h]).subscribe(Pt(o,y=>{g||(g=!0,l--),a[h]=y},()=>c--,void 0,()=>{(!c||!g)&&(l||o.next(r?RM(r,a):a),o.complete())}))}});return t?i.pipe(ux(t)):i}($M(e,t).map(GM)).pipe(Gt(XM))}}function hx(n){return null!=n?qM(YM(n)):null}function KM(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function QM(n){return n._rawValidators}function JM(n){return n._rawAsyncValidators}function px(n){return n?Array.isArray(n)?n:[n]:[]}function Og(n,t){return Array.isArray(n)?n.includes(t):n===t}function eT(n,t){const e=px(t);return px(n).forEach(i=>{Og(e,i)||e.push(i)}),e}function tT(n,t){return px(t).filter(e=>!Og(n,e))}class nT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Vo extends nT{get formDirective(){return null}get path(){return null}}class Qc extends nT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rT{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ya=(()=>{class n extends rT{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(We(Qc,2))}}static{this.\u0275dir=Jt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Yn]})}}return n})(),iT=(()=>{class n extends rT{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(We(Vo,10))}}static{this.\u0275dir=Jt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Yn]})}}return n})();const wh="VALID",Ng="INVALID",Id="PENDING",Ch="DISABLED";function vx(n){return(Pg(n)?n.validators:n)||null}function yx(n,t){return(Pg(t)?t.asyncValidators:n)||null}function Pg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function sT(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new Te(1e3,"");if(!r[e])throw new Te(1001,"")}function aT(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new Te(1002,"")})}class kg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wh}get invalid(){return this.status===Ng}get pending(){return this.status==Id}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(eT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tT(t,this._rawAsyncValidators))}hasValidator(t){return Og(this._rawValidators,t)}hasAsyncValidator(t){return Og(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Id,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wh||this.status===Id)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Id,this._hasOwnPendingAsyncValidator=!0;const e=GM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new hr,this.statusChanges=new hr}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?Ng:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Id)?Id:this._anyControlsHaveStatus(Ng)?Ng:wh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Iz(n){return Array.isArray(n)?fx(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Dz(n){return Array.isArray(n)?hx(n):n||null}(this._rawAsyncValidators)}}class Eh extends kg{constructor(t,e,r){super(vx(e),yx(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){aT(this,0,t),Object.keys(t).forEach(r=>{sT(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class cT extends Eh{}const Xl=new Ge("CallSetDisabledState",{providedIn:"root",factory:()=>Ah}),Ah="always";function Fg(n,t){return[...t.path,n]}function Sh(n,t,e=Ah){_x(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Tz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lT(n,t)})}(n,t),function Rz(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Oz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Mz(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Lg(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Vg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _x(n,t){const e=QM(n);null!==t.validator?n.setValidators(KM(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=JM(n);null!==t.asyncValidator?n.setAsyncValidators(KM(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bg(t._rawValidators,i),Bg(t._rawAsyncValidators,i)}function Vg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=QM(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=JM(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Bg(t._rawValidators,r),Bg(t._rawAsyncValidators,r),e}function lT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function wx(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===qs?e=o:function kz(n){return Object.getPrototypeOf(n.constructor)===Gl}(o)?r=o:i=o}),i||r||e||null}function fT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function hT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Dh=class extends kg{constructor(t=null,e,r){super(vx(e),yx(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=hT(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){hT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Uz={provide:Qc,useExisting:X(()=>_a)},mT=(()=>Promise.resolve())();let _a=(()=>{class n extends Qc{constructor(e,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Dh,this._registered=!1,this.name="",this.update=new hr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wx(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),bx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){mT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Ad(r);mT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Fg(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||n)(We(Vo,9),We(vo,10),We(Kc,10),We(Ha,10),We(mh,8),We(Xl,8))}}static{this.\u0275dir=Jt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$r([Uz]),Yn,ts]})}}return n})(),vT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Jt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),_T=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();const Ex=new Ge("NgModelWithFormControlWarning"),Xz={provide:Vo,useExisting:X(()=>Ug)};let Ug=(()=>{class n extends Vo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new hr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Sh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Lg(e.control||null,e,!1),function Fz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function dT(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Lg(r||null,e),(n=>n instanceof Dh)(i)&&(Sh(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function uT(n,t){_x(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Nz(n,t){return Vg(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_x(this.form,this),this._oldForm&&Vg(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(We(vo,10),We(Kc,10),We(Xl,8))}}static{this.\u0275dir=Jt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&mt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([Xz]),Yn,ts]})}}return n})();const Zz={provide:Qc,useExisting:X(()=>Ix)};let Ix=(()=>{class n extends Qc{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new hr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wx(0,o)}ngOnChanges(e){this._added||this._setUpControl(),bx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Fg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(We(Vo,13),We(vo,10),We(Kc,10),We(Ha,10),We(Ex,8))}}static{this.\u0275dir=Jt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$r([Zz]),Yn,ts]})}}return n})();const qz={provide:Ha,useExisting:X(()=>$l),multi:!0};function ET(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let $l=(()=>{class n extends Gl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=ET(this._getOptionId(e),e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function Kz(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275dir=Jt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&mt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([qz]),Yn]})}}return n})(),Mh=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ET(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(We(hi),We(uc),We($l,9))}}static{this.\u0275dir=Jt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Qz={provide:Ha,useExisting:X(()=>Dx),multi:!0};function AT(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Dx=(()=>{class n extends Gl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function Jz(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275dir=Jt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&mt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$r([Qz]),Yn]})}}return n})(),Th=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(AT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(AT(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(We(hi),We(uc),We(Dx,9))}}static{this.\u0275dir=Jt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),kT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[_T]})}}return n})();class FT extends kg{constructor(t,e,r){super(vx(e),yx(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){aT(this,0,t),t.forEach((r,i)=>{sT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function LT(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let cW=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let o={};return LT(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Eh(i,o)}record(e,r=null){const i=this._reduceControls(e);return new cT(i,r)}control(e,r,i){let o={};return this.useNonNullable?(LT(r)?o=r:(o.validators=r,o.asyncValidators=i),new Dh(e,{...o,nonNullable:!0})):new Dh(e,r,i)}array(e,r,i){const o=e.map(s=>this._createControl(s));return new FT(o,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof Dh||e instanceof kg?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Tx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Xl,useValue:e.callSetDisabledState??Ah}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[kT]})}}return n})(),lW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ex,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Xl,useValue:e.callSetDisabledState??Ah}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[kT]})}}return n})();function jg(...n){const t=oi(n),e=Tn(n),{args:r,keys:i}=OM(n);if(0===r.length)return un([],t);const o=new st(function dW(n,t,e=rt){return r=>{BT(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)BT(t,()=>{const l=un(n[c],t);let h=!1;l.subscribe(Pt(r,g=>{o[c]=g,h||(h=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>RM(i,s):rt));return e?o.pipe(ux(e)):o}function BT(n,t,e){n?qi(e,n,t):t()}const Hg=k(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zg(...n){return function fW(){return ii(1)}()(un(n,oi(n)))}function VT(n){return new st(t=>{Hn(n()).subscribe(t)})}function Oh(n,t){const e=E(n)?n:()=>n,r=i=>i.error(e());return new st(t?i=>t.schedule(r,0,i):r)}function Ox(){return Wt((n,t)=>{let e=null;n._refCount++;const r=Pt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class UT extends st{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,gt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new U;const e=this.getSubject();t.add(this.source.subscribe(Pt(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=U.EMPTY)}return t}refCount(){return Ox()(this)}}function za(n){return n<=0?()=>Qr:Wt((t,e)=>{let r=0;t.subscribe(Pt(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function jT(...n){const t=oi(n);return Wt((e,r)=>{(t?zg(n,e,t):zg(n,e)).subscribe(r)})}function Ss(n,t){return Wt((e,r)=>{let i=0;e.subscribe(Pt(r,o=>n.call(t,o,i++)&&r.next(o)))})}function Wg(n){return Wt((t,e)=>{let r=!1;t.subscribe(Pt(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function HT(n=hW){return Wt((t,e)=>{let r=!1;t.subscribe(Pt(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function hW(){return new Hg}function Zl(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Ss((i,o)=>n(i,o,r)):rt,za(1),e?Wg(t):HT(()=>new Hg))}function Dd(n,t){return E(t)?Cr(n,t,1):Cr(n,1)}function oo(n,t,e){const r=E(n)||t||e?{next:n,error:t,complete:e}:n;return r?Wt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Pt(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):rt}function ql(n){return Wt((t,e)=>{let o,r=null,i=!1;r=t.subscribe(Pt(e,void 0,void 0,s=>{o=Hn(n(s,ql(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Rx(n){return n<=0?()=>Qr:Wt((t,e)=>{let r=[];t.subscribe(Pt(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Rh(n){return Wt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Nh(n){return Wt((t,e)=>{Hn(n).subscribe(Pt(e,()=>e.complete(),ft)),!e.closed&&t.subscribe(e)})}const bn="primary",Ph=Symbol("RouteTitle");class yW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Md(n){return new yW(n)}function _W(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wa(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!zT(n[i],t[i]))return!1;return!0}function zT(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function WT(n){return n.length>0?n[n.length-1]:null}function Jc(n){return function uW(n){return!!n&&(n instanceof st||E(n.lift)&&E(n.subscribe))}(n)?n:rh(n)?un(Promise.resolve(n)):Yt(n)}const bW={exact:function $T(n,t,e){if(!Kl(n.segments,t.segments)||!Gg(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!$T(n.children[r],t.children[r],e))return!1;return!0},subset:YT},GT={exact:function wW(n,t){return Wa(n,t)},subset:function CW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>zT(n[e],t[e]))},ignored:()=>!0};function XT(n,t,e){return bW[e.paths](n.root,t.root,e.matrixParams)&&GT[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function YT(n,t,e){return ZT(n,t,t.segments,e)}function ZT(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Kl(i,e)||t.hasChildren()||!Gg(i,e,r))}if(n.segments.length===e.length){if(!Kl(n.segments,e)||!Gg(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!YT(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Kl(n.segments,i)&&Gg(n.segments,i,r)&&n.children[bn])&&ZT(n.children[bn],t,o,r)}}function Gg(n,t,e){return t.every((r,i)=>GT[e](n[i].parameters,r.parameters))}class Td{constructor(t=new pr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return SW.serialize(this)}}class pr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xg(this)}}class kh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Md(this.parameters)),this._parameterMap}toString(){return QT(this)}}function Kl(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Fh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return new Nx},providedIn:"root"})}}return n})();class Nx{parse(t){const e=new LW(t);return new Td(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Lh(t.root,!0)}`,r=function MW(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${$g(e)}=${$g(i)}`).join("&"):`${$g(e)}=${$g(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function IW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const SW=new Nx;function Xg(n){return n.segments.map(t=>QT(t)).join("/")}function Lh(n,t){if(!n.hasChildren())return Xg(n);if(t){const e=n.children[bn]?Lh(n.children[bn],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==bn&&r.push(`${i}:${Lh(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function AW(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===bn&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==bn&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===bn?[Lh(n.children[bn],!1)]:[`${i}:${Lh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bn]?`${Xg(n)}/${e[0]}`:`${Xg(n)}/(${e.join("//")})`}}function qT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $g(n){return qT(n).replace(/%3B/gi,";")}function Px(n){return qT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yg(n){return decodeURIComponent(n)}function KT(n){return Yg(n.replace(/\+/g,"%20"))}function QT(n){return`${Px(n.path)}${function DW(n){return Object.keys(n).map(t=>`;${Px(t)}=${Px(n[t])}`).join("")}(n.parameters)}`}const TW=/^[^\/()?;#]+/;function kx(n){const t=n.match(TW);return t?t[0]:""}const OW=/^[^\/()?;=#]+/,NW=/^[^=?&#]+/,kW=/^[^&#]+/;class LW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pr([],{}):new pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[bn]=new pr(t,e)),r}parseSegment(){const t=kx(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Te(4009,!1);return this.capture(t),new kh(Yg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function RW(n){const t=n.match(OW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=kx(this.remaining);i&&(r=i,this.capture(r))}t[Yg(e)]=Yg(r)}parseQueryParam(t){const e=function PW(n){const t=n.match(NW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function FW(n){const t=n.match(kW);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=KT(e),o=KT(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kx(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=bn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[bn]:new pr([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Te(4011,!1)}}function JT(n){return n.segments.length>0?new pr([],{[bn]:n}):n}function e3(n){const t={};for(const r of Object.keys(n.children)){const o=e3(n.children[r]);if(r===bn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function BW(n){if(1===n.numberOfChildren&&n.children[bn]){const t=n.children[bn];return new pr(n.segments.concat(t.segments),t.children)}return n}(new pr(n.segments,t))}function Ql(n){return n instanceof Td}function t3(n){let t;const i=JT(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new pr(o.url,s);return o===n&&(t=a),a}(n.root));return t??i}function n3(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return Fx(i,i,i,e,r);const o=function UW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new o3(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new o3(e,t,r)}(t);if(o.toRoot())return Fx(i,i,new pr([],{}),e,r);const s=function jW(n,t,e){if(n.isAbsolute)return new qg(t,!0,0);if(!e)return new qg(t,!1,NaN);if(null===e.parent)return new qg(e,!0,0);const r=Zg(n.commands[0])?0:1;return function HW(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Te(4005,!1);i=r.segments.length}return new qg(r,!1,i-o)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Vh(s.segmentGroup,s.index,o.commands):s3(s.segmentGroup,s.index,o.commands);return Fx(i,s.segmentGroup,a,e,r)}function Zg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bh(n){return"object"==typeof n&&null!=n&&n.outlets}function Fx(n,t,e,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=n===t?e:r3(n,t,e);const a=JT(e3(s));return new Td(a,o,i)}function r3(n,t,e){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===t?e:r3(o,t,e)}),new pr(n.segments,r)}class o3{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Zg(r[0]))throw new Te(4003,!1);const i=r.find(Bh);if(i&&i!==WT(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qg{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function s3(n,t,e){if(n||(n=new pr([],{})),0===n.segments.length&&n.hasChildren())return Vh(n,t,e);const r=function WW(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Bh(a))break;const c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!c3(c,l,s))return o;r+=2}else{if(!c3(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new pr(n.segments.slice(0,r.pathIndex),{});return o.children[bn]=new pr(n.segments.slice(r.pathIndex),n.children),Vh(o,0,i)}return r.match&&0===i.length?new pr(n.segments,{}):r.match&&!n.hasChildren()?Lx(n,t,e):r.match?Vh(n,0,i):Lx(n,t,e)}function Vh(n,t,e){if(0===e.length)return new pr(n.segments,{});{const r=function zW(n){return Bh(n[0])?n[0].outlets:{[bn]:n}}(e),i={};if(Object.keys(r).some(o=>o!==bn)&&n.children[bn]&&1===n.numberOfChildren&&0===n.children[bn].segments.length){const o=Vh(n.children[bn],t,e);return new pr(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=s3(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new pr(n.segments,i)}}function Lx(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Bh(o)){const c=GW(o.outlets);return new pr(r,c)}if(0===i&&Zg(e[0])){r.push(new kh(n.segments[t].path,a3(e[0]))),i++;continue}const s=Bh(o)?o.outlets[bn]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Zg(a)?(r.push(new kh(s,a3(a))),i+=2):(r.push(new kh(s,{})),i++)}return new pr(r,{})}function GW(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Lx(new pr([],{}),0,r))}),t}function a3(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function c3(n,t,e){return n==e.path&&Wa(t,e.parameters)}const Uh="imperative";class Ga{constructor(t,e){this.id=t,this.url=e}}class Kg extends Ga{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class el extends Ga{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jh extends Ga{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends Ga{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class Qg extends Ga{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class l3 extends Ga{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends Ga{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $W extends Ga{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YW extends Ga{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW extends Ga{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QW{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JW{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u3{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bx{}class Vx{constructor(t){this.url=t}}class nG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hh,this.attachRef=null}}let Hh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new nG,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class d3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ux(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ux(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jx(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return jx(t,this._root).map(e=>e.value)}}function Ux(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ux(n,e);if(r)return r}return null}function jx(n,t){if(n===t.value)return[t];for(const e of t.children){const r=jx(n,e);if(r.length)return r.unshift(t),r}return[]}class vc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class f3 extends d3{constructor(t,e){super(t),this.snapshot=e,Hx(this,t)}toString(){return this.snapshot.toString()}}function h3(n,t){const e=function rG(n,t){const s=new Jg([],{},{},"",{},bn,t,null,{});return new g3("",new vc(s,[]))}(0,t),r=new si([new kh("",{})]),i=new si({}),o=new si({}),s=new si({}),a=new si(""),c=new Nd(r,i,s,a,o,bn,t,e.root);return c.snapshot=e.root,new f3(new vc(c,[]),e)}class Nd{constructor(t,e,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Gt(l=>l[Ph]))??Yt(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Gt(t=>Md(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Gt(t=>Md(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p3(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function iG(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Jg{get title(){return this.data?.[Ph]}constructor(t,e,r,i,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g3 extends d3{constructor(t,e){super(e),this.url=t,Hx(this,e)}toString(){return m3(this._root)}}function Hx(n,t){t.value._routerState=n,t.children.forEach(e=>Hx(n,e))}function m3(n){const t=n.children.length>0?` { ${n.children.map(m3).join(", ")} } `:"";return`${n.value}${t}`}function zx(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Wa(t.params,e.params)||n.paramsSubject.next(e.params),function xW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Wa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wx(n,t){const e=Wa(n.params,t.params)&&function EW(n,t){return Kl(n,t)&&n.every((e,r)=>Wa(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Wx(n.parent,t.parent))}let Gx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new hr,this.deactivateEvents=new hr,this.attachEvents=new hr,this.detachEvents=new hr,this.parentContexts=Ct(Hh),this.location=Ct($s),this.changeDetector=Ct(mh),this.environmentInjector=Ct(Cs),this.inputBinder=Ct(e1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Te(4013,!1);this._activatedRoute=e;const i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new oG(e,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Jt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ts]})}}return n})();class oG{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Nd?this.route:t===Hh?this.childContexts:this.parent.get(t,e)}}const e1=new Ge("");let v3=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=jg([r.queryParams,r.params,r.data]).pipe(Me(([o,s,a],c)=>(a={...o,...s,...a},0===c?Yt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=function HU(n){const t=Xn(n);if(!t)return null;const e=new Qf(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function zh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function aG(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zh(n,r,i);return zh(n,r)})}(n,t,e);return new vc(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>zh(n,a)),s}}const r=function cG(n){return new Nd(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>zh(n,o));return new vc(r,i)}}const Xx="ngNavigationCancelingError";function y3(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Ql(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=_3(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function _3(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[Xx]=!0,r.cancellationCode=t,e&&(r.url=e),r}function x3(n){return n&&n[Xx]}let b3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ui({type:n,selectors:[["ng-component"]],standalone:!0,features:[mI],decls:1,vars:0,template:function(r,i){1&r&&br(0,"router-outlet")},dependencies:[Gx],encapsulation:2})}}return n})();function $x(n){const t=n.children&&n.children.map($x),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bn&&(e.component=b3),e}function xa(n){return n.outlet||bn}function Wh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mG{constructor(t,e,r,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),zx(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Rd(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Rd(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Rd(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Rd(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new JW(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(zx(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zx(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Wh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class w3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class t1{constructor(t,e){this.component=t,this.route=e}}function vG(n,t,e){const r=n._root;return Gh(r,t?t._root:null,e,[r.value])}function Pd(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function Qn(n){return null!==Fn(n)}(n)?t.get(n):n:r}function Gh(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rd(t);return n.children.forEach(s=>{(function _G(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function xG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Kl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Kl(n.url,t.url)||!Wa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wx(n,t)||!Wa(n.queryParams,t.queryParams);default:return!Wx(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new w3(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Gh(n,t,o.component?a?a.children:null:e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new t1(a.outlet.component,s))}else s&&Xh(t,a,i),i.canActivateChecks.push(new w3(r)),Gh(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xh(a,e.getContext(s),i)),i}function Xh(n,t,e){const r=Rd(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Xh(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new t1(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function $h(n){return"function"==typeof n}function C3(n){return n instanceof Hg||"EmptyError"===n?.name}const n1=Symbol("INITIAL_VALUE");function kd(){return Me(n=>jg(n.map(t=>t.pipe(za(1),jT(n1)))).pipe(Gt(t=>{for(const e of t)if(!0!==e){if(e===n1)return n1;if(!1===e||e instanceof Td)return e}return!0}),Ss(t=>t!==n1),za(1)))}function E3(n){return function it(...n){return xt(n)}(oo(t=>{if(Ql(t))throw y3(0,t)}),Gt(t=>!0===t))}class r1{constructor(t){this.segmentGroup=t||null}}class A3{constructor(t){this.urlTree=t}}function Fd(n){return Oh(new r1(n))}function S3(n){return Oh(new A3(n))}class UG{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new Te(4002,!1)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Yt(r);if(i.numberOfChildren>1||!i.children[bn])return Oh(new Te(4e3,!1));i=i.children[bn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Td(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new pr(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Te(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const Yx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jG(n,t,e,r,i){const o=Zx(n,t,e);return o.matched?(r=function uG(n,t){return n.providers&&!n._injector&&(n._injector=a_(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function LG(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Yt(i.map(s=>{const a=Pd(s,n);return Jc(function SG(n){return n&&$h(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(kd(),E3()):Yt(!0)}(r,t,e).pipe(Gt(s=>!0===s?o:{...Yx}))):Yt(o)}function Zx(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Yx}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||_W)(e,n,t);if(!i)return{...Yx};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function I3(n,t,e,r){return e.length>0&&function WG(n,t,e){return e.some(r=>o1(n,t,r)&&xa(r)!==bn)}(n,e,r)?{segmentGroup:new pr(t,zG(r,new pr(e,n.children))),slicedSegments:[]}:0===e.length&&function GG(n,t,e){return e.some(r=>o1(n,t,r))}(n,e,r)?{segmentGroup:new pr(n.segments,HG(n,0,e,r,n.children)),slicedSegments:e}:{segmentGroup:new pr(n.segments,n.children),slicedSegments:e}}function HG(n,t,e,r,i){const o={};for(const s of r)if(o1(n,e,s)&&!i[xa(s)]){const a=new pr([],{});o[xa(s)]=a}return{...i,...o}}function zG(n,t){const e={};e[bn]=t;for(const r of n)if(""===r.path&&xa(r)!==bn){const i=new pr([],{});e[xa(r)]=i}return e}function o1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ZG{constructor(t,e,r,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new UG(this.urlSerializer,this.urlTree)}noMatchError(t){return new Te(4002,!1)}recognize(){const t=I3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,bn).pipe(ql(e=>{if(e instanceof A3)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof r1?this.noMatchError(e):e}),Gt(e=>{const r=new Jg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,{}),i=new vc(r,e),o=new g3("",i),s=function VW(n,t,e=null,r=null){return n3(t3(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,bn).pipe(ql(r=>{throw r instanceof r1?this.noMatchError(r):r}))}inheritParamsAndData(t){const e=t.value,r=p3(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0)}processChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return un(i).pipe(Dd(o=>{const s=r.children[o],a=function pG(n,t){const e=n.filter(r=>xa(r)===t);return e.push(...n.filter(r=>xa(r)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),function gW(n,t){return Wt(function pW(n,t,e,r,i){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Pt(s,h=>{const g=l++;c=a?n(c,h,g):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Wg(null),function mW(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Ss((i,o)=>n(i,o,r)):rt,Rx(1),e?Wg(t):HT(()=>new Hg))}(),Cr(o=>{if(null===o)return Fd(r);const s=D3(o);return function qG(n){n.sort((t,e)=>t.value.outlet===bn?-1:e.value.outlet===bn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),Yt(s)}))}processSegment(t,e,r,i,o,s){return un(e).pipe(Dd(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,r,i,o,s).pipe(ql(c=>{if(c instanceof r1)return Yt(null);throw c}))),Zl(a=>!!a),ql(a=>{if(C3(a))return function $G(n,t,e){return 0===t.length&&!n.children[e]}(r,i,o)?Yt([]):Fd(r);throw a}))}processSegmentAgainstRoute(t,e,r,i,o,s,a){return function XG(n,t,e,r){return!!(xa(n)===r||r!==bn&&o1(t,e,n))&&("**"===n.path||Zx(t,n,e).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s):Fd(i):Fd(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?S3(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Cr(s=>{const a=new pr(s,{});return this.processSegment(t,e,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=Zx(e,i,o);if(!a)return Fd(e);const g=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?S3(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Cr(y=>this.processSegment(t,r,e,y.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?WT(i).parameters:{};a=Yt({snapshot:new Jg(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M3(r),xa(r),r.component??r._loadedComponent??null,r,T3(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=jG(e,r,i,t).pipe(Gt(({matched:c,consumedSegments:l,remainingSegments:h,parameters:g})=>c?{snapshot:new Jg(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M3(r),xa(r),r.component??r._loadedComponent??null,r,T3(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Me(c=>null===c?Fd(e):this.getChildConfig(t=r._injector??t,r,i).pipe(Me(({routes:l})=>{const h=r._loadedInjector??t,{snapshot:g,consumedSegments:y,remainingSegments:_}=c,{segmentGroup:w,slicedSegments:C}=I3(e,y,_,l);if(0===C.length&&w.hasChildren())return this.processChildren(h,l,w).pipe(Gt(P=>null===P?null:[new vc(g,P)]));if(0===l.length&&0===C.length)return Yt([new vc(g,[])]);const D=xa(r)===o;return this.processSegment(h,l,w,C,D?bn:o,!0).pipe(Gt(P=>[new vc(g,P)]))}))))}getChildConfig(t,e,r){return e.children?Yt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Yt({routes:e._loadedRoutes,injector:e._loadedInjector}):function FG(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Yt(!0):Yt(i.map(s=>{const a=Pd(s,n);return Jc(function wG(n){return n&&$h(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(kd(),E3())}(t,e,r).pipe(Cr(i=>i?this.configLoader.loadChildren(t,e).pipe(oo(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function VG(n){return Oh(_3(!1,3))}())):Yt({routes:[],injector:t})}}function KG(n){const t=n.value.routeConfig;return t&&""===t.path}function D3(n){const t=[],e=new Set;for(const r of n){if(!KG(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=D3(r.children);t.push(new vc(r.value,i))}return t.filter(r=>!e.has(r))}function M3(n){return n.data||{}}function T3(n){return n.resolve||{}}function O3(n){return"string"==typeof n.title||null===n.title}function qx(n){return Me(t=>{const e=n(t);return e?un(e).pipe(Gt(()=>t)):Yt(t)})}const Ld=new Ge("ROUTES");let Kx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ct(sD)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Yt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Jc(e.loadComponent()).pipe(Gt(R3),oo(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Rh(()=>{this.componentLoaders.delete(e)})),i=new UT(r,()=>new Ye).pipe(Ox());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function iX(n,t,e,r){return Jc(n.loadChildren()).pipe(Gt(R3),Cr(i=>i instanceof pI||Array.isArray(i)?Yt(i):un(t.compileModuleAsync(i))),Gt(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(e).injector,s=o.get(Ld,[],{optional:!0,self:!0}).flat()),{routes:s.map($x),injector:o}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Rh(()=>{this.childrenLoaders.delete(r)})),s=new UT(o,()=>new Ye).pipe(Ox());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R3(n){return function oX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let s1=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=Ct(Kx),this.environmentInjector=Ct(Cs),this.urlSerializer=Ct(Fh),this.rootContexts=Ct(Hh),this.inputBindingEnabled=null!==Ct(e1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Yt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new KW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new si({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ss(o=>0!==o.id),Gt(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Me(o=>{this.currentTransition=o;let s=!1,a=!1;return Yt(o).pipe(oo(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Me(c=>{const l=c.currentBrowserUrl.toString(),h=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const y="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.rawUrl),y,0)),c.resolve(null),Qr}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Yt(c).pipe(Me(y=>{const _=this.transitions?.getValue();return this.events.next(new Kg(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),_!==this.transitions?.getValue()?Qr:Promise.resolve(y)}),function QG(n,t,e,r,i,o){return Cr(s=>function YG(n,t,e,r,i,o,s="emptyOnly"){return new ZG(n,t,e,r,i,s,o).recognize()}(n,t,e,r,s.extractedUrl,i,o).pipe(Gt(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),oo(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects};const _=new l3(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}));if(h&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:y,extractedUrl:_,source:w,restoredState:C,extras:D}=c,P=new Kg(y,this.urlSerializer.serialize(_),w,C);this.events.next(P);const O=h3(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:O,urlAfterRedirects:_,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},Yt(o)}{const y="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.extractedUrl),y,1)),c.resolve(null),Qr}}),oo(c=>{const l=new XW(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Gt(c=>(this.currentTransition=o={...c,guards:vG(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function DG(n,t){return Cr(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Yt({...e,guardsResult:!0}):function MG(n,t,e,r){return un(n).pipe(Cr(i=>function kG(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Yt(o.map(a=>{const c=Wh(t)??i,l=Pd(a,c);return Jc(function AG(n){return n&&$h(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,r):c.runInContext(()=>l(n,t,e,r))).pipe(Zl())})).pipe(kd()):Yt(!0)}(i.component,i.route,e,t,r)),Zl(i=>!0!==i,!0))}(s,r,i,n).pipe(Cr(a=>a&&function bG(n){return"boolean"==typeof n}(a)?function TG(n,t,e,r){return un(t).pipe(Dd(i=>zg(function RG(n,t){return null!==n&&t&&t(new QW(n)),Yt(!0)}(i.route.parent,r),function OG(n,t){return null!==n&&t&&t(new eG(n)),Yt(!0)}(i.route,r),function PG(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function yG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>VT(()=>Yt(s.guards.map(c=>{const l=Wh(s.node)??e,h=Pd(c,l);return Jc(function EG(n){return n&&$h(n.canActivateChild)}(h)?h.canActivateChild(r,n):l.runInContext(()=>h(r,n))).pipe(Zl())})).pipe(kd())));return Yt(o).pipe(kd())}(n,i.path,e),function NG(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Yt(!0);const i=r.map(o=>VT(()=>{const s=Wh(t)??e,a=Pd(o,s);return Jc(function CG(n){return n&&$h(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Zl())}));return Yt(i).pipe(kd())}(n,i.route,e))),Zl(i=>!0!==i,!0))}(r,o,n,t):Yt(a)),Gt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),oo(c=>{if(o.guardsResult=c.guardsResult,Ql(c.guardsResult))throw y3(0,c.guardsResult);const l=new $W(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ss(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),qx(c=>{if(c.guards.canActivateChecks.length)return Yt(c).pipe(oo(l=>{const h=new YW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Me(l=>{let h=!1;return Yt(l).pipe(function JG(n,t){return Cr(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Yt(e);let o=0;return un(i).pipe(Dd(s=>function eX(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!O3(i)&&(o[Ph]=i.title),function tX(n,t,e,r){const i=function nX(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Yt({});const o={};return un(i).pipe(Cr(s=>function rX(n,t,e,r){const i=Wh(t)??r,o=Pd(n,i);return Jc(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[s],t,e,r).pipe(Zl(),oo(a=>{o[s]=a}))),Rx(1),function vW(n){return Gt(()=>n)}(o),ql(s=>C3(s)?Qr:Oh(s)))}(o,n,t,r).pipe(Gt(s=>(n._resolvedData=s,n.data=p3(n,e).resolve,i&&O3(i)&&(n.data[Ph]=i.title),null)))}(s.route,r,n,t)),oo(()=>o++),Rx(1),Cr(s=>o===i.length?Yt(e):Qr))})}(e.paramsInheritanceStrategy,this.environmentInjector),oo({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),oo(l=>{const h=new ZW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),qx(c=>{const l=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(oo(y=>{h.component=y}),Gt(()=>{})));for(const y of h.children)g.push(...l(y));return g};return jg(l(c.targetSnapshot.root)).pipe(Wg(),za(1))}),qx(()=>this.afterPreactivation()),Gt(c=>{const l=function sG(n,t,e){const r=zh(n,t._root,e?e._root:void 0);return new f3(r,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),oo(()=>{this.events.next(new Bx)}),((n,t,e,r)=>Gt(i=>(new mG(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),za(1),oo({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new el(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Nh(this.transitionAbortSubject.pipe(oo(c=>{throw c}))),Rh(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ql(c=>{if(a=!0,x3(c))this.events.next(new jh(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function lG(n){return x3(n)&&Ql(n.url)}(c)?this.events.next(new Vx(c.url)):o.resolve(!1);else{this.events.next(new Qg(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return Qr}))}))}cancelNavigationTransition(e,r,i){const o=new jh(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N3(n){return n!==Uh}let P3=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===bn);return r}getResolvedTitleForRoute(e){return e.data[Ph]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Ct(sX)},providedIn:"root"})}}return n})(),sX=(()=>{class n extends P3{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Ue(IM))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aX=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Ct(lX)},providedIn:"root"})}}return n})();class cX{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let lX=(()=>{class n extends cX{static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const a1=new Ge("",{providedIn:"root",factory:()=>({})});let uX=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:function(){return Ct(dX)},providedIn:"root"})}}return n})(),dX=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Yh||{});function k3(n,t){n.events.pipe(Ss(e=>e instanceof el||e instanceof jh||e instanceof Qg||e instanceof Od),Gt(e=>e instanceof el||e instanceof Od?Yh.COMPLETE:e instanceof jh&&(0===e.code||1===e.code)?Yh.REDIRECTING:Yh.FAILED),Ss(e=>e!==Yh.REDIRECTING),za(1)).subscribe(()=>{t()})}function fX(n){throw n}function hX(n,t,e){return t.parse("/")}const pX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ct(oD),this.isNgZoneEnabled=!1,this._events=new Ye,this.options=Ct(a1,{optional:!0})||{},this.pendingTasks=Ct(ag),this.errorHandler=this.options.errorHandler||fX,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ct(uX),this.routeReuseStrategy=Ct(aX),this.titleStrategy=Ct(P3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ct(Ld,{optional:!0})?.flat()??[],this.navigationTransitions=Ct(s1),this.urlSerializer=Ct(Fh),this.location=Ct(gg),this.componentInputBindingEnabled=!!Ct(e1,{optional:!0}),this.eventsSubscription=new U,this.isNgZoneEnabled=Ct(mn)instanceof mn&&mn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Td,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=h3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(F3(r)&&this._events.next(r));if(r instanceof Kg)N3(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Od)this.rawUrlTree=i.rawUrl;else if(r instanceof l3){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Bx)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof jh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Vx){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||N3(i.source)};this.scheduleNavigation(o,Uh,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Qg&&this.restoreHistory(i,!0),r instanceof el&&(this.navigated=!0),F3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uh,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map($x),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{g=t3(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return n3(g,e,h,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Ql(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Uh,null,r)}navigate(e,r={skipLocationChange:!1}){return function mX(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new Te(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...pX}:!1===r?{...gX}:r,Ql(e))return XT(this.currentUrlTree,e,i);const o=this.parseUrl(e);return XT(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((g,y)=>{a=g,c=y});const h=this.pendingTasks.add();return k3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function F3(n){return!(n instanceof Bx||n instanceof Vx)}let Jl=(()=>{class n{constructor(e,r,i,o,s,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Ye,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof el&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function bE(n,t,e){return function nF(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?xE:Kv}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(We(ji),We(Nd),function l0(n){return function bk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(re(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(to(),n)}("tabindex"),We(uc),We(hi),We(zl))}}static{this.\u0275dir=Jt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&mt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Xs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ad],skipLocationChange:["skipLocationChange","skipLocationChange",Ad],replaceUrl:["replaceUrl","replaceUrl",Ad],routerLink:"routerLink"},standalone:!0,features:[OA,ts]})}}return n})();class L3{}let _X=(()=>{class n{constructor(e,r,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ss(e=>e instanceof el),Dd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=a_(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return un(i).pipe(ii())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Yt(null);const o=i.pipe(Cr(s=>null===s?Yt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?un([o,this.loader.loadComponent(r)]).pipe(ii()):o})}static{this.\u0275fac=function(r){return new(r||n)(Ue(ji),Ue(sD),Ue(Cs),Ue(L3),Ue(Kx))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qx=new Ge("");let B3=(()=>{class n{constructor(e,r,i,o,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof el?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Od&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof u3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new u3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Ey()}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function yc(n,t){return{\u0275kind:n,\u0275providers:t}}function U3(){const n=Ct(Ri);return t=>{const e=n.get($c);if(t!==e.components[0])return;const r=n.get(ji),i=n.get(j3);1===n.get(Jx)&&r.initialNavigation(),n.get(H3,null,Dn.Optional)?.setUpPreloading(),n.get(Qx,null,Dn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const j3=new Ge("",{factory:()=>new Ye}),Jx=new Ge("",{providedIn:"root",factory:()=>1}),H3=new Ge("");function CX(n){return yc(0,[{provide:H3,useExisting:_X},{provide:L3,useExisting:n}])}const z3=new Ge("ROUTER_FORROOT_GUARD"),AX=[gg,{provide:Fh,useClass:Nx},ji,Hh,{provide:Nd,useFactory:function V3(n){return n.routerState.root},deps:[ji]},Kx,[]];function SX(){return new hD("Router",ji)}let W3=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[AX,[],{provide:Ld,multi:!0,useValue:e},{provide:z3,useFactory:TX,deps:[[ji,new f0,new h0]]},{provide:a1,useValue:r||{}},r?.useHash?{provide:zl,useClass:$U}:{provide:zl,useClass:WD},{provide:Qx,useFactory:()=>{const n=Ct(dH),t=Ct(mn),e=Ct(a1),r=Ct(s1),i=Ct(Fh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new B3(i,r,n,t,e)}},r?.preloadingStrategy?CX(r.preloadingStrategy).\u0275providers:[],{provide:hD,multi:!0,useFactory:SX},r?.initialNavigation?OX(r):[],r?.bindToComponentInputs?yc(8,[v3,{provide:e1,useExisting:v3}]).\u0275providers:[],[{provide:G3,useFactory:U3},{provide:D_,multi:!0,useExisting:G3}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ld,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||n)(Ue(z3,8))}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();function TX(n){return"guarded"}function OX(n){return["disabled"===n.initialNavigation?yc(3,[{provide:x_,multi:!0,useFactory:()=>{const t=Ct(ji);return()=>{t.setUpLocationChangeListener()}}},{provide:Jx,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yc(2,[{provide:Jx,useValue:0},{provide:x_,multi:!0,deps:[Ri],useFactory:t=>{const e=t.get(GU,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(ji),o=t.get(j3);k3(i,()=>{r(!0)}),t.get(s1).afterPreactivation=()=>(r(!0),o.closed?Yt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const G3=new Ge("");class Zh extends Error{}Zh.prototype.name="InvalidTokenError";const tl_apiUrl="https://ups-itcflexiseats.azurewebsites.net";class c1{}class l1{}class Xa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FX{encodeKey(t){return X3(t)}encodeValue(t){return X3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const BX=/%(\d[a-f0-9])/gi,VX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X3(n){return encodeURIComponent(n).replace(BX,(t,e)=>VX[e]??t)}function u1(n){return`${n}`}class nl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LX(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(u1):[u1(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(u1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(u1(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class UX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Y3(n){return typeof Blob<"u"&&n instanceof Blob}function Z3(n){return typeof FormData<"u"&&n instanceof FormData}class qh{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Xa),this.context||(this.context=new UX),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new nl,this.urlWithParams=e}serializeBody(){return null===this.body?null:$3(this.body)||Y3(this.body)||Z3(this.body)||function HX(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z3(this.body)?null:Y3(this.body)?this.body.type||null:$3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const h=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((g,y)=>g.set(y,t.setHeaders[y]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((g,y)=>g.set(y,t.setParams[y]),l)),new qh(e,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Bd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Bd||{});class eb{constructor(t,e=200,r="OK"){this.headers=t.headers||new Xa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tb extends eb{constructor(t={}){super(t),this.type=Bd.ResponseHeader}clone(t={}){return new tb({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vd extends eb{constructor(t={}){super(t),this.type=Bd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q3 extends eb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $a=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof qh)o=e;else{let c,l;c=i.headers instanceof Xa?i.headers:new Xa(i.headers),i.params&&(l=i.params instanceof nl?i.params:new nl({fromObject:i.params})),o=new qh(e,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Yt(o).pipe(Dd(c=>this.handler.handle(c)));if(e instanceof qh||"events"===i.observe)return s;const a=s.pipe(Ss(c=>c instanceof Vd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Gt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Gt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Gt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Gt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new nl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,nb(i,r))}post(e,r,i={}){return this.request("POST",e,nb(i,r))}put(e,r,i={}){return this.request("PUT",e,nb(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Ue(c1))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function J3(n,t){return t(n)}function WX(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const XX=new Ge(""),Kh=new Ge(""),eO=new Ge("");function $X(){let n=null;return(t,e)=>{null===n&&(n=(Ct(XX,{optional:!0})??[]).reduceRight(WX,J3));const r=Ct(ag),i=r.add();return n(t,e).pipe(Rh(()=>r.remove(i)))}}let tO=(()=>{class n extends c1{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=Ct(ag)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Kh),...this.injector.get(eO,[])]));this.chain=i.reduceRight((o,s)=>function GX(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(o,s,this.injector),J3)}const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Rh(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Ue(l1),Ue(Cs))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const KX=/^\)\]\}',?\n/;let rO=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Te(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?un(r.\u0275loadImpl()):Yt(null)).pipe(Me(()=>new st(o=>{const s=r.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,D)=>s.setRequestHeader(C,D.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const C=s.statusText||"OK",D=new Xa(s.getAllResponseHeaders()),P=function QX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new tb({headers:D,status:s.status,statusText:C,url:P}),c},h=()=>{let{headers:C,status:D,statusText:P,url:O}=l(),G=null;204!==D&&(G=typeof s.response>"u"?s.responseText:s.response),0===D&&(D=G?200:0);let Z=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof G){const oe=G;G=G.replace(KX,"");try{G=""!==G?JSON.parse(G):null}catch(fe){G=oe,Z&&(Z=!1,G={error:fe,text:G})}}Z?(o.next(new Vd({body:G,headers:C,status:D,statusText:P,url:O||void 0})),o.complete()):o.error(new q3({error:G,headers:C,status:D,statusText:P,url:O||void 0}))},g=C=>{const{url:D}=l(),P=new q3({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(P)};let y=!1;const _=C=>{y||(o.next(l()),y=!0);let D={type:Bd.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),"text"===e.responseType&&s.responseText&&(D.partialText=s.responseText),o.next(D)},w=C=>{let D={type:Bd.UploadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),o.next(D)};return s.addEventListener("load",h),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",_),null!==a&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:Bd.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",h),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",_),null!==a&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Ue(lM))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const rb=new Ge("XSRF_ENABLED"),iO=new Ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oO=new Ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sO{}let t$=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=eM(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(zc),Ue(iO))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();function n$(n,t){const e=n.url.toLowerCase();if(!Ct(rb)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=Ct(sO).getToken(),i=Ct(oO);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var rl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rl||{});function eu(n,t){return{\u0275kind:n,\u0275providers:t}}function r$(...n){const t=[$a,rO,tO,{provide:c1,useExisting:tO},{provide:l1,useExisting:rO},{provide:Kh,useValue:n$,multi:!0},{provide:rb,useValue:!0},{provide:sO,useClass:t$}];for(const e of n)t.push(...e.\u0275providers);return function Jv(n){return{\u0275providers:n}}(t)}const aO=new Ge("LEGACY_INTERCEPTOR_FN");let o$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({providers:[r$(eu(rl.LegacyInterceptors,[{provide:aO,useFactory:$X},{provide:Kh,useExisting:aO,multi:!0}]))]})}}return n})(),ib=(()=>{class n{constructor(e,r){this.http=e,this.router=r,this.tokenKey="access-token",this.roleKey="roles"}login(e,r){return this.http.post(`${tl_apiUrl}/api/Login/Login`,{adid:e,password:r})}setRoles(e){localStorage.setItem(this.roleKey,JSON.stringify(e))}setToken(e){localStorage.setItem(this.tokenKey,e)}getToken(){return localStorage.getItem(this.tokenKey)}getRoles(){return localStorage.getItem(this.roleKey)||""}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.roleKey),this.router.navigate(["/login"])}isAuthenticated(){return!!this.getToken()}hasRole(e){return this.getRoles().includes(e)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a),Ue(ji))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function d$(n,t){if(1&n&&(he(0,"div",14),Pe(1),pe()),2&n){const e=vn();Ze(1),ro(e.error)}}let f$=(()=>{class n{constructor(e,r){this.auth=e,this.router=r,this.username="",this.password="",this.error=""}login(){this.username.trim()&&this.password?this.auth.login(this.username,this.password).subscribe({next:e=>{console.log("Token:",e.token),localStorage.setItem("access-token",e.token);const r=function kX(n,t){if("string"!=typeof n)throw new Zh("Invalid token specified: must be a string");t||(t={});const e=!0===t.header?0:1,r=n.split(".")[e];if("string"!=typeof r)throw new Zh(`Invalid token specified: missing part #${e+1}`);let i;try{i=function PX(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function NX(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch{return atob(t)}}(r)}catch(o){throw new Zh(`Invalid token specified: invalid base64 for part #${e+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Zh(`Invalid token specified: invalid json for part #${e+1} (${o.message})`)}}(e.token),i=r.Role.toLowerCase(),o=r["Manager ADID"],s=r.nameid;localStorage.setItem("token",e.token),localStorage.setItem("roles",i),localStorage.setItem("manageradid",o),localStorage.setItem("userid",s),["admin","supervisor-1","supervisor-2"].includes(i)?this.router.navigate(["/admin"]):this.router.navigate(["/seat"])},error:e=>{console.error("Login error:",e),this.error="Invalid username or password"}}):this.error="Please enter username and password"}static{this.\u0275fac=function(r){return new(r||n)(We(ib),We(ji))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-login"]],decls:25,vars:3,consts:[[1,"app-header"],["src","assets/ups-logo.png","alt","UPS Logo",1,"logo"],[1,"title"],[1,"section"],[1,"form-group"],["for","username"],["id","username","type","text","placeholder","Enter Username",3,"ngModel","ngModelChange"],["for","password"],["id","password","type","password","placeholder","Enter Password",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[3,"click"],[1,"section","link-section"],["routerLink","/change-password"],["routerLink","/reset-password"],[1,"error"]],template:function(r,i){1&r&&(he(0,"header",0),br(1,"img",1),he(2,"h1",2),Pe(3,"Flexi Seat Booking"),pe()(),he(4,"h2"),Pe(5,"\u{1f510} Login"),pe(),he(6,"div",3)(7,"div",4)(8,"label",5),Pe(9,"Username"),pe(),he(10,"input",6),mt("ngModelChange",function(s){return i.username=s}),pe()(),he(11,"div",4)(12,"label",7),Pe(13,"Password"),pe(),he(14,"input",8),mt("ngModelChange",function(s){return i.password=s}),pe()(),xn(15,d$,2,1,"div",9),he(16,"div",4)(17,"button",10),mt("click",function(){return i.login()}),Pe(18,"Submit"),pe()()(),he(19,"div",11)(20,"a",12),Pe(21,"\u{1f501} Change Password"),pe(),Pe(22," \xa0|\xa0 "),he(23,"a",13),Pe(24,"\u2753 Reset Password"),pe()()),2&r&&(Ze(10),pt("ngModel",i.username),Ze(4),pt("ngModel",i.password),Ze(1),pt("ngIf",i.error))},dependencies:[ss,Jl,qs,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:500px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:30px;flex-wrap:wrap;animation:fadeInHeader .6s ease both}.logo[_ngcontent-%COMP%]{width:60px;height:auto;object-fit:contain;filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#c09300;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.1);letter-spacing:.5px}h2[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:10px 14px;margin:6px 0 16px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;width:100%;box-shadow:0 2px 6px #0000000d}label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;display:block;margin-bottom:6px}button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out;width:100%}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#5e3a0d}.error[_ngcontent-%COMP%]{color:red;margin-bottom:1rem;text-align:center}.link-section[_ngcontent-%COMP%]{text-align:center;font-size:14px}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-weight:500}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}"]})}}return n})();function h$(n,t){if(1&n&&(he(0,"div",16),Pe(1),pe()),2&n){const e=vn();Ze(1),ro(e.error)}}function p$(n,t){if(1&n&&(he(0,"div",17),Pe(1),pe()),2&n){const e=vn();Ze(1),ro(e.success)}}let g$=(()=>{class n{constructor(e){this.router=e,this.oldPassword="",this.newPassword="",this.confirmPassword="",this.error="",this.success=""}changePassword(){this.error="",this.success="",this.oldPassword&&this.newPassword&&this.confirmPassword?this.newPassword===this.confirmPassword?"admin"===this.oldPassword?(this.success="Password changed successfully! Redirecting to login...",setTimeout(()=>{this.router.navigate(["/login"])},2e3)):this.error="Old password is incorrect":this.error="New passwords do not match":this.error="All fields are required"}static{this.\u0275fac=function(r){return new(r||n)(We(ji))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-change-password"]],decls:26,vars:5,consts:[[1,"app-header"],["src","assets/ups-logo.png","alt","UPS Logo",1,"logo"],[1,"title"],[1,"section"],[1,"form-group"],["for","oldPassword"],["id","oldPassword","type","password","placeholder","Enter old password",3,"ngModel","ngModelChange"],["for","newPassword"],["id","newPassword","type","password","placeholder","Enter new password",3,"ngModel","ngModelChange"],["for","confirmPassword"],["id","confirmPassword","type","password","placeholder","Confirm new password",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[3,"click"],[1,"section","link-section"],["routerLink","/login"],[1,"error"],[1,"success"]],template:function(r,i){1&r&&(he(0,"header",0),br(1,"img",1),he(2,"h1",2),Pe(3,"Flexi Seat Booking"),pe()(),he(4,"h2"),Pe(5,"\u{1f510} Change Password"),pe(),he(6,"div",3)(7,"div",4)(8,"label",5),Pe(9,"Old Password"),pe(),he(10,"input",6),mt("ngModelChange",function(s){return i.oldPassword=s}),pe()(),he(11,"div",4)(12,"label",7),Pe(13,"New Password"),pe(),he(14,"input",8),mt("ngModelChange",function(s){return i.newPassword=s}),pe()(),he(15,"div",4)(16,"label",9),Pe(17,"Confirm New Password"),pe(),he(18,"input",10),mt("ngModelChange",function(s){return i.confirmPassword=s}),pe()(),xn(19,h$,2,1,"div",11),xn(20,p$,2,1,"div",12),he(21,"button",13),mt("click",function(){return i.changePassword()}),Pe(22,"Submit"),pe()(),he(23,"div",14)(24,"a",15),Pe(25,"\u2b05\ufe0f Back to Login"),pe()()),2&r&&(Ze(10),pt("ngModel",i.oldPassword),Ze(4),pt("ngModel",i.newPassword),Ze(4),pt("ngModel",i.confirmPassword),Ze(1),pt("ngIf",i.error),Ze(1),pt("ngIf",i.success))},dependencies:[ss,Jl,qs,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:500px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:30px;flex-wrap:wrap;animation:fadeInHeader .6s ease both}.logo[_ngcontent-%COMP%]{width:60px;height:auto;object-fit:contain;filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#c09300;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.1);letter-spacing:.5px}h2[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{width:100%;padding:10px 14px;margin:6px 0 16px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.03);background-color:#5e3a0d}.error[_ngcontent-%COMP%]{color:red;margin-bottom:12px;font-size:14px;font-weight:500}.success[_ngcontent-%COMP%]{color:green;margin-bottom:12px;font-size:14px;font-weight:500}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:600;color:#5e3a0d;transition:color .2s ease-in-out}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b2a08;text-decoration:underline}"]})}}return n})();function m$(n,t){if(1&n&&(he(0,"div",11),Pe(1),pe()),2&n){const e=vn();Ze(1),ro(e.error)}}function v$(n,t){if(1&n&&(he(0,"div",12),Pe(1),pe()),2&n){const e=vn();Ze(1),ro(e.success)}}let ob,y$=(()=>{class n{constructor(e){this.router=e,this.adid="",this.error="",this.success=""}resetPassword(){this.error="",this.success="",this.adid.trim()?(this.success="Password reset request sent. Redirecting to login...",setTimeout(()=>{this.router.navigate(["/login"])},2e3)):this.error="ADID is required"}goToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(We(ji))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-reset-password"]],decls:19,vars:3,consts:[[1,"app-header"],["src","assets/ups-logo.png","alt","UPS Logo",1,"logo"],[1,"title"],[1,"section"],[1,"form-group"],["for","adid"],["id","adid","type","text","placeholder","Enter your ADID",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[3,"click"],[1,"section","link-section"],[1,"error"],[1,"success"]],template:function(r,i){1&r&&(he(0,"header",0),br(1,"img",1),he(2,"h1",2),Pe(3,"Flexi Seat Booking"),pe()(),he(4,"h2"),Pe(5,"\u{1f511} Reset Password"),pe(),he(6,"div",3)(7,"div",4)(8,"label",5),Pe(9,"ADID"),pe(),he(10,"input",6),mt("ngModelChange",function(s){return i.adid=s}),pe()(),xn(11,m$,2,1,"div",7),xn(12,v$,2,1,"div",8),he(13,"div",4)(14,"button",9),mt("click",function(){return i.resetPassword()}),Pe(15,"Reset"),pe()()(),he(16,"div",10)(17,"a",9),mt("click",function(){return i.goToLogin()}),Pe(18,"\u2b05\ufe0f Back to Login"),pe()()),2&r&&(Ze(10),pt("ngModel",i.adid),Ze(1),pt("ngIf",i.error),Ze(1),pt("ngIf",i.success))},dependencies:[ss,qs,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:500px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:30px;flex-wrap:wrap;animation:fadeInHeader .6s ease both}.logo[_ngcontent-%COMP%]{width:60px;height:auto;object-fit:contain;filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#c09300;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.1);letter-spacing:.5px}h2[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{width:100%;padding:10px 14px;margin:6px 0 16px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d}label[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;display:block;margin-bottom:6px}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.03);background-color:#5e3a0d}.error[_ngcontent-%COMP%]{color:red;margin-bottom:12px;font-size:14px;font-weight:500}.success[_ngcontent-%COMP%]{color:green;margin-bottom:12px;font-size:14px;font-weight:500}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.link-section[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:600;color:#5e3a0d;transition:color .2s ease-in-out}.link-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#3b2a08;text-decoration:underline}"]})}}return n})(),cO=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Zones/`}getZoneAllData(){return this.http.get(this.localBaseUrl+"All")}getZoneByID(e){return this.http.get(`${this.localBaseUrl}GetZoneById/${e}`)}postData(e){return this.http.post(`${this.localBaseUrl}CreateZone`,e)}updateZone(e,r){return this.http.put(`${this.localBaseUrl}UpdateZoneById/${e}`,r)}deleteZone(e){return this.http.delete(`${this.localBaseUrl}DeleteZoneById/${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();try{ob=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ob=!1}let Qh,tu,sb,Is=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function uH(n){return n===aM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ob)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Ue(zc))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function f1(n){return function _$(){if(null==Qh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qh=!0}))}finally{Qh=Qh||!1}return Qh}()?n:!!n.capture}function x$(){if(null==tu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tu=!1,tu;if("scrollBehavior"in document.documentElement.style)tu=!0;else{const n=Element.prototype.scrollTo;tu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tu}function il(n){return n.composedPath?n.composedPath()[0]:n.target}function ab(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class H$ extends U{constructor(t,e){super()}schedule(t,e=0){return this}}const p1={setInterval(n,t,...e){const{delegate:r}=p1;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=p1;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class cb extends H${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return p1.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&p1.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,j(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const uO={now:()=>(uO.delegate||Date).now(),delegate:void 0};class Jh{constructor(t,e=Jh.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Jh.now=uO.now;class lb extends Jh{constructor(t,e=Jh.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const ub=new lb(cb),z$=ub;function fO(n){return Ss((t,e)=>n<=e)}function g1(n){return null!=n&&"false"!=`${n}`}function m1(n){return Array.isArray(n)?n:[n]}function Ci(n){return null==n?"":"string"==typeof n?n:`${n}px`}function jd(n){return n instanceof hi?n.nativeElement:n}const hO=new Set;let nu,G$=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function X$(n,t){if(!hO.has(n))try{nu||(nu=document.createElement("style"),t&&(nu.nonce=t),nu.setAttribute("type","text/css"),document.head.appendChild(nu)),nu.sheet&&(nu.sheet.insertRule(`@media ${n} {body{ }}`,0),hO.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(r){return new(r||n)(Ue(Is),Ue(sy,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let db=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pO(m1(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=jg(pO(m1(e)).map(s=>this._registerQuery(s).observable));return o=zg(o.pipe(za(1)),o.pipe(fO(1),function dO(n,t=ub){return Wt((e,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,h=t.now();if(h<l)return i=this.schedule(void 0,l-h),void r.add(i);a()}e.subscribe(Pt(r,l=>{o=l,s=t.now(),i||(i=t.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Gt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new st(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(jT(r),Gt(({matches:s})=>({query:e,matches:s})),Nh(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static{this.\u0275fac=function(r){return new(r||n)(Ue(G$),Ue(mn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pO(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function yO(n){return 0===n.buttons||0===n.detail}function _O(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const iY=new Ge("cdk-input-modality-detector-options"),oY={ignoreKeys:[18,17,224,91,16]},Hd=f1({passive:!0,capture:!0});let sY=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new si(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=il(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yO(s)?"keyboard":"mouse"),this._mostRecentTarget=il(s))},this._onTouchstart=s=>{_O(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=il(s))},this._options={...oY,...o},this.modalityDetected=this._modality.pipe(fO(1)),this.modalityChanged=this.modalityDetected.pipe(Q()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Hd),i.addEventListener("mousedown",this._onMousedown,Hd),i.addEventListener("touchstart",this._onTouchstart,Hd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hd),document.removeEventListener("mousedown",this._onMousedown,Hd),document.removeEventListener("touchstart",this._onTouchstart,Hd))}static{this.\u0275fac=function(r){return new(r||n)(Ue(Is),Ue(mn),Ue(qn),Ue(iY,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const aY=new Ge("liveAnnouncerElement",{providedIn:"root",factory:function cY(){return null}}),lY=new Ge("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let uY=0,bO=(()=>{class n{constructor(e,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let o,s;return 1===r.length&&"number"==typeof r[0]?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==s&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+uY++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(r){return new(r||n)(Ue(aY,8),Ue(mn),Ue(qn),Ue(lY,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const dY=new Ge("cdk-focus-monitor-default-options"),v1=f1({passive:!0,capture:!0});let fY=(()=>{class n{constructor(e,r,i,o,s){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ye,this._rootNodeFocusAndBlurListener=a=>{for(let l=il(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,r=!1){const i=jd(e);if(!this._platform.isBrowser||1!==i.nodeType)return Yt();const o=function w$(n){if(function b$(){if(null==sb){const n=typeof document<"u"?document.head:null;sb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sb}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Ye,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const r=jd(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=jd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=il(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,v1),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,v1)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nh(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,v1),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,v1),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static{this.\u0275fac=function(r){return new(r||n)(Ue(mn),Ue(Is),Ue(sY),Ue(qn,8),Ue(dY,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const wO="cdk-high-contrast-black-on-white",CO="cdk-high-contrast-white-on-black",fb="cdk-high-contrast-active";let hY=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Ct(db).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fb,wO,CO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(fb,wO):2===r&&e.add(fb,CO)}}static{this.\u0275fac=function(r){return new(r||n)(Ue(Is),Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const pY=new Ge("cdk-dir-doc",{providedIn:"root",factory:function gY(){return Ct(qn)}}),mY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yY=(()=>{class n{constructor(e){this.value="ltr",this.change=new hr,e&&(this.value=function vY(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?mY.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Ue(pY,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ep=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();const xY=new Ge("mat-sanity-checks",{providedIn:"root",factory:function _Y(){return!0}});let zd=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ab()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(r){return new(r||n)(Ue(hY),Ue(xY,8),Ue(qn))}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[ep,ep]})}}return n})();function bY(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=g1(t)}constructor(...t){super(...t),this._disabled=!1}}}function wY(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function CY(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=g1(t)}constructor(...t){super(...t),this._disableRipple=!1}}}class AY{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SO=f1({passive:!0,capture:!0});class SY{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=il(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,SO)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,SO)))}}const IO={enterDuration:225,exitDuration:150},DO=f1({passive:!0,capture:!0}),MO=["mousedown","touchstart"],TO=["mouseup","mouseleave","touchend","touchcancel"];class y1{static{this._eventManager=new SY}constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jd(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...IO,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=r.radius||function DY(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),a=t-i.left,c=e-i.top,l=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h);const g=window.getComputedStyle(h),_=g.transitionDuration,w="none"===g.transitionProperty||"0s"===_||"0s, 0s"===_||0===i.width&&0===i.height,C=new AY(this,h,r,w);h.style.transform="scale3d(1, 1, 1)",C.state=0,r.persistent||(this._mostRecentTransientRipple=C);let D=null;return!w&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(C),O=()=>this._destroyRipple(C);h.addEventListener("transitionend",P),h.addEventListener("transitioncancel",O),D={onTransitionEnd:P,onTransitionCancel:O}}),this._activeRipples.set(C,D),(w||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...IO,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=jd(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,MO.forEach(r=>{y1._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{TO.forEach(e=>{this._triggerElement.addEventListener(e,this,DO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=yO(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!_O(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(MO.forEach(e=>y1._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&TO.forEach(e=>t.removeEventListener(e,this,DO)))}}const OO=new Ge("mat-ripple-global-options");let MY=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new y1(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(r){return new(r||n)(We(hi),We(mn),We(Is),We(OO,8),We(td,8))}}static{this.\u0275dir=Jt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Vl("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return n})(),TY=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[zd,zd]})}}return n})();const RO={capture:!0},NO=["focus","click","mouseenter","touchstart"],hb="mat-ripple-loader-uninitialized",pb="mat-ripple-loader-class-name",PO="mat-ripple-loader-centered",_1="mat-ripple-loader-disabled";let OY=(()=>{class n{constructor(){this._document=Ct(qn,{optional:!0}),this._animationMode=Ct(td,{optional:!0}),this._globalRippleOptions=Ct(OO,{optional:!0}),this._platform=Ct(Is),this._ngZone=Ct(mn),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const i=e.target.closest(`[${hb}]`);i&&this._createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const e of NO)this._document?.addEventListener(e,this._onInteraction,RO)})}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);for(const r of NO)this._document?.removeEventListener(r,this._onInteraction,RO)}configureRipple(e,r){e.setAttribute(hb,""),(r.className||!e.hasAttribute(pb))&&e.setAttribute(pb,r.className||""),r.centered&&e.setAttribute(PO,""),r.disabled&&e.setAttribute(_1,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){const i=this._hosts.get(e);i?i.disabled=r:r?e.setAttribute(_1,""):e.removeAttribute(_1)}_createRipple(e){if(!this._document)return;const r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(pb)),e.append(i);const o=new MY(new hi(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(PO),o.disabled=e.hasAttribute(_1),this.attachRipple(e,o),o}attachRipple(e,r){e.removeAttribute(hb),this._hosts.set(e,r)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const RY=["mat-button",""],NY=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],PY=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],kY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],FY=wY(bY(CY(class{constructor(n){this._elementRef=n}})));let LY=(()=>{class n extends FY{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=g1(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=g1(e),this._updateRippleDisabled()}constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=Ct(fY),this._rippleLoader=Ct(OY),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of kY)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(r){Ey()}}static{this.\u0275dir=Jt({type:n,features:[Yn]})}}return n})(),VY=(()=>{class n extends LY{constructor(e,r,i,o){super(e,r,i,o)}static{this.\u0275fac=function(r){return new(r||n)(We(hi),We(Is),We(mn),We(td,8))}}static{this.\u0275cmp=ui({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(Xs("disabled",i.disabled||null),Vl("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Yn],attrs:RY,ngContentSelectors:PY,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(function JA(n){const t=ct()[fi][po];if(!t.projection){const r=t.projection=kf(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=n?DB(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(NY),br(0,"span",0),K0(1),he(2,"span",1),K0(3,1),pe(),K0(4,2),br(5,"span",2)(6,"span",3)),2&r&&Vl("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),jY=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[zd,TY,zd]})}}return n})();class kO{}class HY{}const _c="*";function zY(n,t){return{type:7,name:n,definitions:t,options:{}}}function FO(n,t=null){return{type:4,styles:t,timings:n}}function LO(n,t=null){return{type:2,steps:n,options:t}}function np(n){return{type:6,styles:n,offset:null}}function BO(n,t,e){return{type:0,name:n,styles:t,options:e}}function VO(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class rp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class UO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class mb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class vb extends mb{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class jO extends mb{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class WY extends mb{constructor(t){super(),this.element=t instanceof hi?t.nativeElement:t}}class yb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof vb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof jO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof WY?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class GY extends yb{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Ri.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let HO=(()=>{class n extends yb{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new hr,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=r.createComponent(o,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(r){return new(r||n)(We(id),We($s),We(qn))}}static{this.\u0275dir=Jt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Yn]})}}return n})(),zO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})();const XY=["addListener","removeListener"],$Y=["addEventListener","removeEventListener"],YY=["on","off"];function _b(n,t,e,r){if(E(e)&&(r=e,e=void 0),r)return _b(n,t,e).pipe(ux(r));const[i,o]=function KY(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?$Y.map(s=>a=>n[s](t,a,e)):function ZY(n){return E(n.addListener)&&E(n.removeListener)}(n)?XY.map(WO(n,t)):function qY(n){return E(n.on)&&E(n.off)}(n)?YY.map(WO(n,t)):[];if(!i&&Yi(n))return Cr(s=>_b(s,t,e))(Hn(n));if(!i)throw new TypeError("Invalid event target");return new st(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function WO(n,t){return e=>r=>n[e](t,r)}const ip={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ip;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new U(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=ip;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ip;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class JY extends lb{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class QY extends cb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ip.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&e===t._scheduled&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(ip.cancelAnimationFrame(e),t._scheduled=void 0)}});let xb,tZ=1;const x1={};function GO(n){return n in x1&&(delete x1[n],!0)}const nZ={setImmediate(n){const t=tZ++;return x1[t]=!0,xb||(xb=Promise.resolve()),xb.then(()=>GO(t)&&n()),t},clearImmediate(n){GO(n)}},{setImmediate:rZ,clearImmediate:iZ}=nZ,b1={setImmediate(...n){const{delegate:t}=b1;return(t?.setImmediate||rZ)(...n)},clearImmediate(n){const{delegate:t}=b1;return(t?.clearImmediate||iZ)(n)},delegate:void 0};new class sZ extends lb{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class oZ extends cb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=b1.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(b1.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function XO(n,t=ub){return function cZ(n){return Wt((t,e)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Pt(e,l=>{r=!0,i=l,o||Hn(n(l)).subscribe(o=Pt(e,a,c))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>function uZ(n=0,t,e=z$){let r=-1;return null!=t&&(nt(t)?e=t:r=t),new st(i=>{let o=function lZ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,t))}let fZ=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new Ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new st(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(XO(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Ss(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=jd(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_b(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Ue(mn),Ue(Is),Ue(qn,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$O=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new Ye,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(XO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Ue(Is),Ue(mn),Ue(qn,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({})}}return n})(),ZO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[ep,YO,ep,YO]})}}return n})();const qO=x$();class pZ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ci(-this._previousScrollPosition.left),t.style.top=Ci(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),qO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),qO&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class gZ{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Ss(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KO{enable(){}disable(){}attach(){}}function bb(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function QO(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class mZ{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();bb(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vZ=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new KO,this.close=s=>new gZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new pZ(this._viewportRuler,this._document),this.reposition=s=>new mZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(r){return new(r||n)(Ue(fZ),Ue($O),Ue(mn),Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class JO{constructor(t){if(this.scrollStrategy=new KO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class yZ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eR=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_Z=(()=>{class n extends eR{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(mn,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xZ=(()=>{class n extends eR{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=il(o)},this._clickListener=o=>{const s=il(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const h=c[l];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const g=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(Is),Ue(mn,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tR=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ab()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),ab()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(Is))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class bZ{constructor(t,e,r,i,o,s,a,c,l,h=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new Ye,this._attachments=new Ye,this._detachments=new Ye,this._locationChanges=U.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new Ye,this._outsidePointerEvents=new Ye,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(za(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ci(this._config.width),t.height=Ci(this._config.height),t.minWidth=Ci(this._config.minWidth),t.minHeight=Ci(this._config.minHeight),t.maxWidth=Ci(this._config.maxWidth),t.maxHeight=Ci(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=m1(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Nh(ys(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const nR="cdk-overlay-connected-position-bounding-box",wZ=/([A-Za-z%]+)$/;class CZ{get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ye,this._resizeSubscription=U.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(nR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,i,a),l=this._getOverlayPoint(c,e,a),h=this._getOverlayFit(l,e,r,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,l,r)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>c&&(c=h,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ru(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==r.originX?s:a}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=iR(e);let{x:s,y:a}=t,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let y=0-a,_=a+o.height-r.height,w=this._subtractOverflows(o.width,0-s,s+o.width-r.width),C=this._subtractOverflows(o.height,y,_),D=w*C;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,s=rR(this._overlayRef.getConfig().minHeight),a=rR(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=i)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=iR(e),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),a=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),l=Math.max(o.left-r.left-t.x,0);let h=0,g=0;return h=i.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-r.left-t.x:0,g=i.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:h,y:g},{x:t.x+h,y:t.y+g}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new yZ(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,s,a,h,g,y;if("top"===e.overlayY)s=t.y,o=r.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=r.height-t.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const _=Math.min(r.bottom-t.y+r.top,t.y),w=this._lastBoundingBoxSize.height;o=2*_,s=t.y-_,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-w/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)y=r.width-t.x+this._viewportMargin,h=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)g=t.x,h=r.right-t.x;else{const _=Math.min(r.right-t.x+r.left,t.x),w=this._lastBoundingBoxSize.width;h=2*_,g=t.x-_,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.x-w/2)}return{top:s,left:g,bottom:a,right:y,width:h,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Ci(r.height),i.top=Ci(r.top),i.bottom=Ci(r.bottom),i.width=Ci(r.width),i.left=Ci(r.left),i.right=Ci(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ci(o)),s&&(i.maxWidth=Ci(s))}this._lastBoundingBoxSize=r,ru(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ru(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ru(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const h=this._viewportRuler.getViewportScrollPosition();ru(r,this._getExactOverlayY(e,t,h)),ru(r,this._getExactOverlayX(e,t,h))}else r.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Ci(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Ci(s.maxWidth):o&&(r.maxWidth="")),ru(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ci(o.y),i}_getExactOverlayX(t,e,r){let s,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ci(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QO(t,r),isOriginOutsideView:bb(t,r),isOverlayClipped:QO(e,r),isOverlayOutsideView:bb(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&m1(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof hi)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function ru(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function rR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(wZ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const oR="cdk-global-overlay-wrapper";class EZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(oR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,g=this._xOffset,y="rtl"===this._overlayRef.getConfig().direction;let _="",w="",C="";c?C="flex-start":"center"===h?(C="center",y?w=g:_=g):y?"left"===h||"end"===h?(C="flex-end",_=g):("right"===h||"start"===h)&&(C="flex-start",w=g):"left"===h||"start"===h?(C="flex-start",_=g):("right"===h||"end"===h)&&(C="flex-end",w=g),t.position=this._cssPosition,t.marginLeft=c?"0":_,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":w,e.justifyContent=C,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(oR),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let AZ=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new EZ}flexibleConnectedTo(e){return new CZ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Ue($O),Ue(qn),Ue(Is),Ue(tR))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SZ=0,w1=(()=>{class n{constructor(e,r,i,o,s,a,c,l,h,g,y,_){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=h,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=_}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new JO(e);return s.direction=s.direction||this._directionality.value,new bZ(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+SZ++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($c)),new GY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Ue(vZ),Ue(tR),Ue(id),Ue(AZ),Ue(_Z),Ue(Ri),Ue(mn),Ue(qn),Ue(yY),Ue(gg),Ue(xZ),Ue(td,8))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const MZ={provide:new Ge("cdk-connected-overlay-scroll-strategy"),deps:[w1],useFactory:function DZ(n){return()=>n.scrollStrategies.reposition()}};let TZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({providers:[w1,MZ],imports:[ep,zO,ZO,ZO]})}}return n})();function OZ(n,t){if(1&n){const e=no();he(0,"div",2)(1,"button",3),mt("click",function(){return On(e),Rn(vn().action())}),Pe(2),pe()()}if(2&n){const e=vn();Ze(2),io(" ",e.data.action," ")}}const RZ=["label"];function NZ(n,t){}const PZ=Math.pow(2,31)-1;class wb{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ye,this._afterOpened=new Ye,this._onAction=new Ye,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,PZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const sR=new Ge("MatSnackBarData");class C1{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let kZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return n})(),FZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return n})(),LZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return n})(),BZ=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(r){return new(r||n)(We(wb),We(sR))}}static{this.\u0275cmp=ui({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){1&r&&(he(0,"div",0),Pe(1),pe(),xn(2,OZ,3,1,"div",1)),2&r&&(Ze(1),io(" ",i.data.message,"\n"),Ze(1),pt("ngIf",i.hasAction))},dependencies:[ss,VY,kZ,FZ,LZ],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return n})();const VZ={snackBarState:zY("state",[BO("void, hidden",np({transform:"scale(0.8)",opacity:0})),BO("visible",np({transform:"scale(1)",opacity:1})),VO("* => visible",FO("150ms cubic-bezier(0, 0, 0.2, 1)")),VO("* => void, * => hidden",FO("75ms cubic-bezier(0.4, 0.0, 1, 1)",np({opacity:0})))])};let UZ=0,jZ=(()=>{class n extends yb{constructor(e,r,i,o,s){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=s,this._document=Ct(qn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ye,this._onExit=new Ye,this._onEnter=new Ye,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+UZ++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:i}=e;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(za(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>e.classList.add(i)):e.classList.add(r)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const o=r[i],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const r=e.getAttribute("aria-owns");if(r){const i=r.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(r){return new(r||n)(We(mn),We(hi),We(mh),We(Is),We(C1))}}static{this.\u0275dir=Jt({type:n,viewQuery:function(r,i){if(1&r&&hh(HO,7),2&r){let o;bd(o=wd())&&(i._portalOutlet=o.first)}},features:[Yn]})}}return n})(),HZ=(()=>{class n extends jZ{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,r="mdc-snackbar__label";e.classList.toggle(r,!e.querySelector(`.${r}`))}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Ui(n)))(i||n)}}()}static{this.\u0275cmp=ui({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(1&r&&hh(RZ,7),2&r){let o;bd(o=wd())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,i){1&r&&Gy("@state.done",function(s){return i.onAnimationEnd(s)}),2&r&&Qy("@state",i._animationState)},features:[Yn],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1,2)(3,"div",3),xn(4,NZ,0,0,"ng-template",4),pe(),br(5,"div"),pe()()),2&r&&(Ze(5),Xs("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[HO],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[VZ.snackBarState]}})}}return n})(),aR=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[TZ,zO,Sg,jY,zd,zd]})}}return n})();const cR=new Ge("mat-snack-bar-default-options",{providedIn:"root",factory:function zZ(){return new C1}});let WZ=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,i,o,s,a){this._overlay=e,this._live=r,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",i){const o={...this._defaultConfig,...i};return o.data={message:e,action:r},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const o=Ri.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:C1,useValue:r}]}),s=new vb(this.snackBarContainerComponent,r.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=r,a.instance}_attach(e,r){const i={...new C1,...this._defaultConfig,...r},o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),a=new wb(s,o);if(e instanceof Ua){const c=new jO(e,null,{$implicit:i.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(i,a),l=new vb(e,void 0,c),h=s.attachComponentPortal(l);a.instance=h.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Nh(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new JO;r.direction=e.direction;let i=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?i.left("0"):a?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(e,r){return Ri.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wb,useValue:r},{provide:sR,useValue:e.data}]})}static{this.\u0275fac=function(r){return new(r||n)(Ue(w1),Ue(bO),Ue(Ri),Ue(db),Ue(n,12),Ue(cR))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),GZ=(()=>{class n extends WZ{constructor(e,r,i,o,s,a){super(e,r,i,o,s,a),this.simpleSnackBarComponent=BZ,this.snackBarContainerComponent=HZ,this.handsetCssClass="mat-mdc-snack-bar-handset"}static{this.\u0275fac=function(r){return new(r||n)(Ue(w1),Ue(bO),Ue(Ri),Ue(db),Ue(n,12),Ue(cR))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:aR})}}return n})(),op=(()=>{class n{constructor(e){this.snackBar=e}register(e){this.notificationComponent=e}showSuccess(e){this.notificationComponent?.show("success",e)}showError(e){this.notificationComponent?.show("error",e)}showInfo(e){this.notificationComponent?.show("info",e)}showWarning(e){this.notificationComponent?.show("warning",e)}static{this.\u0275fac=function(r){return new(r||n)(Ue(GZ))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XZ=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Seats/`}getSeatAllData(){return this.http.get(this.localBaseUrl+"GetAll")}getseatByID(e){return this.http.get(`${this.localBaseUrl}${e}`)}postseatData(e){return this.http.post(`${this.localBaseUrl}Create`,e)}updateSeat(e,r){return this.http.patch(`${this.localBaseUrl}Update/${e}`,r)}deleteSeat(e){return this.http.delete(`${this.localBaseUrl}${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $Z(n,t){if(1&n&&(he(0,"option",13),Pe(1),pe()),2&n){const e=t.$implicit;pt("value",e.id),Ze(1),ro(e.name)}}function YZ(n,t){if(1&n){const e=no();he(0,"div",7)(1,"strong"),Pe(2),pe(),he(3,"label"),Pe(4,"Zone: "),he(5,"select",8),mt("ngModelChange",function(i){return Rn(On(e).$implicit.zoneId=i)}),xn(6,$Z,2,2,"option",9),pe()(),he(7,"select",8),mt("ngModelChange",function(i){return Rn(On(e).$implicit.isActive=i)}),he(8,"option",10),Pe(9,"Available"),pe(),he(10,"option",11),Pe(11,"Booked"),pe(),he(12,"option",12),Pe(13,"Confirmed"),pe()(),he(14,"button",2),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).saveSeat(o))}),Pe(15,"Save"),pe(),he(16,"button",2),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).deleteSeat(o))}),Pe(17,"Delete"),pe()()}if(2&n){const e=t.$implicit,r=vn(2);Ze(2),ro(e.number),Ze(3),pt("ngModel",e.zoneId),Ze(1),pt("ngForOf",r.zones),Ze(1),pt("ngModel",e.isActive)}}function ZZ(n,t){if(1&n&&(he(0,"div",0)(1,"h3"),Pe(2,"Search Result"),pe(),xn(3,YZ,18,4,"div",6),pe()),2&n){const e=vn();Ze(3),pt("ngForOf",e.filteredSeats)}}let qZ=(()=>{class n{constructor(e,r,i){this.zoneservice=e,this.notify=r,this.seatService=i,this.postpayload={number:"",zoneId:0},this.zones=[],this.searchId="",this.filteredSeats=[],this.newSeat={number:"",zoneId:"",isActive:!0}}ngOnInit(){this.getAllZone()}getAllZone(){this.zoneservice.getZoneAllData().subscribe({next:e=>{console.log(e),this.zones=e},error:e=>{console.log(e)}})}onSearch(){const e=this.searchId.trim();this.seatService.getseatByID(e).subscribe({next:r=>{this.filteredSeats=r?[r]:[]},error:r=>{console.error("Error fetching seats ID:",r),this.filteredSeats=[]}})}saveSeat(e){this.seatService.updateSeat(e.number,e).subscribe({next:r=>{this.notify.showSuccess("Seat added")},error:r=>{console.error("Error:",r)}})}deleteSeat(e){const r=this.searchId.trim();this.seatService.deleteSeat(r).subscribe({next:i=>{this.notify.showSuccess("Delete seats")},error:i=>{console.error("Error:",i)}})}addSeat(){this.newSeat.number&&this.newSeat.isActive?(this.postpayload.number=this.newSeat.number,this.postpayload.number=this.newSeat.zoneId,this.seatService.postseatData(this.postpayload).subscribe({next:e=>{this.notify.showSuccess("Seat added")},error:e=>{console.error("Error:",e)}}),this.newSeat={number:"",zoneId:"",isActive:!0},this.postpayload={number:"",zoneId:0}):this.notify.showInfo("All fields are required.")}static{this.\u0275fac=function(r){return new(r||n)(We(cO),We(op),We(XZ))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-seat-admin"]],decls:14,vars:4,consts:[[1,"section"],["placeholder","Search by Seat ID (e.g. A20C1)",3,"ngModel","ngModelChange"],[3,"click"],["class","section",4,"ngIf"],["placeholder","Seat ID (e.g. A20C31)",3,"ngModel","ngModelChange"],["placeholder","Zone (e.g. A)",3,"ngModel","ngModelChange"],["class","seat-entry",4,"ngFor","ngForOf"],[1,"seat-entry"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["value","available"],["value","booked"],["value","confirmed"],[3,"value"]],template:function(r,i){1&r&&(he(0,"h2"),Pe(1,"Seat Management"),pe(),he(2,"div",0)(3,"input",1),mt("ngModelChange",function(s){return i.searchId=s}),pe(),he(4,"button",2),mt("click",function(){return i.onSearch()}),Pe(5,"Search"),pe()(),xn(6,ZZ,4,1,"div",3),he(7,"div",0)(8,"h3"),Pe(9,"Add New Seat"),pe(),he(10,"input",4),mt("ngModelChange",function(s){return i.newSeat.number=s}),pe(),he(11,"input",5),mt("ngModelChange",function(s){return i.newSeat.zoneId=s}),pe(),he(12,"button",2),mt("click",function(){return i.addSeat()}),Pe(13,"Add"),pe()()),2&r&&(Ze(3),pt("ngModel",i.searchId),Ze(3),pt("ngIf",i.filteredSeats.length),Ze(4),pt("ngModel",i.newSeat.number),Ze(1),pt("ngModel",i.newSeat.zoneId))},dependencies:[Wl,ss,Mh,Th,qs,$l,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:700px;background:rgba(255,255,255,.25);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease;transition:all .3s ease}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px 14px;margin:6px 0 16px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d;transition:all .2s ease;min-width:160px;width:100%;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f633;outline:none}button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;color:#fff;background-color:#a4c3b0;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out;width:100%}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#76b88f}button[_ngcontent-%COMP%]:last-child{background-color:#5e3a0d;box-shadow:0 4px 10px #ef444433}button[_ngcontent-%COMP%]:last-child:hover{background-color:#5e3a0d}.seat-entry[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:10px;margin-bottom:16px;background:rgba(255,255,255,.6);padding:14px;border-radius:12px;box-shadow:0 6px 14px #0000000d}.seat-entry[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1 1 100%}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@media (min-width: 600px){.seat-entry[_ngcontent-%COMP%]{flex-wrap:nowrap}.seat-entry[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 1 auto;min-width:unset}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:auto;min-width:160px}button[_ngcontent-%COMP%]{width:auto}}"]})}}return n})();function KZ(n,t){if(1&n){const e=no();he(0,"button",3),mt("click",function(){return On(e),Rn(vn().goToSeatManagement())}),Pe(1," \u{1f4ba} Seat Management "),pe()}}function QZ(n,t){if(1&n){const e=no();he(0,"button",3),mt("click",function(){return On(e),Rn(vn().goToEmployeeManagement())}),Pe(1," \u{1f464} Employee Management "),pe()}}function JZ(n,t){if(1&n){const e=no();he(0,"button",3),mt("click",function(){return On(e),Rn(vn().goToRoleManagement())}),Pe(1," \u{1f6e0} Role Management "),pe()}}function eq(n,t){if(1&n){const e=no();he(0,"button",3),mt("click",function(){return On(e),Rn(vn().goToZoneManagement())}),Pe(1," \u{1f310} Zone Management "),pe()}}function tq(n,t){if(1&n){const e=no();he(0,"button",3),mt("click",function(){return On(e),Rn(vn().goToDashboard())}),Pe(1," Dashboard "),pe()}}let nq=(()=>{class n{goToEmployeeManagement(){this.router.navigate(["/employeemanagement"])}constructor(e){this.router=e,this.role=""}ngOnInit(){this.role=localStorage.getItem("roles")||""}goToSeatManagement(){this.router.navigate(["/seatmanagement"])}goToRoleManagement(){this.router.navigate(["/rolemanagement"])}goToZoneManagement(){this.router.navigate(["/zonemanagement"])}goToDashboard(){this.router.navigate(["/dashboard"])}static{this.\u0275fac=function(r){return new(r||n)(We(ji))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-admin-page"]],decls:9,vars:5,consts:[[1,"admin-page-container"],[1,"button-group"],["class","nav-button",3,"click",4,"ngIf"],[1,"nav-button",3,"click"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h2"),Pe(2,"Admin Dashboard"),pe(),he(3,"div",1),xn(4,KZ,2,0,"button",2),xn(5,QZ,2,0,"button",2),xn(6,JZ,2,0,"button",2),xn(7,eq,2,0,"button",2),xn(8,tq,2,0,"button",2),pe()()),2&r&&(Ze(4),pt("ngIf","admin"==i.role),Ze(1),pt("ngIf","admin"==i.role||"supervisor-2"==i.role),Ze(1),pt("ngIf","admin"==i.role),Ze(1),pt("ngIf","admin"==i.role),Ze(1),pt("ngIf","admin"==i.role||"supervisor-2"==i.role))},dependencies:[ss],styles:[".admin-page-container[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;font-family:Segoe UI,sans-serif;background:linear-gradient(135deg,#e0f7fa 0%,#ffffff 100%);border-radius:16px;margin:40px auto;max-width:850px;box-shadow:0 10px 30px #0000001a;animation:_ngcontent-%COMP%_fadeIn .6s ease}h2[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:28px;color:#1f2937}.button-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.nav-button[_ngcontent-%COMP%]{background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 8px 16px #0000000d;border-radius:12px;padding:16px 28px;font-size:16px;font-weight:600;color:#1f2937;cursor:pointer;transition:transform .2s ease,background-color .2s ease;min-width:180px}.nav-button[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.03);background-color:#e0f2fe}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),rq=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Users/`}getRoleAllData(){return this.http.get(this.localBaseUrl+"All")}getRoleByID(e){return this.http.get(`${this.localBaseUrl}${e}`)}postRoleData(e){return this.http.post(`${this.localBaseUrl}Create`,e)}updateRole(e,r){return this.http.patch(`${this.localBaseUrl}Update/${e}`,r)}deleteRole(e){return this.http.delete(`${this.localBaseUrl}${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lR=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Roles/`}getRoleAllData(){return this.http.get(this.localBaseUrl+"ALl")}getRoleByID(e){return this.http.get(`${this.localBaseUrl}${e}`)}postRoleData(e){return this.http.post(`${this.localBaseUrl}Create`,e)}updateRole(e,r){return this.http.patch(`${this.localBaseUrl}Update/${e}`,r)}deleteRole(e){return this.http.delete(`${this.localBaseUrl}${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iq(n,t){if(1&n){const e=no();he(0,"div",28)(1,"div",29)(2,"div",30)(3,"strong"),Pe(4),pe(),Pe(5),pe(),he(6,"div",30)(7,"label"),Pe(8,"Position"),pe(),he(9,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.designation=i)}),pe()(),he(10,"div",30)(11,"label"),Pe(12,"BadgeId"),pe(),he(13,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.badgeId=i)}),pe()(),he(14,"div",30)(15,"label"),Pe(16,"Role"),pe(),he(17,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.roleId=i)}),pe()()(),he(18,"div",29)(19,"div",30)(20,"label"),Pe(21,"Manager"),pe(),he(22,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.managerADID=i)}),pe()(),he(23,"div",30)(24,"label"),Pe(25,"Lead"),pe(),he(26,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.leadADID=i)}),pe()()(),he(27,"div",31)(28,"button",32),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).saveEmployee(o))}),Pe(29,"Save"),pe(),he(30,"button",33),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).deleteEmployee(o))}),Pe(31,"Delete"),pe()()()}if(2&n){const e=t.$implicit;Ze(4),ro(e.adid),Ze(1),ro(e.name),Ze(4),pt("ngModel",e.designation),Ze(4),pt("ngModel",e.badgeId),Ze(4),pt("ngModel",e.roleId),Ze(5),pt("ngModel",e.managerADID),Ze(4),pt("ngModel",e.leadADID)}}function oq(n,t){if(1&n&&(he(0,"div",0)(1,"h3",26),Pe(2,"Search Result"),pe(),xn(3,iq,32,7,"div",27),pe()),2&n){const e=vn();Ze(3),pt("ngForOf",e.filteredEmployees)}}function sq(n,t){1&n&&(he(0,"option",34),Pe(1,"Admin"),pe())}function aq(n,t){if(1&n&&(he(0,"option",35),Pe(1),pe()),2&n){const e=t.$implicit;pt("value",e.id),Ze(1),ro(e.name)}}let cq=(()=>{class n{constructor(e,r,i,o){this.authservice=e,this.employeeservice=r,this.notify=i,this.roleService=o,this.isAdmin=!1,this.searchId="",this.newEmployee={adid:"",name:"",designation:"",badgeId:"",roleId:0,managerADID:""},this.employees=[],this.filteredEmployees=[]}ngOnInit(){this.getRoles(),this.getAllRoles()}getRoles(){this.authservice.hasRole("admin")&&(this.isAdmin=!0)}getAllRoles(){this.roleService.getRoleAllData().subscribe({next:e=>{this.allRoles=e,console.log(this.allRoles)},error:e=>{console.log(e)}})}onSearch(){const e=this.searchId.toUpperCase();this.employeeservice.getRoleByID(e).subscribe({next:r=>{console.log(r),this.filteredEmployees=r?[r]:[],console.log(this.filteredEmployees)},error:r=>{console.error("Error fetching User by ID:",r),this.filteredEmployees=[]}})}saveEmployee(e){console.log(e),this.employeeservice.updateRole(e.adid,{name:e.name,designation:e.designation,badgeId:e.badgeId,roleId:e.roleId,managerADID:e.managerADID,leadADID:e.leadADID}).subscribe({next:i=>{this.notify.showSuccess("employee Updated"),console.log("employee Updated")},error:i=>{this.notify.showError(i),console.log(i)}})}deleteEmployee(e){this.employeeservice.deleteRole(e.adid).subscribe({next:r=>{this.notify.showSuccess("User Deleted"),console.log(r),this.filteredEmployees=[]},error:r=>{this.notify.showError(r),console.log(r)}})}addEmployee(){if(this.newEmployee.adid&&this.newEmployee.name){console.log({...this.newEmployee});const i={adid:this.newEmployee.adid,name:this.newEmployee.name,designation:this.newEmployee.designation,badgeId:this.newEmployee.badgeId,roleId:this.newEmployee.roleId,managerADID:""==this.newEmployee.managerADID?null:this.newEmployee.managerADID,leadADID:""==this.newEmployee.leadADID?null:this.newEmployee.leadADID};console.log("PostPaylod"),console.log(i),this.employeeservice.postRoleData(i).subscribe({next:o=>{this.notify.showSuccess("user Added"),this.newEmployee={adid:"",name:"",designation:"",badgeId:"",roleId:0,managerADID:""}},error:o=>{this.notify.showError(o),console.log(o)}}),this.newEmployee={adid:"",name:"",designation:"",badgeId:"",roleId:0,managerADID:""}}}static{this.\u0275fac=function(r){return new(r||n)(We(ib),We(rq),We(op),We(lR))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-employee-admin"]],decls:49,vars:12,consts:[[1,"section"],["placeholder","Search by Employee ID",3,"ngModel","ngModelChange"],[3,"click"],["class","section",4,"ngIf"],["placeholder","Employee ID",3,"ngModel","ngModelChange"],["placeholder","Name",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Associate Application Developer"],["value","Application Developer"],["value","Intermediate Application Developer"],["value","Senior Application Developer"],["value","Associate Software Quality"],["value","Software Quality"],["value","Intermediate Software Quality"],["value","Senior Software Quality"],["value","Lead Application Developer"],["value","Application Developement Manager"],["value","Applications Architect"],["value","Director"],["value","Admin",4,"ngif"],["placeholder","Badge ID",3,"ngModel","ngModelChange"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Manager",3,"ngModel","ngModelChange"],["placeholder","Lead",3,"ngModel","ngModelChange"],[1,"title"],["class","employee-card",4,"ngFor","ngForOf"],[1,"employee-card"],[1,"row"],[1,"field"],[1,"buttons"],[1,"btn","save",3,"click"],[1,"btn","delete",3,"click"],["value","Admin"],[3,"value"]],template:function(r,i){1&r&&(he(0,"h2"),Pe(1,"Employee Management"),pe(),he(2,"div",0)(3,"input",1),mt("ngModelChange",function(s){return i.searchId=s}),pe(),he(4,"button",2),mt("click",function(){return i.onSearch()}),Pe(5,"Search"),pe()(),xn(6,oq,4,1,"div",3),he(7,"div",0)(8,"h3"),Pe(9,"Add New Employee"),pe(),he(10,"input",4),mt("ngModelChange",function(s){return i.newEmployee.adid=s}),pe(),he(11,"input",5),mt("ngModelChange",function(s){return i.newEmployee.name=s}),pe(),he(12,"select",6),mt("ngModelChange",function(s){return i.newEmployee.designation=s}),he(13,"option",7),Pe(14,"Select Designation"),pe(),he(15,"option",8),Pe(16,"AAD"),pe(),he(17,"option",9),Pe(18,"AD"),pe(),he(19,"option",10),Pe(20,"IAD"),pe(),he(21,"option",11),Pe(22,"SAD"),pe(),he(23,"option",12),Pe(24,"ASQ"),pe(),he(25,"option",13),Pe(26,"SQ"),pe(),he(27,"option",14),Pe(28,"ISQ"),pe(),he(29,"option",15),Pe(30,"SSQ"),pe(),he(31,"option",16),Pe(32,"LAD"),pe(),he(33,"option",17),Pe(34,"ADM"),pe(),he(35,"option",18),Pe(36,"Applications Architect"),pe(),he(37,"option",19),Pe(38,"Director"),pe(),xn(39,sq,2,0,"option",20),pe(),he(40,"input",21),mt("ngModelChange",function(s){return i.newEmployee.badgeId=s}),pe(),he(41,"select",6),mt("ngModelChange",function(s){return i.newEmployee.roleId=s}),he(42,"option",22),Pe(43,"Select Role"),pe(),xn(44,aq,2,2,"option",23),pe(),he(45,"input",24),mt("ngModelChange",function(s){return i.newEmployee.leadADID=s}),pe(),he(46,"input",25),mt("ngModelChange",function(s){return i.newEmployee.managerADID=s}),pe(),he(47,"button",2),mt("click",function(){return i.addEmployee()}),Pe(48,"Add"),pe()()),2&r&&(Ze(3),pt("ngModel",i.searchId),Ze(3),pt("ngIf",i.filteredEmployees.length),Ze(4),pt("ngModel",i.newEmployee.adid),Ze(1),pt("ngModel",i.newEmployee.name),Ze(1),pt("ngModel",i.newEmployee.designation),Ze(27),pt("ngif",i.isAdmin),Ze(1),pt("ngModel",i.newEmployee.badgeId),Ze(1),pt("ngModel",i.newEmployee.roleId),Ze(1),pt("value",null),Ze(2),pt("ngForOf",i.allRoles),Ze(1),pt("ngModel",i.newEmployee.leadADID),Ze(1),pt("ngModel",i.newEmployee.managerADID))},dependencies:[Wl,ss,Mh,Th,qs,$l,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:700px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:10px 14px;margin:6px 10px 16px 0;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d;min-width:160px}button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#5e3a0d}button[_ngcontent-%COMP%]:last-child{background-color:#5e3a0d;box-shadow:0 4px 10px #ef444433}.employee-entry[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:12px;background:rgba(255,255,255,.6);padding:14px;border-radius:12px;box-shadow:0 6px 14px #0000000d}.name[_ngcontent-%COMP%]{margin-top:15px}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.title[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:1.5rem;margin-bottom:1rem}.employee-card[_ngcontent-%COMP%]{background:white;padding:20px;border-radius:15px;box-shadow:0 5px 15px #00000014;margin-bottom:20px;max-width:700px;margin-left:auto;margin-right:auto}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:15px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:20px;flex:1 1 45%;margin-bottom:10px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:10px;border:1px solid #ccc;font-size:14px}.buttons[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:10px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;font-weight:700;border:none;cursor:pointer;color:#fff;font-size:15px}.btn.save[_ngcontent-%COMP%]{background-color:#4a2f07;box-shadow:0 5px 10px #0000001a}.btn.delete[_ngcontent-%COMP%]{background-color:#7e2c0d}select[_ngcontent-%COMP%]{appearance:none;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);font-size:15px;color:#1f2937;font-weight:500;box-shadow:0 6px 14px #00000014;transition:all .3s ease;cursor:pointer;width:180px}select[_ngcontent-%COMP%]:hover{background-color:#ffffffb3;box-shadow:0 0 10px #60a5fa4d;border-color:#60a5fa}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}select[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>\");background-repeat:no-repeat;background-position:right 10px center;background-size:16px;padding-right:30px}"]})}}return n})();function lq(n,t){if(1&n){const e=no();he(0,"button",11),mt("click",function(){return On(e),Rn(vn().openBulkBookingPopup())}),Pe(1," Bulk Book Seats\n"),pe()}}function uq(n,t){if(1&n){const e=no();he(0,"div",12)(1,"h3"),Pe(2,"Seat Confirmation"),pe(),he(3,"p"),Pe(4,"Seat "),he(5,"strong"),Pe(6),pe(),Pe(7," is currently "),he(8,"strong"),Pe(9),pe(),Pe(10,"."),pe(),he(11,"div",13)(12,"button",14),mt("click",function(){return On(e),Rn(vn().bookSelectedSeat())}),Pe(13,"\u2705 Book"),pe(),he(14,"button",14),mt("click",function(){return On(e),Rn(vn().cancelSeat())}),Pe(15,"\u274c Cancel"),pe(),he(16,"button",15),mt("click",function(){return On(e),Rn(vn().closeConfirmation())}),Pe(17,"Close"),pe()()()}if(2&n){const e=vn();Ze(6),ro(e.selectedSeat.number),Ze(3),ro(e.selectedSeat.status)}}function dq(n,t){if(1&n){const e=no();he(0,"div",18),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).onSeatClick(o))}),Pe(1),pe()}if(2&n){const e=t.$implicit;pt("ngClass",e.status),Ze(1),io(" ",e.number," ")}}function fq(n,t){if(1&n&&(he(0,"div",16),xn(1,dq,2,2,"div",17),pe()),2&n){const e=t.$implicit;Ze(1),pt("ngForOf",e)}}function hq(n,t){if(1&n){const e=no();he(0,"label")(1,"input",22),mt("ngModelChange",function(i){return Rn(On(e).$implicit.selected=i)}),pe(),Pe(2),pe()}if(2&n){const e=t.$implicit;Ze(1),pt("ngModel",e.selected),Ze(1),io(" ",e.name," ")}}function pq(n,t){if(1&n){const e=no();he(0,"div",19)(1,"h3"),Pe(2,"Select Team Members"),pe(),he(3,"div",20),xn(4,hq,3,2,"label",21),pe(),he(5,"div",13)(6,"button",14),mt("click",function(){return On(e),Rn(vn().confirmBulkBooking())}),Pe(7,"Submit"),pe(),he(8,"button",14),mt("click",function(){return On(e),Rn(vn().closePopup())}),Pe(9,"Cancel"),pe()()()}if(2&n){const e=vn();Ze(4),pt("ngForOf",e.teamMembers)}}let uR=(()=>{class n{constructor(e){this.notify=e,this.seatRows=[],this.seatSelected=new hr,this.individualSelected=new hr,this.isSupervisor=!1,this.teamMembers=[],this.bulkBooked=new hr,this.chunkedSeatRows=[],this.showPopup=!1,this.selectedSeat=null}ngOnInit(){this.userAdID=localStorage.getItem("userid")?.toUpperCase()}ngOnChanges(e){e.seatRows&&(this.chunkedSeatRows=[],this.createChunks())}createChunks(){console.log("Data here "+this.seatRows);for(let r=0;r<this.seatRows.length;r+=8)this.chunkedSeatRows.push(this.seatRows.slice(r,r+8));console.log(this.chunkedSeatRows)}onSeatClick(e){console.log(e),"Available"==e.status&&(this.selectedSeat=e)}bookSelectedSeat(){console.log("Booking selection"+this.selectedSeat),this.selectedSeat&&(this.selectedSeat.status="Booked",this.seatSelected.emit(this.selectedSeat),this.selectedSeat=null)}cancelSeat(){this.selectedSeat&&(console.log("Cancel selection"+this.selectedSeat),this.selectedSeat.status="Available",this.seatSelected.emit(this.selectedSeat),this.selectedSeat=null)}closeConfirmation(){this.selectedSeat=null}openBulkBookingPopup(){this.showPopup=!0}closePopup(){this.showPopup=!1}confirmBulkBooking(){const e=this.teamMembers.filter(o=>o.selected),r=this.seatRows.filter(o=>"Available"===o.status);if(e.length>r.length)return void this.notify.showWarning(" Not enough seats available!");const i=e.map((o,s)=>({employeeId:o.adid,seatId:r[s].id}));this.bulkBooked.emit(i),this.closePopup()}refresh(){}static{this.\u0275fac=function(r){return new(r||n)(We(op))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-seat-map"]],inputs:{seatRows:"seatRows",isSupervisor:"isSupervisor",teamMembers:"teamMembers"},outputs:{seatSelected:"seatSelected",individualSelected:"individualSelected",bulkBooked:"bulkBooked"},features:[ts],decls:22,vars:4,consts:[[1,"seat-map"],["class","bulk-book-button",3,"click",4,"ngIf"],["class","seat-confirmation-modal",4,"ngIf"],["class","seat-row",4,"ngFor","ngForOf"],[1,"legend"],[1,"legend-item"],[1,"seat","available"],[1,"seat","booked"],[1,"seat","confirmed"],[1,"seat","checked"],["class","bulk-booking-modal",4,"ngIf"],[1,"bulk-book-button",3,"click"],[1,"seat-confirmation-modal"],[1,"modal-actions"],[3,"click"],[1,"close",3,"click"],[1,"seat-row"],["class","seat  chair",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"seat","chair",3,"ngClass","click"],[1,"bulk-booking-modal"],[1,"team-list"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(he(0,"div",0),xn(1,lq,2,0,"button",1),xn(2,uq,18,2,"div",2),xn(3,fq,2,1,"div",3),pe(),he(4,"div",4)(5,"div",5),br(6,"div",6),he(7,"span"),Pe(8,"Available"),pe()(),he(9,"div",5),br(10,"div",7),he(11,"span"),Pe(12,"Booked"),pe()(),he(13,"div",5),br(14,"div",8),he(15,"span"),Pe(16,"Confirmed"),pe()(),he(17,"div",5),br(18,"div",9),he(19,"span"),Pe(20,"Checked-In"),pe()()(),xn(21,pq,10,1,"div",10)),2&r&&(Ze(1),pt("ngIf",i.isSupervisor),Ze(1),pt("ngIf",i.selectedSeat),Ze(1),pt("ngForOf",i.chunkedSeatRows),Ze(18),pt("ngIf",i.showPopup))},dependencies:[Y_,Wl,ss,dx,ya,_a],styles:['.seat-map[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:20px;background:rgba(255,255,255,.8);border-radius:16px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:0 6px 20px #00000014;max-width:850px;margin:0 auto}.seat-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.seat[_ngcontent-%COMP%]{width:60px;height:35px;border-radius:6px 6px 4px 4px;text-align:center;line-height:35px;font-weight:700;cursor:pointer;transition:all .25s ease;box-shadow:0 3px 6px #0000001a;-webkit-user-select:none;user-select:none;font-size:13px;background-color:#fff;position:relative;border:2px solid transparent}.seat[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.chair[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-5px;left:50%;transform:translate(-50%);width:18px;height:4px;background:#555;border-radius:2px}.available[_ngcontent-%COMP%]{border-color:#a7f3d0;background-color:#ecfdf5;color:#047857}.booked[_ngcontent-%COMP%]{border-color:#d1d5db;background-color:#e5e7eb;color:#4b5563;cursor:not-allowed}.confirmed[_ngcontent-%COMP%]{border-color:#fde68a;background-color:#fef9c3;color:#92400e}.checked-in[_ngcontent-%COMP%], .checked[_ngcontent-%COMP%]{border-color:#fca5a5;background-color:#fee2e2;color:#991b1b}.legend[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:24px;flex-wrap:wrap;gap:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;color:#1f2937}.legend-item[_ngcontent-%COMP%]   .seat[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:6px;line-height:20px;text-align:center}.bulk-book-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:10px 18px;border-radius:10px;font-size:14px;font-weight:600;margin:12px auto;display:block;border:none;cursor:pointer;box-shadow:0 4px 12px #3b82f666}.bulk-booking-modal[_ngcontent-%COMP%]{position:fixed;top:20%;left:50%;transform:translate(-50%);background:rgba(255,255,255,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:24px;border-radius:16px;box-shadow:0 12px 32px #00000026;z-index:999;width:400px}.team-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin:16px 0}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.bulk-booking-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(1);background:rgba(255,255,255,.2);-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border-radius:20px;padding:32px;width:90%;max-width:450px;z-index:999;box-shadow:0 8px 32px #1f26875e,0 4px 8px #0000001a inset;animation:_ngcontent-%COMP%_slideIn .4s ease-out;border:1px solid rgba(255,255,255,.25);color:#1f2937;font-family:Segoe UI,sans-serif}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-50%,-60%) scale(.95)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.bulk-booking-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:20px;font-weight:700;text-align:center;color:#111827}.team-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.team-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,.6);padding:10px 14px;border-radius:12px;border:1px solid rgba(0,0,0,.08);transition:all .25s ease;box-shadow:0 2px 5px #0000000d}.team-list[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{transform:scale(1.02);background-color:#e0f2ff}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:16px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:10px 14px;border-radius:12px;font-weight:600;font-size:14px;border:none;cursor:pointer;background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;transition:all .3s ease;box-shadow:0 6px 14px #3b82f64d}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background:linear-gradient(135deg,#2563eb,#3b82f6)}.Available[_ngcontent-%COMP%]{border-color:#a7f3d0;background-color:#ecfdf5;color:#047857}.Booked[_ngcontent-%COMP%]{border-color:#d1d5db;background-color:#e5e7eb;color:#4b5563;cursor:not-allowed}.Confirmed[_ngcontent-%COMP%]{border-color:#fde68a;background-color:#fef9c3;color:#92400e}.Checked-in[_ngcontent-%COMP%]{border-color:#fca5a5;background-color:#fee2e2;color:#991b1b}']})}}return n})(),gq=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/OrgSeatPools/`}getOrgAllData(){return this.http.get(this.localBaseUrl+"ALl")}getOrgByID(e){return this.http.get(`${this.localBaseUrl}${e}`)}postOrgData(e){return this.http.post(`${this.localBaseUrl}Create`,e)}updateOrg(e,r){return this.http.patch(`${this.localBaseUrl}Update/${e}`,r)}deleteOrg(e){return this.http.delete(`${this.localBaseUrl}${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mq=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Users/`}getTeamMembersByManagerID(e){return this.http.get(`${this.localBaseUrl}manager/${e}`)}deleteSeat(e){return this.http.delete(`${this.localBaseUrl}${e}`)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vq=(()=>{class n{constructor(e){this.http=e,this.localBaseUrl=`${tl_apiUrl}/api/Reservations/`}getSeatsbyZone(e,r){return this.http.get(`${this.localBaseUrl}zone/${e}/seats?date=${r}`)}individualReservation(e){return console.log("post call"),console.log(e),this.http.post(`${this.localBaseUrl}Create`,e)}bulkReservation(e){return console.log("post call"),console.log(e),this.http.post(`${this.localBaseUrl}BulkCreate`,e)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yq(n,t){if(1&n){const e=no();he(0,"app-seat-map",10),mt("seatSelected",function(i){return On(e),Rn(vn(2).onSeatSelected(i))})("individualSelected",function(i){return On(e),Rn(vn(2).individualseatSelected(i))})("bulkBooked",function(i){return On(e),Rn(vn(2).onBulkBooking(i))}),pe()}if(2&n){const e=vn(2);pt("seatRows",e.filteredSeatData)("isSupervisor","supervisor"===e.loggedInUserRole)("teamMembers",e.myTeam)}}function _q(n,t){if(1&n&&(he(0,"div",8),xn(1,yq,1,3,"app-seat-map",9),pe()),2&n){const e=vn();Ze(1),pt("ngIf",e.filteredSeatData)}}let xq=(()=>{class n{constructor(e,r,i){this.orgpoolService=e,this.userService=r,this.reservationService=i,this.title="FlexiSeatBooking",this.seatData=[],this.filteredSeatData=[],this.seatRows=[],this.isManagerSelected=!1,this.loggedInUserRole="supervisor",this.managerPoolData=[],this.ZonesAllocated="",this.selectedDate="",this.allSeatData=[],this.myTeam=[{adid:"YJJYJJ",name:"Vignesh"},{adid:"FGGFGG",name:"Sharan"},{adid:"YHHYHH",name:"Arun"}]}ngOnInit(){localStorage.setItem("zonesAllocated",""),localStorage.setItem("totalsetats",""),this.userid=localStorage.getItem("userid")?.toUpperCase(),this.isManagerSelected=!1,this.mockData(),this.today=(new Date).toISOString().split("T")[0],this.managerAdid=localStorage.getItem("manageradid")?.toUpperCase(),this.fetchManagerPool(),this.fetchTeamMembers()}fetchManagerPool(){this.orgpoolService.getOrgByID(this.managerAdid).subscribe({next:e=>{this.managerPoolData=e;var r=this.formatZonesSummary(this.managerPoolData);console.log(r)},error:e=>{console.log(e)}})}fetchseats(){console.log("fetchseats"),this.reservationService.getSeatsbyZone(this.ZonesAllocated,this.selectedDate).subscribe({next:e=>{this.filteredSeatData=e,console.log(this.filteredSeatData)},error:e=>{console.log(e)}})}fetchTeamMembers(){this.userService.getTeamMembersByManagerID(this.userid).subscribe({next:e=>{this.myTeam=e,console.log(this.myTeam)},error:e=>{console.log(e)}})}formatZonesSummary(e){const r=e.map(o=>o.zoneId).join(", "),i=e.reduce((o,s)=>o+s.seatsAllotted,0);return this.ZonesAllocated=r,this.TotalSeatsforManager=i,localStorage.setItem("zonesAllocated",r),localStorage.setItem("totalsetats",i.toString()),`Zone: ${r}  seat allocated: ${i}`}onDateSelected(){this.selectedDate&&(console.log(this.selectedDate),this.fetchSeatDataForDate(this.selectedDate),this.fetchseats())}fetchSeatDataForDate(e){}applyRegionFilter(e){this.filteredSeatData=this.seatData.filter(r=>e.includes(r.row))}CheckManager(e){console.log("Parent component:"+e),null!=e&&(this.isManagerSelected=!0)}onSeatSelected(e){console.log("Seat selected:",e),this.reservationService.individualReservation({userADID:this.userid,seatID:e.id,reservedDate:this.selectedDate,reservedByADID:this.userid}).subscribe({next:i=>{console.log(i)},error:i=>{console.log(i)}})}individualseatSelected(e){console.log("Individual"),console.log(e)}onBulkBooking(e){const r=[];e.forEach(i=>{r.push({userADID:i.employeeId,seatID:i.seatId,reservedDate:this.selectedDate,reservedByADID:this.userid})}),this.reservationService.bulkReservation(r).subscribe({next:i=>{console.log(i),(new Date).toISOString().split("T"),this.fetchseats()},error:i=>{console.log(i)}})}mockData(){this.seatData=[{id:"A20C1",row:"A",number:1,status:"Available"},{id:"A20C2",row:"A",number:2,status:"Booked"},{id:"A20C3",row:"A",number:3,status:"Confirmed"},{id:"A20C4",row:"A",number:4,status:"Checked-in"},{id:"A20C5",row:"A",number:5,status:"Booked"},{id:"A20C6",row:"A",number:6,status:"Checked-in"},{id:"A20C7",row:"A",number:7,status:"Confirmed"},{id:"A20C8",row:"A",number:8,status:"Available"},{id:"A20C9",row:"A",number:9,status:"Booked"},{id:"A20C10",row:"A",number:10,status:"Available"},{id:"A20C11",row:"A",number:11,status:"Checked-in"},{id:"A20C12",row:"A",number:12,status:"Available"},{id:"A20C13",row:"A",number:13,status:"Booked"},{id:"A20C14",row:"A",number:14,status:"Confirmed"},{id:"A20C15",row:"A",number:15,status:"Available"},{id:"A20C16",row:"A",number:16,status:"Booked"},{id:"A20C17",row:"A",number:17,status:"Available"},{id:"A20C18",row:"A",number:18,status:"Confirmed"},{id:"A20C19",row:"A",number:19,status:"Available"},{id:"A20C20",row:"A",number:20,status:"Booked"},{id:"A20C21",row:"A",number:21,status:"Confirmed"},{id:"A20C22",row:"A",number:22,status:"Checked-in"},{id:"A20C23",row:"A",number:23,status:"Booked"},{id:"A20C24",row:"A",number:24,status:"Confirmed"},{id:"A20C25",row:"A",number:25,status:"Available"},{id:"A20C26",row:"A",number:26,status:"Available"},{id:"A20C27",row:"A",number:27,status:"Booked"},{id:"A20C28",row:"A",number:28,status:"Confirmed"},{id:"A20C29",row:"A",number:29,status:"Booked"},{id:"A20C30",row:"A",number:30,status:"Checked-in"},{id:"B20C1",row:"B",number:1,status:"Available"},{id:"B20C2",row:"B",number:2,status:"Booked"},{id:"B20C3",row:"B",number:3,status:"Confirmed"},{id:"B20C4",row:"B",number:4,status:"Checked-in"},{id:"C20C1",row:"C",number:1,status:"Confirmed"},{id:"C20C2",row:"C",number:2,status:"Checked-in"},{id:"C20C3",row:"C",number:3,status:"Booked"},{id:"C20C4",row:"C",number:4,status:"Available"},{id:"D20C1",row:"D",number:1,status:"Available"},{id:"D20C2",row:"D",number:2,status:"Confirmed"},{id:"D20C3",row:"D",number:3,status:"Available"},{id:"D20C4",row:"D",number:4,status:"Booked"},{id:"E20C1",row:"E",number:1,status:"Booked"},{id:"E20C2",row:"E",number:2,status:"Checked-in"},{id:"E20C3",row:"E",number:3,status:"Available"},{id:"E20C4",row:"E",number:4,status:"Confirmed"},{id:"F20C1",row:"F",number:1,status:"Confirmed"},{id:"F20C2",row:"F",number:2,status:"Booked"},{id:"F20C3",row:"F",number:3,status:"Available"},{id:"F20C4",row:"F",number:4,status:"Available"}]}static{this.\u0275fac=function(r){return new(r||n)(We(gq),We(mq),We(vq))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-root"]],viewQuery:function(r,i){if(1&r&&hh(uR,5),2&r){let o;bd(o=wd())&&(i.childComponent=o.first)}},decls:11,vars:3,consts:[[1,"app-header"],["src","assets/ups-logo.png","alt","UPS Logo",1,"logo"],[1,"title"],[1,"date-picker-container"],["routerLink","/zone-viewer",1,"nav-button"],["for","booking-date"],["id","booking-date","type","date",3,"min","ngModel","ngModelChange","change"],["class","section fade-section",4,"ngIf"],[1,"section","fade-section"],[3,"seatRows","isSupervisor","teamMembers","seatSelected","individualSelected","bulkBooked",4,"ngIf"],[3,"seatRows","isSupervisor","teamMembers","seatSelected","individualSelected","bulkBooked"]],template:function(r,i){1&r&&(he(0,"header",0),br(1,"img",1),he(2,"h1",2),Pe(3,"Flexi Seat Booking"),pe()(),he(4,"div",3)(5,"button",4),Pe(6,"Zone Viewer"),pe(),he(7,"label",5),Pe(8,"Select Booking Date:"),pe(),he(9,"input",6),mt("ngModelChange",function(s){return i.selectedDate=s})("change",function(){return i.onDateSelected()}),pe()(),xn(10,_q,2,1,"div",7)),2&r&&(Ze(9),pt("min",i.today)("ngModel",i.selectedDate),Ze(1),pt("ngIf",i.selectedDate))},dependencies:[ss,Jl,qs,ya,_a,uR],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:start;min-height:100vh;padding:40px 20px;background-color:#fff;font-family:Segoe UI,sans-serif;box-sizing:border-box;overflow-x:hidden}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:30px;flex-wrap:wrap;animation:_ngcontent-%COMP%_fadeInHeader .6s ease both}.logo[_ngcontent-%COMP%]{width:60px;height:auto;object-fit:contain;filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#c09300;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.1);letter-spacing:.5px}.section[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-radius:16px;padding:24px 30px;margin-bottom:32px;width:100%;max-width:460px;box-shadow:0 8px 20px #00000014;animation:_ngcontent-%COMP%_fadeInUp .6s ease both;transition:transform .3s ease}.section[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.manager-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#222;margin-bottom:10px;display:block}.manager-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 14px;font-size:14px;border-radius:10px;border:1px solid #ccc;background-color:#fff;color:#333;box-shadow:inset 0 2px 4px #0000000d;transition:border-color .2s ease}.manager-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#c09300}.date-picker-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-width:300px;margin:20px auto;padding:20px 24px;background:rgba(255,255,255,.2);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;box-shadow:0 8px 24px #0000001a;transition:all .3s ease;font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeInUp .6s ease}.date-picker-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.date-picker-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #ccc;border-radius:10px;background-color:#fffc;color:#111827;font-size:16px;outline:none;transition:all .3s ease;box-shadow:inset 0 1px 4px #0000000d}.date-picker-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:hover{border-color:#60a5fa;box-shadow:0 0 6px #60a5fa66}.date-picker-container[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInHeader{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 600px){.app-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.logo[_ngcontent-%COMP%]{width:48px}.title[_ngcontent-%COMP%]{font-size:22px;text-align:center}.section[_ngcontent-%COMP%]{padding:20px;max-width:90%}}.nav-button[_ngcontent-%COMP%]{background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 8px 16px #0000000d;border-radius:12px;padding:16px 28px;font-size:16px;font-weight:600;color:#1f2937;cursor:pointer;transition:transform .2s ease,background-color .2s ease;min-width:180px}.nav-button[_ngcontent-%COMP%]:hover, .nav-button[_ngcontent-%COMP%]:focus{transform:translateY(-4px) scale(1.03);background-color:#e0f2fe}"]})}}return n})();var Ut=function(n){return n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",n}(Ut||{}),dR=new Map([[Ut.QR_CODE,"QR_CODE"],[Ut.AZTEC,"AZTEC"],[Ut.CODABAR,"CODABAR"],[Ut.CODE_39,"CODE_39"],[Ut.CODE_93,"CODE_93"],[Ut.CODE_128,"CODE_128"],[Ut.DATA_MATRIX,"DATA_MATRIX"],[Ut.MAXICODE,"MAXICODE"],[Ut.ITF,"ITF"],[Ut.EAN_13,"EAN_13"],[Ut.EAN_8,"EAN_8"],[Ut.PDF_417,"PDF_417"],[Ut.RSS_14,"RSS_14"],[Ut.RSS_EXPANDED,"RSS_EXPANDED"],[Ut.UPC_A,"UPC_A"],[Ut.UPC_E,"UPC_E"],[Ut.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function wq(n){return Object.values(Ut).includes(n)}var iu=function(n){return n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",n}(iu||{}),ba=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[iu.SCAN_TYPE_CAMERA,iu.SCAN_TYPE_FILE],n}(),fR=function(){function n(t,e){this.format=t,this.formatName=e}return n.prototype.toString=function(){return this.formatName},n.create=function(t){if(!dR.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new n(t,dR.get(t))},n}(),hR=function(){function n(){}return n.createFromText=function(t){return{decodedText:t,result:{text:t}}},n.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},n}(),pR=function(n){return n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",n}(pR||{}),gR=function(){function n(){}return n.createFrom=function(t){return{errorMessage:t,type:pR.UNKWOWN_ERROR}},n}(),mR=function(){function n(t){this.verbose=t}return n.prototype.log=function(t){this.verbose&&console.log(t)},n.prototype.warn=function(t){this.verbose&&console.warn(t)},n.prototype.logError=function(t,e){(this.verbose||!0===e)&&console.error(t)},n.prototype.logErrors=function(t){if(0===t.length)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},n}();function Ya(n){return typeof n>"u"||null===n}var n,Wd=function(){function n(){}return n.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},n.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),gr=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(t){return"Last Match: ".concat(t)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),vR=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),yR=function(){function n(){}return n.isMediaStreamConstraintsValid=function(t,e){if("object"!=typeof t)return e.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof t,"."),!0),!1;for(var o=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),a=0,c=Object.keys(t);a<c.length;a++){var l=c[a];if(o.has(l))return e.logError("".concat(l," is not supported videoConstaints."),!0),!1}return!0},n}(),Yr=q(496),_R=function(){function n(t,e,r){if(this.formatMap=new Map([[Ut.QR_CODE,Yr.BarcodeFormat.QR_CODE],[Ut.AZTEC,Yr.BarcodeFormat.AZTEC],[Ut.CODABAR,Yr.BarcodeFormat.CODABAR],[Ut.CODE_39,Yr.BarcodeFormat.CODE_39],[Ut.CODE_93,Yr.BarcodeFormat.CODE_93],[Ut.CODE_128,Yr.BarcodeFormat.CODE_128],[Ut.DATA_MATRIX,Yr.BarcodeFormat.DATA_MATRIX],[Ut.MAXICODE,Yr.BarcodeFormat.MAXICODE],[Ut.ITF,Yr.BarcodeFormat.ITF],[Ut.EAN_13,Yr.BarcodeFormat.EAN_13],[Ut.EAN_8,Yr.BarcodeFormat.EAN_8],[Ut.PDF_417,Yr.BarcodeFormat.PDF_417],[Ut.RSS_14,Yr.BarcodeFormat.RSS_14],[Ut.RSS_EXPANDED,Yr.BarcodeFormat.RSS_EXPANDED],[Ut.UPC_A,Yr.BarcodeFormat.UPC_A],[Ut.UPC_E,Yr.BarcodeFormat.UPC_E],[Ut.UPC_EAN_EXTENSION,Yr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Yr)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=e,this.logger=r;var i=this.createZXingFormats(t),o=new Map;o.set(Yr.DecodeHintType.POSSIBLE_FORMATS,i),o.set(Yr.DecodeHintType.TRY_HARDER,!1),this.hints=o}return n.prototype.decodeAsync=function(t){var e=this;return new Promise(function(r,i){try{r(e.decode(t))}catch(o){i(o)}})},n.prototype.decode=function(t){var e=new Yr.MultiFormatReader(this.verbose,this.hints),r=new Yr.HTMLCanvasElementLuminanceSource(t),i=new Yr.BinaryBitmap(new Yr.HybridBinarizer(r)),o=e.decode(i);return{text:o.text,format:fR.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(e,r,i){t.set(e,r)}),t},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createZXingFormats=function(t){for(var e=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?e.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return e},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),xR=function(){function n(t,e,r){if(this.formatMap=new Map([[Ut.QR_CODE,"qr_code"],[Ut.AZTEC,"aztec"],[Ut.CODABAR,"codabar"],[Ut.CODE_39,"code_39"],[Ut.CODE_93,"code_93"],[Ut.CODE_128,"code_128"],[Ut.DATA_MATRIX,"data_matrix"],[Ut.ITF,"itf"],[Ut.EAN_13,"ean_13"],[Ut.EAN_8,"ean_8"],[Ut.PDF_417,"pdf417"],[Ut.UPC_A,"upc_a"],[Ut.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=e,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},n.prototype.decodeAsync=function(t){return function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var e,r;return function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(!(e=i.sent())||0===e.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(e)).rawValue,format:fR.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(t){for(var e=null,r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=s.boundingBox.width*s.boundingBox.height;a>r&&(r=a,e=s)}if(!e)throw"No largest barcode found";return e},n.prototype.createBarcodeDetectorFormats=function(t){for(var e=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?e.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:e}},n.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},n.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(e,r,i){t.set(e,r)}),t},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),bR=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},wR=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},Sq=function(){function n(t,e,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,e&&xR.isSupported()?(this.primaryDecoder=new xR(t,r,i),this.secondaryDecoder=new _R(t,r,i)):this.primaryDecoder=new _R(t,r,i)}return n.prototype.decodeAsync=function(t){return bR(this,void 0,void 0,function(){var e;return wR(this,function(r){switch(r.label){case 0:e=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(e),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(t){return bR(this,void 0,void 0,function(){var e,r;return wR(this,function(i){switch(i.label){case 0:e=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(e),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(t){if(this.verbose){var e=performance.now()-t;this.executionResults.push(e),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,e=0,r=this.executionResults;e<r.length;e++)t+=r[e];console.log("".concat(t/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Cb=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),E1=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},A1=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},CR=function(){function n(t,e){this.name=t,this.track=e}return n.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},n.prototype.apply=function(t){var e={};return e[this.name]=t,this.track.applyConstraints({advanced:[e]})},n.prototype.value=function(){var t=this.track.getSettings();return this.name in t?t[this.name]:null},n}(),Iq=function(n){function t(e,r){return n.call(this,e,r)||this}return Cb(t,n),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var r={};return r[this.name]=e,this.track.applyConstraints({advanced:[r]})},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(CR),Dq=function(n){function t(e){return n.call(this,"zoom",e)||this}return Cb(t,n),t}(Iq),Mq=function(n){function t(e){return n.call(this,"torch",e)||this}return Cb(t,n),t}(CR),Tq=function(){function n(t){this.track=t}return n.prototype.zoomFeature=function(){return new Dq(this.track)},n.prototype.torchFeature=function(){return new Mq(this.track)},n}(),Oq=function(){function n(t,e,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=e,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return n.prototype.createVideoElement=function(t){var e=document.createElement("video");return e.style.width="".concat(t,"px"),e.style.display="block",e.muted=!0,e.setAttribute("muted","true"),e.playsInline=!0,e},n.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var e=function(){t.callbacks.onRenderSurfaceReady(t.surface.clientWidth,t.surface.clientHeight),t.surface.removeEventListener("playing",e)};this.surface.addEventListener("playing",e),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(t,e,r,i){return E1(this,void 0,void 0,function(){var o,s;return A1(this,function(a){switch(a.label){case 0:return o=new n(t,e,i),r.aspectRatio?(s={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:a.sent(),a.label=2;case 2:return o.setupSurface(),[2,o]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(t){this.failIfClosed();var e=this,r=function(){setTimeout(t,200),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(t){return E1(this,void 0,void 0,function(){return A1(this,function(e){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(e,r){var o=t.mediaStream.getVideoTracks().length,s=0;t.mediaStream.getVideoTracks().forEach(function(a){t.mediaStream.removeTrack(a),a.stop(),++s>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),e())})})},n.prototype.getCapabilities=function(){return new Tq(this.getFirstTrackOrFail())},n}(),Rq=function(){function n(t){this.mediaStream=t}return n.prototype.render=function(t,e,r){return E1(this,void 0,void 0,function(){return A1(this,function(i){return[2,Oq.create(t,this.mediaStream,e,r)]})})},n.create=function(t){return E1(this,void 0,void 0,function(){return A1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:t})];case 1:return[2,new n(i.sent())]}})})},n}(),ER=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},AR=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},Nq=function(){function n(){}return n.failIfNotSupported=function(){return ER(this,void 0,void 0,function(){return AR(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(t){return ER(this,void 0,void 0,function(){return AR(this,function(e){return[2,Rq.create(t)]})})},n}(),Fq=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var t=Wd.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(t=Wd.insecureContextCameraQueryError()),Promise.reject(t)},n.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var t=location.host.split(":")[0];return"127.0.0.1"===t||"localhost"===t},n.getCamerasFromMediaDevices=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var t,e,r,i,o,s,a;return function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}}(this,function(c){switch(c.label){case 0:return t=function(l){for(var g=0,y=l.getVideoTracks();g<y.length;g++){var _=y[g];_.enabled=!1,_.stop(),l.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return e=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=c.sent(),i=[],o=0,s=r;o<s.length;o++)"videoinput"===(a=s[o]).kind&&i.push({id:a.deviceId,label:a.label});return t(e),[2,i]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,e){MediaStreamTrack.getSources(function(o){for(var s=[],a=0,c=o;a<c.length;a++){var l=c[a];"video"===l.kind&&s.push({id:l.id,label:l.label})}t(s)})})},n}(),gi=function(n){return n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED",n}(gi||{}),Lq=function(){function n(){this.state=gi.NOT_STARTED,this.onGoingTransactionNewState=gi.UNKNOWN}return n.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},n.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===gi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gi.UNKNOWN,this.directTransition(t)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===gi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gi.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(t){switch(this.state){case gi.UNKNOWN:throw"Transition from unknown is not allowed";case gi.NOT_STARTED:this.failIfNewStateIs(t,[gi.PAUSED])}},n.prototype.failIfNewStateIs=function(t,e){for(var r=0,i=e;r<i.length;r++)if(t===i[r])throw"Cannot transition from ".concat(this.state," to ").concat(t)},n}(),Bq=function(){function n(t){this.stateManager=t}return n.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},n.prototype.directTransition=function(t){this.stateManager.directTransition(t)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===gi.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==gi.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gi.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===gi.PAUSED},n}(),Vq=function(){function n(){}return n.create=function(){return new Bq(new Lq)},n}(),Uq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ds=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Uq(t,n),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ba),jq=function(){function n(t,e){this.logger=e,this.fps=Ds.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=!0===t.disableFlip,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ds.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?yR.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Ya(this.qrbox)},n.create=function(t,e){return new n(t,e)},n}(),Eb=function(){function n(t,e){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");var i;this.elementId=t,this.verbose=!1,"boolean"==typeof e?this.verbose=!0===e:e&&(this.verbose=!0===(i=e).verbose),this.logger=new mR(this.verbose),this.qrcode=new Sq(this.getSupportedFormats(e),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=Vq.create()}return n.prototype.start=function(t,e,r,i){var s,o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";s=i||(this.verbose?this.logger.log:function(){});var a=jq.create(e,this.logger);this.clearElement();var c=!1;a.videoConstraints&&(a.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=c,h=document.getElementById(this.elementId);h.style.position="relative",this.shouldScan=!0,this.element=h;var y=this,_=this.stateManagerProxy.startTransition(gi.SCANNING);return new Promise(function(w,C){var D=l?a.videoConstraints:y.createVideoConstraints(t);if(!D)return _.cancel(),void C("videoConstraints should be defined");var P={};(!l||a.aspectRatio)&&(P.aspectRatio=a.aspectRatio);var O={onRenderSurfaceReady:function(G,Z){y.setupUi(G,Z,a),y.isScanning=!0,y.foreverScan(a,r,s)}};Nq.failIfNotSupported().then(function(G){G.create(D).then(function(Z){return Z.render(o.element,P,O).then(function(oe){y.renderedCamera=oe,_.execute(),w(null)}).catch(function(oe){_.cancel(),C(oe)})}).catch(function(Z){_.cancel(),C(Wd.errorGettingUserMedia(Z))})}).catch(function(G){_.cancel(),C(Wd.cameraStreamingNotSupported())})})},n.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gi.PAUSED),this.showPausedState(),(Ya(t)||!0!==t)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,e=function(){t.stateManagerProxy.directTransition(gi.SCANNING),t.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){e()}):e()},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var e=this.stateManagerProxy.startTransition(gi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(t.element){var o=document.getElementById(Ds.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),e.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(t,e){return this.scanFileV2(t,e).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(t,e){var r=this;if(!(t&&t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ya(e)&&(e=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var s=new Image;s.onload=function(){var a=s.width,c=s.height,l=document.getElementById(r.elementId),h=l.clientWidth?l.clientWidth:Ds.DEFAULT_WIDTH,g=Math.max(l.clientHeight?l.clientHeight:c,Ds.FILE_SCAN_MIN_HEIGHT),y=r.computeCanvasDrawConfig(a,c,h,g);if(e){var _=r.createCanvasElement(h,g,"qr-canvas-visible");_.style.display="inline-block",l.appendChild(_);var w=_.getContext("2d");if(!w)throw"Unable to get 2d context from canvas";w.canvas.width=h,w.canvas.height=g,w.drawImage(s,0,0,a,c,y.x,y.y,y.width,y.height)}var C=Ds.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(s.width,y.width),P=Math.max(s.height,y.height),O=D+2*C,G=P+2*C,Z=r.createCanvasElement(O,G);l.appendChild(Z);var oe=Z.getContext("2d");if(!oe)throw"Unable to get 2d context from canvas";oe.canvas.width=O,oe.canvas.height=G,oe.drawImage(s,0,0,a,c,C,C,D,P);try{r.qrcode.decodeRobustlyAsync(Z).then(function(fe){i(hR.createFromQrcodeResult(fe))}).catch(o)}catch(fe){o("QR code parse error, error = ".concat(fe))}},s.onerror=o,s.onabort=o,s.onstalled=o,s.onsuspend=o,s.src=URL.createObjectURL(t)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return Fq.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(t){if(!t)throw"videoConstaints is required argument.";if(!yR.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},n.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(t){if(!t||"boolean"==typeof t||!t.formatsToSupport)return[Ut.QR_CODE,Ut.AZTEC,Ut.CODABAR,Ut.CODE_39,Ut.CODE_93,Ut.CODE_128,Ut.DATA_MATRIX,Ut.MAXICODE,Ut.ITF,Ut.EAN_13,Ut.EAN_8,Ut.PDF_417,Ut.RSS_14,Ut.RSS_EXPANDED,Ut.UPC_A,Ut.UPC_E,Ut.UPC_EAN_EXTENSION];if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===t.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=t.formatsToSupport;i<o.length;i++){var s=o[i];wq(s)?r.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ya(t))return!0;if(!Ya(t.useBarCodeDetectorIfSupported))return!1!==t.useBarCodeDetectorIfSupported;if(Ya(t.experimentalFeatures))return!0;var e=t.experimentalFeatures;return!!Ya(e.useBarCodeDetectorIfSupported)||!1!==e.useBarCodeDetectorIfSupported},n.prototype.validateQrboxSize=function(t,e,r){var o=r.qrbox;this.validateQrboxConfig(o);var l,s=this.toQrdimensions(t,e,o),a=function(l){if(l<Ds.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ds.MIN_QR_BOX_SIZE,"px.")};a(s.width),a(s.height),s.width=((l=s.width)>t&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),l=t),l)},n.prototype.validateQrboxConfig=function(t){if("number"!=typeof t&&"function"!=typeof t&&(void 0===t.width||void 0===t.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(t,e,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(t,e)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},n.prototype.setupUi=function(t,e,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,e,r);var i=Ya(r.qrbox)?{width:t,height:e}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,e,i);o.height>e&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=r.isShadedBoxEnabled()&&o.height<=e,a={x:0,y:0,width:t,height:e},c=s?this.getShadedRegionBounds(t,e,o):a,l=this.createCanvasElement(c.width,c.height),g=l.getContext("2d",{willReadFrequently:!0});g.canvas.width=c.width,g.canvas.height=c.height,this.element.append(l),s&&this.possiblyInsertShadingElement(this.element,t,e,o),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=g,this.canvasElement=l},n.prototype.createScannerPausedUiElement=function(t){var e=document.createElement("div");e.innerText=Wd.scannerPaused(),e.style.display="none",e.style.position="absolute",e.style.top="0px",e.style.zIndex="1",e.style.background="rgba(9, 9, 9, 0.46)",e.style.color="#FFECEC",e.style.textAlign="center",e.style.width="100%",t.appendChild(e),this.scannerPausedUiElement=e},n.prototype.scanContext=function(t,e){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,hR.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=Wd.codeParseError(i);return e(o,gR.createFrom(o)),!1})},n.prototype.foreverScan=function(t,e,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),s=o.videoWidth/o.clientWidth,a=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(o,this.qrRegion.x*s,this.qrRegion.y*a,this.qrRegion.width*s,this.qrRegion.height*a,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,e,r)},i.getTimeoutFps(t.fps))};this.scanContext(e,r).then(function(_){_||!0===t.disableFlip?y():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(e,r).finally(function(){y()}))}).catch(function(_){i.logger.logError("Error happend while scanning context",_),y()})}},n.prototype.createVideoConstraints=function(t){if("string"==typeof t)return{deviceId:{exact:t}};if("object"==typeof t){var e="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",s=function(w){if(w in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(w,"'")},a=Object.keys(t);if(1!==a.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(a.length," keys");var c=Object.keys(t)[0];if(c!==e&&c!==r)throw"Only '".concat(e,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(c!==e){var g=t.deviceId;if("string"==typeof g)return{deviceId:g};if("object"==typeof g){if(o in g)return{deviceId:{exact:g["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof g)}var l=t.facingMode;if("string"==typeof l){if(s(l))return{facingMode:l}}else{if("object"!=typeof l)throw"Invalid type of 'facingMode' = ".concat(typeof l);if(!(o in l))throw"'facingMode' should be string or object with"+" ".concat(o," as key.");if(s(l["".concat(o)]))return{facingMode:{exact:l["".concat(o)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof t)},n.prototype.computeCanvasDrawConfig=function(t,e,r,i){if(t<=r&&e<=i)return{x:(r-t)/2,y:(i-e)/2,width:t,height:e};var a=t,c=e;return t>r&&(e*=r/t,t=r),e>i&&(t*=i/e,e=i),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(c)+" to ".concat(t,"X").concat(e,".")),this.computeCanvasDrawConfig(t,e,r,i)},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},n.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(e){e.style.backgroundColor=t?Ds.BORDER_SHADER_MATCH_COLOR:Ds.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(t,e,r){var i=t,o=e,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(o,"px"),s.style.display="none",s.id=Ya(r)?"qr-canvas":r,s},n.prototype.getShadedRegionBounds=function(t,e,r){if(r.width>t||r.height>e)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(e-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(t,e,r,i){if(!(e-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var s=(e-i.width)/2,a=(r-i.height)/2;if(o.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Ds.SHADED_REGION_ELEMENT_ID),e-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(o,40,5,-5,null,0,!0),this.insertShaderBorders(o,40,5,-5,null,0,!1),this.insertShaderBorders(o,40,5,null,-5,0,!0),this.insertShaderBorders(o,40,5,null,-5,0,!1),this.insertShaderBorders(o,5,45,-5,null,-5,!0),this.insertShaderBorders(o,5,45,null,-5,-5,!0),this.insertShaderBorders(o,5,45,-5,null,-5,!1),this.insertShaderBorders(o,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}t.append(o)}},n.prototype.insertShaderBorders=function(t,e,r,i,o,s,a){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=Ds.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(e,"px"),c.style.height="".concat(r,"px"),null!==i&&(c.style.top="".concat(i,"px")),null!==o&&(c.style.bottom="".concat(o,"px")),a?c.style.left="".concat(s,"px"):c.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(t){return 1e3/t},n}(),Ab="data:image/svg+xml;base64,",Hq=Ab+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",zq=Ab+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",SR=Ab+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",IR=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),Gq=function(){function n(){this.data=IR.createDefault();var t=localStorage.getItem(n.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},n.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=IR.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),Xq=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=vR.poweredBy();var e=document.createElement("a");e.innerText="ScanApp",e.href="https://scanapp.org",e.target="new",e.style.color="white",this.infoDiv.appendChild(e);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=vR.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),$q=function(){function n(t,e){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=e,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(t){var e=this;this.infoIcon.alt="Info icon",this.infoIcon.src=SR,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return e.onHoverIn()},this.infoIcon.onmouseout=function(r){return e.onHoverOut()},this.infoIcon.onclick=function(r){return e.onClick()},t.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=SR,this.infoIcon.style.opacity="0.6")},n}(),Yq=function(){function n(){var t=this;this.infoDiv=new Xq,this.infoIcon=new $q(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return n.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},n}(),DR=function(){function n(){}return n.hasPermissions=function(){return function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function(){var t,e,r,i;return function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}}(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),e=0,r=t;e<r.length;e++)if("videoinput"===(i=r[e]).kind&&i.label)return[2,!0];return[2,!1]}})})},n}(),ol=function(){function n(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var t=0,e=this.supportedScanTypes;t<e.length;t++)if(n.isCameraScanType(e[t]))return!0;return!1},n.isCameraScanType=function(t){return t===iu.SCAN_TYPE_CAMERA},n.isFileScanType=function(t){return t===iu.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(t){if(!t||0===t.length)return ba.DEFAULT_SUPPORTED_SCAN_TYPE;var e=ba.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>e)throw"Max ".concat(e," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!ba.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},n}(),Ms=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),xc=function(){function n(){}return n.createElement=function(t,e){var r=document.createElement(t);return r.id=e,r.classList.add(Ms.ALL_ELEMENT_CLASS),"button"===t&&r.setAttribute("type","button"),r},n}(),MR=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},TR=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(e=0)),e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},OR=function(){function n(t,e,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=e,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return MR(this,void 0,void 0,function(){var t,e;return TR(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return e=r.sent(),this.propagateFailure(t,e),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(t,e){t===e?(this.buttonController.setText(e?gr.torchOffButton():gr.torchOnButton()),this.isTorchOn=e):this.propagateFailure(e),this.buttonController.enable()},n.prototype.propagateFailure=function(t,e){var r=t?gr.torchOnFailedMessage():gr.torchOffFailedMessage();e&&(r+="; Error = "+e),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),Kq=function(){function n(t,e){this.onTorchActionFailureCallback=e,this.torchButton=xc.createElement("button",Ms.TORCH_BUTTON_ID),this.torchController=new OR(t,this,e)}return n.prototype.render=function(t,e){var r=this;this.torchButton.innerText=gr.torchOnButton(),this.torchButton.style.display=e.display,this.torchButton.style.marginLeft=e.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return MR(r,void 0,void 0,function(){return TR(this,function(s){switch(s.label){case 0:return[4,i.torchController.flipState()];case 1:return s.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ms.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ms.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ms.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ms.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(t){this.torchController=new OR(t,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(t){this.torchButton.innerText=t},n.prototype.reset=function(){this.torchButton.innerText=gr.torchOnButton(),this.torchController.reset()},n.create=function(t,e,r,i){var o=new n(e,i);return o.render(t,r),o},n}(),Qq=function(){function n(t,e,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=e?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=xc.createElement("button",Ms.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(a){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=xc.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(a){if(null!=a&&null!=a.target){var c=a.target;if(!c.files||0!==c.files.length){var h=c.files[0];o.setImageNameToButton(h.name),r(h)}}});var s=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(s),this.fileBasedScanRegion.addEventListener("dragenter",function(a){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(a){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(a){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),a.stopPropagation(),a.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(a){a.stopPropagation(),a.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var c=a.dataTransfer;if(c){var l=c.files;if(!l||0===l.length)return;for(var h=!1,g=0;g<l.length;++g){var y=l.item(g);if(y&&y.type.match(/image.*/)){h=!0,o.setImageNameToButton(y.name),r(y),s.innerText=gr.dragAndDropMessage();break}}h||(s.innerText=gr.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=gr.dragAndDropMessage(),t.style.fontWeight="400",t},n.prototype.setImageNameToButton=function(t){if(t.length>20){var r=t.substring(0,8),i=t.length,o=t.substring(i-8,i);t="".concat(r,"....").concat(o)}var s=gr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=s},n.prototype.setInitialValueToButton=function(){var t=gr.fileSelectionChooseImage()+" - "+gr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(t,e,r){return new n(t,e,r)},n}(),Jq=function(){function n(t){this.selectElement=xc.createElement("select",Ms.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return n.prototype.render=function(t){var e=document.createElement("span");e.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)e.style.display="none";else{var i=gr.selectCamera();e.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,s=0,a=this.cameras;s<a.length;s++){var c=a[s],l=c.id,h=null==c.label?l:c.label;(!h||""===h)&&(h=[gr.anonymousCameraPrefix(),o++].join(" "));var g=document.createElement("option");g.value=l,g.innerText=h,this.options.push(g),this.selectElement.appendChild(g)}e.appendChild(this.selectElement),t.appendChild(e)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return!0===this.selectElement.disabled},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(t){for(var e=0,r=this.options;e<r.length;e++)if(r[e].value===t)return!0;return!1},n.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},n.prototype.hasSingleItem=function(){return 1===this.cameras.length},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(t,e){var r=new n(e);return r.render(t),r},n}(),eK=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xc.createElement("input",Ms.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(t,e){this.zoomElementContainer.style.display=e?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=gr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var t=gr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(t,e,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=e.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(t,e){var r=new n;return r.render(t,e),r},n}(),Ks=function(n){return n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",n}(Ks||{});function rK(n,t){if(1&n&&(he(0,"p"),Pe(1),pe()),2&n){const e=vn();Ze(1),io("Scanned Result: ",e.scannedResult,"")}}!function(){function n(t,e,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(e),this.verbose=!0===r,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ol(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new mR(this.verbose),this.persistedDataManager=new Gq,!0!==e.rememberLastUsedCamera&&this.persistedDataManager.reset()}n.prototype.render=function(t,e){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,s){if(t)t(o,s);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(gr.lastMatch(o),Ks.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,s){e&&e(o,s)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Eb(this.getScanRegionId(),function nK(n,t){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:t}}(this.config,this.verbose))},n.prototype.pause=function(t){(Ya(t)||!0!==t)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var t=this,e=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){t.html5Qrcode?t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){t.html5Qrcode?(t.html5Qrcode.clear(),e(),r()):r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(t.html5Qrcode.clear(),e(),r()):r()}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ba.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ba.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ba.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ba.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ba.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ba.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ba.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var e=document.createElement("div"),r=this.getScanRegionId();e.id=r,e.style.width="100%",e.style.minHeight="100px",e.style.textAlign="center",t.appendChild(e),ol.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},n.prototype.resetBasicLayout=function(t){t.style.border="none"},n.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(t){var e=document.createElement("div");e.style.textAlign="left",e.style.margin="0px",t.appendChild(e),(new Yq).renderInto(e);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",e.appendChild(i)},n.prototype.createSection=function(t){var e=document.createElement("div");e.id=this.getDashboardSectionId(),e.style.width="100%",e.style.padding="10px 0px 10px 0px",e.style.textAlign="left",t.appendChild(e)},n.prototype.createCameraListUi=function(t,e,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(gr.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(t,e)};Eb.getCameras().then(function(s){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),s&&s.length>0?(t.removeChild(e),i.renderCameraSelection(s)):(i.setHeaderMessage(gr.noCameraFound(),Ks.STATUS_WARNING),o())}).catch(function(s){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(s,Ks.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(t,e){var r=this,i=xc.createElement("button",this.getCameraPermissionButtonId());i.innerText=gr.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,e,i)}),e.appendChild(i)},n.prototype.createPermissionsUi=function(t,e){var r=this;ol.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?DR.hasPermissions().then(function(i){i?r.createCameraListUi(t,e):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,e))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,e)}):this.createPermissionButton(t,e)},n.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),e=document.createElement("div");t.appendChild(e);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ol.isCameraScanType(this.currentScanType)?"block":"none",e.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(e)},n.prototype.renderFileScanUi=function(t){var e=ol.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=Qq.create(t,e,function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";ol.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(gr.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(s){r.resetHeaderMessage(),r.qrCodeSuccessCallback(s.decodedText,s)}).catch(function(s){r.setHeaderMessage(s,Ks.STATUS_WARNING),r.qrCodeErrorCallback(s,gR.createFrom(s))}))})},n.prototype.renderCameraSelection=function(t){var e=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=eK.create(i,!1),a=Jq.create(i,t),c=document.createElement("span"),l=xc.createElement("button",Ms.CAMERA_START_BUTTON_ID);l.innerText=gr.scanButtonStartScanningText(),c.appendChild(l);var g,h=xc.createElement("button",Ms.CAMERA_STOP_BUTTON_ID);h.innerText=gr.scanButtonStopScanningText(),h.style.display="none",h.disabled=!0,c.appendChild(h),i.appendChild(c);var _=function(C){C||(l.style.display="none"),l.innerText=gr.scanButtonStartScanningText(),l.style.opacity="1",l.disabled=!1,C&&(l.style.display="inline-block")};if(l.addEventListener("click",function(C){l.innerText=gr.scanButtonScanningStarting(),a.disable(),l.disabled=!0,l.style.opacity="0.5",e.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var D=a.getValue();r.persistedDataManager.setLastUsedCameraId(D),r.html5Qrcode.start(D,function tK(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(P){h.disabled=!1,h.style.display="inline-block",_(!1);var O=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===e.config.showTorchButtonIfSupported&&function(C){C.torchFeature().isSupported()?(g?g.updateTorchCapability(C.torchFeature()):g=Kq.create(c,C.torchFeature(),{display:"none",marginLeft:"5px"},function(D){r.setHeaderMessage(D,Ks.STATUS_WARNING)}),g.show()):g&&g.hide()}(O),!0===e.config.showZoomSliderIfSupported&&function(C){var D=C.zoomFeature();if(D.isSupported()){o.setOnCameraZoomValueChangeCallback(function(O){D.apply(O)});var P=1;e.config.defaultZoomValueIfSupported&&(P=e.config.defaultZoomValueIfSupported),P=function Cq(n,t,e){return n>e?e:n<t?t:n}(P,D.min(),D.max()),o.setValues(D.min(),D.max(),P,D.step()),o.show()}}(O)}).catch(function(P){r.showHideScanTypeSwapLink(!0),a.enable(),_(!0),r.setHeaderMessage(P,Ks.STATUS_WARNING)})}),a.hasSingleItem()&&l.click(),h.addEventListener("click",function(C){if(!r.html5Qrcode)throw"html5Qrcode not defined";h.disabled=!0,r.html5Qrcode.stop().then(function(D){e.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),a.enable(),l.disabled=!1,h.style.display="none",l.style.display="inline-block",g&&(g.reset(),g.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(D){h.disabled=!1,r.setHeaderMessage(D,Ks.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var w=r.persistedDataManager.getLastUsedCameraId();a.hasValue(w)?(a.setValue(w),l.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var t=this,e=gr.textIfCameraScanSelected(),r=gr.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var s=xc.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=ol.isCameraScanType(this.currentScanType)?e:r,s.addEventListener("click",function(){t.sectionSwapAllowed?(t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ol.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),s.innerText=r,t.currentScanType=iu.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),s.innerText=e,t.currentScanType=iu.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0):t.verbose&&t.logger.logError("Section swap called when not allowed")}),o.appendChild(s),i.appendChild(o)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,e=this;this.persistedDataManager.hasCameraPermissions()&&DR.hasPermissions().then(function(r){if(r){var i=document.getElementById(e.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else e.persistedDataManager.setHasPermission(!1)}).catch(function(r){e.persistedDataManager.setHasPermission(!1)})},n.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},n.prototype.setHeaderMessage=function(t,e){e||(e=Ks.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",e){case Ks.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Ks.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},n.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==t&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return e.innerHTML="<br>",void e.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){e.innerHTML="<br>",e.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Hq,this.cameraScanImage.alt=gr.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var t=this,e=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return e.innerHTML="<br>",void e.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){e.innerHTML="<br>",e.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=zq,this.fileScanImage.alt=gr.fileScanAltText()},n.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return Ms.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return Ms.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let iK=(()=>{class n{constructor(){this.scannedResult=null}ngAfterViewInit(){this.html5QrCode=new Eb("reader"),this.html5QrCode.start({facingMode:"environment"},{fps:5,qrbox:250,supportedScanTypes:[Ut.CODE_128]},r=>{this.scannedResult=r,console.log("Scanned:",r),this.html5QrCode.stop()},r=>{}).catch(r=>console.error("Start failed:",r))}ngOnDestroy(){this.html5QrCode&&this.html5QrCode.stop().catch(()=>{})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ui({type:n,selectors:[["app-checkin-client"]],decls:2,vars:1,consts:[["id","reader",2,"width","500px"],[4,"ngIf"]],template:function(r,i){1&r&&(br(0,"div",0),xn(1,rK,2,1,"p",1)),2&r&&(Ze(1),pt("ngIf",i.scannedResult))},dependencies:[ss],styles:[".camera[_ngcontent-%COMP%]{width:200px;height:200px}"]})}}return n})();function oK(n,t){if(1&n){const e=no();he(0,"div",9)(1,"strong"),Pe(2),pe(),Pe(3," \u2013 "),he(4,"input",4),mt("ngModelChange",function(i){return Rn(On(e).$implicit.name=i)}),pe(),he(5,"input",5),mt("ngModelChange",function(i){return Rn(On(e).$implicit.description=i)}),pe(),he(6,"button",2),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).saveRole(o))}),Pe(7,"Save"),pe(),he(8,"button",2),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).deleteRole(o))}),Pe(9,"Delete"),pe()()}if(2&n){const e=t.$implicit;Ze(2),ro(e.id),Ze(2),pt("ngModel",e.name),Ze(1),pt("ngModel",e.description)}}function sK(n,t){if(1&n&&(he(0,"div",0)(1,"h3"),Pe(2,"Search Result"),pe(),xn(3,oK,10,3,"div",8),pe()),2&n){const e=vn();Ze(3),pt("ngForOf",e.filteredRoles)}}function aK(n,t){if(1&n&&(he(0,"div",12)(1,"strong"),Pe(2,"ID:"),pe(),Pe(3),br(4,"br"),he(5,"strong"),Pe(6,"Name:"),pe(),Pe(7),br(8,"br"),he(9,"strong"),Pe(10,"Description:"),pe(),Pe(11),he(12,"strong"),Pe(13,"Status:"),pe(),Pe(14),pe()),2&n){const e=t.$implicit;Ze(3),io(" ",e.id,""),Ze(4),io(" ",e.name,""),Ze(4),io(" ",e.description," "),Ze(3),io(" ",e.isActive," ")}}function cK(n,t){if(1&n&&(he(0,"div",0)(1,"h3"),Pe(2,"All Roles"),pe(),he(3,"div",10),xn(4,aK,15,4,"div",11),pe()()),2&n){const e=vn();Ze(4),pt("ngForOf",e.roles)}}let lK=(()=>{class n{constructor(e,r){this.roleService=e,this.notify=r,this.enableViewAllRole=!1,this.searchId="",this.newRole={id:0,name:"",description:"",isActive:!0},this.roles=[],this.filteredRoles=[]}ngOnInit(){this.GetAllRoles(),this.enableViewAllRole=!1,this.viewRole="Show all Roles"}toggleView(){this.enableViewAllRole=!this.enableViewAllRole,this.enableViewAllRole?this.viewRole="Hide All Roles":(this.GetAllRoles(),this.viewRole="Show All Roles")}GetAllRoles(){this.roleService.getRoleAllData().subscribe(e=>{this.roles=e,console.log(this.roles)})}onSearch(){const e=this.searchId.toLowerCase();this.roleService.getRoleByID(e).subscribe({next:r=>{this.filteredRoles=r?[r]:[]},error:r=>{console.error("Error fetching role by ID:",r),this.filteredRoles=[]}})}saveRole(e){this.roleService.updateRole(e.id,e).subscribe({next:r=>{this.notify.showSuccess("Role Updated"),console.log("Role Updated")},error:r=>{this.notify.showError(r),console.log(r)}})}deleteRole(e){this.roleService.deleteRole(e.id).subscribe({next:r=>{this.notify.showSuccess("Role Deleted"),console.log(r)},error:r=>{this.notify.showError(r),console.log(r)}}),this.roles=this.roles.filter(r=>r.id!==e.id),this.filteredRoles=this.filteredRoles.filter(r=>r.id!==e.id)}addRole(){0==this.newRole.id&&this.newRole.name&&(console.log({...this.newRole}),this.roleService.postRoleData({...this.newRole}).subscribe({next:e=>{this.notify.showSuccess("Role Added"),this.newRole={id:0,name:"",description:"",isActive:!0},this.GetAllRoles()},error:e=>{this.notify.showError(e),console.log(e)}}),this.newRole={id:0,name:"",description:"",isActive:!0})}static{this.\u0275fac=function(r){return new(r||n)(We(lR),We(op))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-role-admin"]],decls:22,vars:9,consts:[[1,"section"],["placeholder","Search by Role ID or Name",3,"ngModel","ngModelChange"],[3,"click"],["class","section",4,"ngIf"],["placeholder","Role Name",3,"ngModel","ngModelChange"],["placeholder","Description",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"ngValue"],["class","role-entry",4,"ngFor","ngForOf"],[1,"role-entry"],[1,"role-list"],["class","role-card",4,"ngFor","ngForOf"],[1,"role-card"]],template:function(r,i){1&r&&(he(0,"h2"),Pe(1,"Role Management"),pe(),he(2,"div",0)(3,"input",1),mt("ngModelChange",function(s){return i.searchId=s}),pe(),he(4,"button",2),mt("click",function(){return i.onSearch()}),Pe(5,"Search"),pe(),he(6,"button",2),mt("click",function(){return i.toggleView()}),Pe(7),pe()(),xn(8,sK,4,1,"div",3),xn(9,cK,5,1,"div",3),he(10,"div",0)(11,"h3"),Pe(12,"Add New Role"),pe(),he(13,"input",4),mt("ngModelChange",function(s){return i.newRole.name=s}),pe(),he(14,"input",5),mt("ngModelChange",function(s){return i.newRole.description=s}),pe(),he(15,"select",6),mt("ngModelChange",function(s){return i.newRole.isActive=s}),he(16,"option",7),Pe(17,"Active"),pe(),he(18,"option",7),Pe(19,"Inactive"),pe()(),he(20,"button",2),mt("click",function(){return i.addRole()}),Pe(21,"Add"),pe()()),2&r&&(Ze(3),pt("ngModel",i.searchId),Ze(4),ro(i.viewRole),Ze(1),pt("ngIf",i.filteredRoles.length),Ze(1),pt("ngIf",i.enableViewAllRole),Ze(4),pt("ngModel",i.newRole.name),Ze(1),pt("ngModel",i.newRole.description),Ze(1),pt("ngModel",i.newRole.isActive),Ze(1),pt("ngValue",!0),Ze(2),pt("ngValue",!1))},dependencies:[Wl,ss,Mh,Th,qs,$l,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:700px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:10px 14px;margin:6px 10px 16px 0;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d;min-width:160px}button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out;margin-right:3px}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#5e3a0d}button[_ngcontent-%COMP%]:last-child{background-color:#5e3a0d;box-shadow:0 4px 10px #ef444433}.role-entry[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px;background:rgba(255,255,255,.6);padding:14px;border-radius:12px;box-shadow:0 6px 14px #0000000d}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.role-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin-top:16px}.role-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:16px 20px;width:220px;box-shadow:0 6px 18px #00000014;font-size:14px;color:#1f2937;transition:transform .2s ease}.role-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);background-color:#ffffffb3}select[_ngcontent-%COMP%]{appearance:none;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);font-size:15px;color:#1f2937;font-weight:500;box-shadow:0 6px 14px #00000014;transition:all .3s ease;cursor:pointer;width:180px}select[_ngcontent-%COMP%]:hover{background-color:#ffffffb3;box-shadow:0 0 10px #60a5fa4d;border-color:#60a5fa}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}select[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>\");background-repeat:no-repeat;background-position:right 10px center;background-size:16px;padding-right:30px}"]})}}return n})();function uK(n,t){if(1&n){const e=no();he(0,"div",11)(1,"div",12)(2,"span")(3,"strong"),Pe(4),pe()(),he(5,"input",13),mt("ngModelChange",function(i){return Rn(On(e).$implicit.name=i)}),pe(),he(6,"input",6),mt("ngModelChange",function(i){return Rn(On(e).$implicit.description=i)}),pe(),he(7,"select",7),mt("ngModelChange",function(i){return Rn(On(e).$implicit.enabled=i)}),he(8,"option",14),Pe(9,"Active"),pe(),he(10,"option",14),Pe(11,"Inactive"),pe()(),he(12,"button",15),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).saveZone(o))}),Pe(13,"save"),pe(),he(14,"button",16),mt("click",function(){const o=On(e).$implicit;return Rn(vn(2).deleteZone(o))}),Pe(15,"\u{1f5d1}"),pe()()()}if(2&n){const e=t.$implicit;Ze(4),io("",e.id,"-"),Ze(1),pt("ngModel",e.name),Ze(1),pt("ngModel",e.description),Ze(1),pt("ngModel",e.enabled),Ze(1),pt("value",!0),Ze(2),pt("value",!1)}}function dK(n,t){if(1&n&&(he(0,"div",0)(1,"h3"),Pe(2,"Search Result"),pe(),xn(3,uK,16,6,"div",10),pe()),2&n){const e=vn();Ze(3),pt("ngForOf",e.filteredZones)}}function fK(n,t){if(1&n&&(he(0,"div",19)(1,"strong"),Pe(2,"ID:"),pe(),Pe(3),br(4,"br"),he(5,"strong"),Pe(6,"Name:"),pe(),Pe(7),br(8,"br"),he(9,"strong"),Pe(10,"Description:"),pe(),Pe(11),pe()),2&n){const e=t.$implicit;Ze(3),io(" ",e.id,""),Ze(4),io(" ",e.name,""),Ze(4),io(" ",e.description," ")}}function hK(n,t){if(1&n&&(he(0,"div",0)(1,"h3"),Pe(2,"All Zones"),pe(),he(3,"div",17),xn(4,fK,12,3,"div",18),pe()()),2&n){const e=vn();Ze(4),pt("ngForOf",e.zones)}}let pK=(()=>{class n{constructor(){this.searchId="",this.newZone={id:"",name:"",description:"",enabled:!1},this.enableViewAllZone=!1,this.zones=[{id:"Z01",name:"Zone A",description:" Campus 30 Near Swing area",enabled:!0},{id:"Z02",name:"Zone B",description:"Campus 30 Near reception",enabled:!0}],this.filteredZones=[]}ngOnInit(){this.enableViewAllZone=!1,this.viewZone="Show all zones"}toggleView(){this.enableViewAllZone=!this.enableViewAllZone,this.viewZone=this.enableViewAllZone?"Hide All zones":"Show All Zones"}onSearch(){const e=this.searchId.toLowerCase();this.filteredZones=this.zones.filter(r=>r.id.toLowerCase().includes(e)||r.name.toLowerCase().includes(e))}saveZone(e){const r=this.zones.findIndex(i=>i.id===e.id);-1!==r&&(this.zones[r]={...e})}deleteZone(e){this.zones=this.zones.filter(r=>r.id!==e.id),this.filteredZones=this.filteredZones.filter(r=>r.id!==e.id)}addZone(){this.newZone.id&&this.newZone.name&&(this.zones.push({...this.newZone}),this.newZone={id:"",name:"",description:"",enabled:!1}),console.log(this.zones)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ui({type:n,selectors:[["app-zone-admin"]],decls:23,vars:8,consts:[[1,"section"],["placeholder","Search by Zone ID or Name",3,"ngModel","ngModelChange"],[3,"click"],["class","section",4,"ngIf"],["placeholder","Zone ID (e.g. Z01)",3,"ngModel","ngModelChange"],["placeholder","Zone Name (e.g. Zone A)",3,"ngModel","ngModelChange"],["placeholder","Description",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","true"],["value","false"],["class","zone-entry",4,"ngFor","ngForOf"],[1,"zone-entry"],[1,"zone-fields"],["placeholder","Zone Name",3,"ngModel","ngModelChange"],[3,"value"],[1,"action-button","save",3,"click"],[1,"action-button","delete",3,"click"],[1,"zone-list"],["class","zone-card",4,"ngFor","ngForOf"],[1,"zone-card"]],template:function(r,i){1&r&&(he(0,"h2"),Pe(1,"Zone Management"),pe(),he(2,"div",0)(3,"input",1),mt("ngModelChange",function(s){return i.searchId=s}),pe(),he(4,"button",2),mt("click",function(){return i.onSearch()}),Pe(5,"Search"),pe(),he(6,"button",2),mt("click",function(){return i.toggleView()}),Pe(7),pe()(),xn(8,dK,4,1,"div",3),xn(9,hK,5,1,"div",3),he(10,"div",0)(11,"h3"),Pe(12,"Add New Zone"),pe(),he(13,"input",4),mt("ngModelChange",function(s){return i.newZone.id=s}),pe(),he(14,"input",5),mt("ngModelChange",function(s){return i.newZone.name=s}),pe(),he(15,"input",6),mt("ngModelChange",function(s){return i.newZone.description=s}),pe(),he(16,"select",7),mt("ngModelChange",function(s){return i.newZone.enabled=s}),he(17,"option",8),Pe(18,"Active"),pe(),he(19,"option",9),Pe(20,"In-Active"),pe()(),he(21,"button",2),mt("click",function(){return i.addZone()}),Pe(22,"Add"),pe()()),2&r&&(Ze(3),pt("ngModel",i.searchId),Ze(4),ro(i.viewZone),Ze(1),pt("ngIf",i.filteredZones.length),Ze(1),pt("ngIf",i.enableViewAllZone),Ze(4),pt("ngModel",i.newZone.id),Ze(1),pt("ngModel",i.newZone.name),Ze(1),pt("ngModel",i.newZone.description),Ze(1),pt("ngModel",i.newZone.enabled))},dependencies:[Wl,ss,Mh,Th,qs,$l,ya,_a],styles:[".section[_ngcontent-%COMP%]{padding:24px;margin:30px auto;max-width:700px;background:rgba(255,255,255,.25);-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px);border-radius:16px;box-shadow:0 10px 30px #00000026;border:1px solid rgba(255,255,255,.3);font-family:Segoe UI,sans-serif;animation:_ngcontent-%COMP%_fadeSlideUp .5s ease}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#1f2937;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:10px 14px;margin:6px 10px 16px 0;border-radius:10px;border:1px solid #d1d5db;font-size:14px;background:rgba(255,255,255,.8);color:#1f2937;box-shadow:0 2px 6px #0000000d;min-width:160px}button[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;color:#fff;background-color:#5e3a0d;border:none;border-radius:10px;box-shadow:0 4px 10px #2563eb40;cursor:pointer;transition:all .2s ease-in-out;margin:3px}button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#5e3a0d}button[_ngcontent-%COMP%]:last-child{background-color:#5e3a0d;box-shadow:0 4px 10px #ef444433}.zone-entry[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px;background:rgba(255,255,255,.6);padding:14px;border-radius:12px;box-shadow:0 6px 14px #0000000d}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(20px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.zone-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;margin-top:16px}.zone-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:16px 20px;width:220px;box-shadow:0 6px 18px #00000014;font-size:14px;color:#1f2937;transition:transform .2s ease}.zone-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);background-color:#ffffffb3}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:20px;flex:1 1 45%;margin-bottom:10px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:10px;border:1px solid #ccc;font-size:14px}select[_ngcontent-%COMP%]{appearance:none;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);font-size:15px;color:#1f2937;font-weight:500;box-shadow:0 6px 14px #00000014;transition:all .3s ease;cursor:pointer;width:180px}select[_ngcontent-%COMP%]:hover{background-color:#ffffffb3;box-shadow:0 0 10px #60a5fa4d;border-color:#60a5fa}select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}select[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>\");background-repeat:no-repeat;background-position:right 10px center;background-size:16px;padding-right:30px}"]})}}return n})(),sp=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){const i=e.data.roles,o=this.authService.getRoles();return console.log(o),console.log("Expected: "+i),this.authService.isAuthenticated()?!(i&&!i.includes(o||""))||this.router.createUrlTree(["/unauthorized"]):this.router.createUrlTree(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(Ue(ib),Ue(ji))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gK=(()=>{class n{constructor(e){this.zoneService=e,this.imagePath=null,this.activeZone=""}loadZone(e){this.activeZone=e,this.imagePath="/assets/Zone-Images/"+e+".png"}static{this.\u0275fac=function(r){return new(r||n)(We(cO))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-zone-viewer"]],decls:23,vars:13,consts:[[1,"app-header"],["src","assets/ups-logo.png","routerLink","/seat","alt","UPS Logo",1,"logo"],[1,"title"],[2,"padding","10px","margin-top","10px","width","100%"],[2,"list-style-type","none","display","flex","justify-content","space-evenly"],[1,"nav-button",3,"click"],[2,"padding","10px","margin-top","5rem","width","100%","text-align","center"],[3,"src"]],template:function(r,i){1&r&&(he(0,"header",0),br(1,"img",1),he(2,"h1",2),Pe(3,"Flexi Seat Booking"),pe()(),he(4,"header",2),Pe(5,"Zone-Viewer"),pe(),he(6,"div",3)(7,"ul")(8,"li",4)(9,"button",5),mt("click",function(){return i.loadZone("Zone-C")}),Pe(10,"Zone-C"),pe(),he(11,"button",5),mt("click",function(){return i.loadZone("Zone-D")}),Pe(12,"Zone-D"),pe(),he(13,"button",5),mt("click",function(){return i.loadZone("Zone-E")}),Pe(14,"Zone-E"),pe(),he(15,"button",5),mt("click",function(){return i.loadZone("Zone-F")}),Pe(16,"Zone-F"),pe(),he(17,"button",5),mt("click",function(){return i.loadZone("Zone-G")}),Pe(18,"Zone-G"),pe(),he(19,"button",5),mt("click",function(){return i.loadZone("Zone-H")}),Pe(20,"Zone-H"),pe()()()(),he(21,"div",6),br(22,"img",7),pe()),2&r&&(Ze(9),Gc("background-color","Zone-C"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(2),Gc("background-color","Zone-D"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(2),Gc("background-color","Zone-E"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(2),Gc("background-color","Zone-F"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(2),Gc("background-color","Zone-G"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(2),Gc("background-color","Zone-H"==i.activeZone?"#e0f2fe":"rgba(255, 255, 255, 0.6)"),Ze(3),Xy("src",i.imagePath,Kv))},dependencies:[Jl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:start;min-height:100vh;padding:40px 20px;background-color:#fff;font-family:Segoe UI,sans-serif;box-sizing:border-box;overflow-x:hidden}.app-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;margin-bottom:30px;flex-wrap:wrap;animation:fadeInHeader .6s ease both}.logo[_ngcontent-%COMP%]{width:60px;height:auto;object-fit:contain;filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:800;color:#c09300;margin:0;text-shadow:0 1px 2px rgba(0,0,0,.1);letter-spacing:.5px}.nav-button[_ngcontent-%COMP%]{background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 8px 16px #0000000d;border-radius:12px;padding:16px 28px;font-size:16px;font-weight:600;color:#1f2937;cursor:pointer;transition:transform .2s ease,background-color .2s ease;min-width:180px}.nav-button[_ngcontent-%COMP%]:hover, .nav-button[_ngcontent-%COMP%]:focus{transform:translateY(-4px) scale(1.03);background-color:#e0f2fe}"]})}}return n})();function Gd(n){return n+.5|0}const bc=(n,t,e)=>Math.max(Math.min(n,e),t);function ap(n){return bc(Gd(2.55*n),0,255)}function sl(n){return bc(Gd(255*n),0,255)}function wc(n){return bc(Gd(n/2.55)/100,0,1)}function RR(n){return bc(Gd(100*n),0,100)}const Qs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sb=[..."0123456789ABCDEF"],mK=n=>Sb[15&n],vK=n=>Sb[(240&n)>>4]+Sb[15&n],S1=n=>(240&n)>>4==(15&n);const wK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NR(n,t,e){const r=t*Math.min(e,1-e),i=(o,s=(o+n/30)%12)=>e-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function CK(n,t,e){const r=(i,o=(i+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function EK(n,t,e){const r=NR(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function Ib(n){const e=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(e,r,i),s=Math.min(e,r,i),a=(o+s)/2;let c,l,h;return o!==s&&(h=o-s,l=a>.5?h/(2-o-s):h/(o+s),c=function AK(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}(e,r,i,h,o),c=60*c+.5),[0|c,l||0,a]}function Db(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(sl)}function Mb(n,t,e){return Db(NR,n,t,e)}function PR(n){return(n%360+360)%360}const kR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let I1;const NK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Tb=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Xd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D1(n,t,e){if(n){let r=Ib(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,0===t?360:1)),r=Mb(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function LR(n,t){return n&&Object.assign(t||{},n)}function BR(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=sl(n[3]))):(t=LR(n,{r:0,g:0,b:0,a:1})).a=sl(t.a),t}function LK(n){return"r"===n.charAt(0)?function PK(n){const t=NK.exec(n);let r,i,o,e=255;if(t){if(t[7]!==r){const s=+t[7];e=t[8]?ap(s):bc(255*s,0,255)}return r=+t[1],i=+t[3],o=+t[5],r=255&(t[2]?ap(r):bc(r,0,255)),i=255&(t[4]?ap(i):bc(i,0,255)),o=255&(t[6]?ap(o):bc(o,0,255)),{r,g:i,b:o,a:e}}}(n):function DK(n){const t=wK.exec(n);let r,e=255;if(!t)return;t[5]!==r&&(e=t[6]?ap(+t[5]):sl(+t[5]));const i=PR(+t[2]),o=+t[3]/100,s=+t[4]/100;return r="hwb"===t[1]?function SK(n,t,e){return Db(EK,n,t,e)}(i,o,s):"hsv"===t[1]?function IK(n,t,e){return Db(CK,n,t,e)}(i,o,s):Mb(i,o,s),{r:r[0],g:r[1],b:r[2],a:e}}(n)}class $d{constructor(t){if(t instanceof $d)return t;const e=typeof t;let r;"object"===e?r=BR(t):"string"===e&&(r=function _K(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Qs[n[1]],g:255&17*Qs[n[2]],b:255&17*Qs[n[3]],a:5===t?17*Qs[n[4]]:255}:(7===t||9===t)&&(e={r:Qs[n[1]]<<4|Qs[n[2]],g:Qs[n[3]]<<4|Qs[n[4]],b:Qs[n[5]]<<4|Qs[n[6]],a:9===t?Qs[n[7]]<<4|Qs[n[8]]:255})),e}(t)||function RK(n){I1||(I1=function OK(){const n={},t=Object.keys(FR),e=Object.keys(kR);let r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<e.length;i++)o=e[i],a=a.replace(o,kR[o]);o=parseInt(FR[s],16),n[a]=[o>>16&255,o>>8&255,255&o]}return n}(),I1.transparent=[0,0,0,0]);const t=I1[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||LK(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=LR(this._rgb);return t&&(t.a=wc(t.a)),t}set rgb(t){this._rgb=BR(t)}rgbString(){return this._valid?function kK(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function bK(n){var t=(n=>S1(n.r)&&S1(n.g)&&S1(n.b)&&S1(n.a))(n)?mK:vK;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function TK(n){if(!n)return;const t=Ib(n),e=t[0],r=RR(t[1]),i=RR(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${wc(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,i=t.rgb;let o;const s=e===o?.5:e,a=2*s-1,c=r.a-i.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=function FK(n,t,e){const r=Xd(wc(n.r)),i=Xd(wc(n.g)),o=Xd(wc(n.b));return{r:sl(Tb(r+e*(Xd(wc(t.r))-r))),g:sl(Tb(i+e*(Xd(wc(t.g))-i))),b:sl(Tb(o+e*(Xd(wc(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new $d(this.rgb)}alpha(t){return this._rgb.a=sl(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Gd(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return D1(this._rgb,2,t),this}darken(t){return D1(this._rgb,2,-t),this}saturate(t){return D1(this._rgb,1,t),this}desaturate(t){return D1(this._rgb,1,-t),this}rotate(t){return function MK(n,t){var e=Ib(n);e[0]=PR(e[0]+t),e=Mb(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Cc(){}const BK=(()=>{let n=0;return()=>n++})();function Bn(n){return null==n}function Lr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function jn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function li(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Ts(n,t){return li(n)?n:t}function hn(n,t){return typeof n>"u"?t:n}const VR=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Rr(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function mr(n,t,e,r){let i,o,s;if(Lr(n))if(o=n.length,r)for(i=o-1;i>=0;i--)t.call(e,n[i],i);else for(i=0;i<o;i++)t.call(e,n[i],i);else if(jn(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)t.call(e,n[s[i]],s[i])}function M1(n,t){let e,r,i,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],o=t[e],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function T1(n){if(Lr(n))return n.map(T1);if(jn(n)){const t=Object.create(null),e=Object.keys(n),r=e.length;let i=0;for(;i<r;++i)t[e[i]]=T1(n[e[i]]);return t}return n}function UR(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function UK(n,t,e,r){if(!UR(n))return;const i=t[n],o=e[n];jn(i)&&jn(o)?cp(i,o,r):t[n]=T1(o)}function cp(n,t,e){const r=Lr(t)?t:[t],i=r.length;if(!jn(n))return n;const o=(e=e||{}).merger||UK;let s;for(let a=0;a<i;++a){if(s=r[a],!jn(s))continue;const c=Object.keys(s);for(let l=0,h=c.length;l<h;++l)o(c[l],n,s,e)}return n}function lp(n,t){return cp(n,t,{merger:jK})}function jK(n,t,e){if(!UR(n))return;const r=t[n],i=e[n];jn(r)&&jn(i)?lp(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=T1(i))}const jR={"":n=>n,x:n=>n.x,y:n=>n.y};function al(n,t){return(jR[t]||(jR[t]=function zK(n){const t=function HK(n){const t=n.split("."),e=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}(n);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t)))(n)}function Ob(n){return n.charAt(0).toUpperCase()+n.slice(1)}const up=n=>typeof n<"u",cl=n=>"function"==typeof n,HR=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Jn=Math.PI,Br=2*Jn,GK=Br+Jn,O1=Number.POSITIVE_INFINITY,XK=Jn/180,mi=Jn/2,ou=Jn/4,zR=2*Jn/3,ll=Math.log10,Za=Math.sign;function dp(n,t,e){return Math.abs(n-t)<e}function WR(n){const t=Math.round(n);n=dp(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ll(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function Yd(n){return!function YK(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function GR(n,t,e){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function wa(n){return n*(Jn/180)}function Rb(n){return n*(180/Jn)}function XR(n){if(!li(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function $R(n,t){const e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r);let o=Math.atan2(r,e);return o<-.5*Jn&&(o+=Br),{angle:o,distance:i}}function Nb(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function qK(n,t){return(n-t+GK)%Br-Jn}function yo(n){return(n%Br+Br)%Br}function fp(n,t,e,r){const i=yo(n),o=yo(t),s=yo(e),a=yo(o-i),c=yo(s-i),l=yo(i-o),h=yo(i-s);return i===o||i===s||r&&o===s||a>c&&l<h}function Hi(n,t,e){return Math.max(t,Math.min(e,n))}function Ec(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function Pb(n,t,e){e=e||(s=>n[s]<t);let o,r=n.length-1,i=0;for(;r-i>1;)o=i+r>>1,e(o)?i=o:r=o;return{lo:i,hi:r}}const Ac=(n,t,e,r)=>Pb(n,e,r?i=>{const o=n[i][t];return o<e||o===e&&n[i+1][t]===e}:i=>n[i][t]<e),QK=(n,t,e)=>Pb(n,e,r=>n[r][t]>=e),YR=["push","pop","shift","splice","unshift"];function ZR(n,t){const e=n._chartjs;if(!e)return;const r=e.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),!(r.length>0)&&(YR.forEach(o=>{delete n[o]}),delete n._chartjs)}function qR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const KR=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function QR(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,KR.call(window,()=>{r=!1,n.apply(t,e)}))}}const kb=n=>"start"===n?"left":"end"===n?"right":"center",_o=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function JR(n,t,e){const r=t.length;let i=0,o=r;if(n._sorted){const{iScale:s,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=s.axis,{min:g,max:y,minDefined:_,maxDefined:w}=s.getUserBounds();if(_){if(i=Math.min(Ac(c,h,g).lo,e?r:Ac(t,h,s.getPixelForValue(g)).lo),l){const C=c.slice(0,i+1).reverse().findIndex(D=>!Bn(D[a.axis]));i-=Math.max(0,C)}i=Hi(i,0,r-1)}if(w){let C=Math.max(Ac(c,s.axis,y,!0).hi+1,e?0:Ac(t,h,s.getPixelForValue(y),!0).hi+1);if(l){const D=c.slice(C-1).findIndex(P=>!Bn(P[a.axis]));C+=Math.max(0,D)}o=Hi(C,i,r)-i}else o=r-i}return{start:i,count:o}}function e4(n){const{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),o}const R1=n=>0===n||1===n,t4=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Br/e),n4=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Br/e)+1,hp={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*mi),easeOutSine:n=>Math.sin(n*mi),easeInOutSine:n=>-.5*(Math.cos(Jn*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>R1(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>R1(n)?n:t4(n,.075,.3),easeOutElastic:n=>R1(n)?n:n4(n,.075,.3),easeInOutElastic:n=>R1(n)?n:n<.5?.5*t4(2*n,.1125,.45):.5+.5*n4(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-hp.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*hp.easeInBounce(2*n):.5*hp.easeOutBounce(2*n-1)+.5};function Fb(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function r4(n){return Fb(n)?n:new $d(n)}function Lb(n){return Fb(n)?n:new $d(n).saturate(.5).darken(.1).hexString()}const rQ=["x","y","borderWidth","radius","tension"],iQ=["color","borderColor","backgroundColor"],i4=new Map;function pp(n,t,e){return function aQ(n,t){t=t||{};const e=n+JSON.stringify(t);let r=i4.get(e);return r||(r=new Intl.NumberFormat(n,t),i4.set(e,r)),r}(t,e).format(n)}const o4={values:n=>Lr(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const r=this.chart.options.locale;let i,o=n;if(e.length>1){const l=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=function cQ(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const s=ll(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),pp(n,r,c)},logarithmic(n,t,e){if(0===n)return"0";const r=e[t].significand||n/Math.pow(10,Math.floor(ll(n)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?o4.numeric.call(this,n,t,e):""}};var N1={formatters:o4};const su=Object.create(null),Bb=Object.create(null);function gp(n,t){if(!t)return n;const e=t.split(".");for(let r=0,i=e.length;r<i;++r){const o=e[r];n=n[o]||(n[o]=Object.create(null))}return n}function Vb(n,t,e){return"string"==typeof t?cp(gp(n,t),e):cp(gp(n,""),t)}class uQ{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Lb(i.backgroundColor),this.hoverBorderColor=(r,i)=>Lb(i.borderColor),this.hoverColor=(r,i)=>Lb(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Vb(this,t,e)}get(t){return gp(this,t)}describe(t,e){return Vb(Bb,t,e)}override(t,e){return Vb(su,t,e)}route(t,e,r,i){const o=gp(this,t),s=gp(this,r),a="_"+e;Object.defineProperties(o,{[a]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[a],l=s[i];return jn(c)?Object.assign({},l,c):hn(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(e=>e(this))}}var Vr=new uQ({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function oQ(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:iQ},numbers:{type:"number",properties:rQ}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function sQ(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function lQ(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:N1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function P1(n,t,e,r,i){let o=t[i];return o||(o=t[i]=n.measureText(i).width,e.push(i)),o>r&&(r=o),r}function fQ(n,t,e,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),n.save(),n.font=t;let s=0;const a=e.length;let c,l,h,g,y;for(c=0;c<a;c++)if(g=e[c],null==g||Lr(g)){if(Lr(g))for(l=0,h=g.length;l<h;l++)y=g[l],null!=y&&!Lr(y)&&(s=P1(n,i,o,s,y))}else s=P1(n,i,o,s,g);n.restore();const _=o.length/2;if(_>e.length){for(c=0;c<_;c++)delete i[o[c]];o.splice(0,_)}return s}function au(n,t,e){const r=n.currentDevicePixelRatio,i=0!==e?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function s4(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ub(n,t,e,r){a4(n,t,e,r,null)}function a4(n,t,e,r,i){let o,s,a,c,l,h,g,y;const _=t.pointStyle,w=t.rotation,C=t.radius;let D=(w||0)*XK;if(_&&"object"==typeof _&&(o=_.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return n.save(),n.translate(e,r),n.rotate(D),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),void n.restore();if(!(isNaN(C)||C<=0)){switch(n.beginPath(),_){default:i?n.ellipse(e,r,i/2,C,0,0,Br):n.arc(e,r,C,0,Br),n.closePath();break;case"triangle":h=i?i/2:C,n.moveTo(e+Math.sin(D)*h,r-Math.cos(D)*C),D+=zR,n.lineTo(e+Math.sin(D)*h,r-Math.cos(D)*C),D+=zR,n.lineTo(e+Math.sin(D)*h,r-Math.cos(D)*C),n.closePath();break;case"rectRounded":l=.516*C,c=C-l,s=Math.cos(D+ou)*c,g=Math.cos(D+ou)*(i?i/2-l:c),a=Math.sin(D+ou)*c,y=Math.sin(D+ou)*(i?i/2-l:c),n.arc(e-g,r-a,l,D-Jn,D-mi),n.arc(e+y,r-s,l,D-mi,D),n.arc(e+g,r+a,l,D,D+mi),n.arc(e-y,r+s,l,D+mi,D+Jn),n.closePath();break;case"rect":if(!w){c=Math.SQRT1_2*C,h=i?i/2:c,n.rect(e-h,r-c,2*h,2*c);break}D+=ou;case"rectRot":g=Math.cos(D)*(i?i/2:C),s=Math.cos(D)*C,a=Math.sin(D)*C,y=Math.sin(D)*(i?i/2:C),n.moveTo(e-g,r-a),n.lineTo(e+y,r-s),n.lineTo(e+g,r+a),n.lineTo(e-y,r+s),n.closePath();break;case"crossRot":D+=ou;case"cross":g=Math.cos(D)*(i?i/2:C),s=Math.cos(D)*C,a=Math.sin(D)*C,y=Math.sin(D)*(i?i/2:C),n.moveTo(e-g,r-a),n.lineTo(e+g,r+a),n.moveTo(e+y,r-s),n.lineTo(e-y,r+s);break;case"star":g=Math.cos(D)*(i?i/2:C),s=Math.cos(D)*C,a=Math.sin(D)*C,y=Math.sin(D)*(i?i/2:C),n.moveTo(e-g,r-a),n.lineTo(e+g,r+a),n.moveTo(e+y,r-s),n.lineTo(e-y,r+s),D+=ou,g=Math.cos(D)*(i?i/2:C),s=Math.cos(D)*C,a=Math.sin(D)*C,y=Math.sin(D)*(i?i/2:C),n.moveTo(e-g,r-a),n.lineTo(e+g,r+a),n.moveTo(e+y,r-s),n.lineTo(e-y,r+s);break;case"line":s=i?i/2:Math.cos(D)*C,a=Math.sin(D)*C,n.moveTo(e-s,r-a),n.lineTo(e+s,r+a);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(D)*(i?i/2:C),r+Math.sin(D)*C);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Sc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function k1(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function F1(n){n.restore()}function hQ(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if("middle"===i){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===i!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function pQ(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function mQ(n,t,e,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=e+o.actualBoundingBoxDescent,h=i.strikethrough?(e-o.actualBoundingBoxAscent+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,h),n.lineTo(a,h),n.stroke()}}function vQ(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function cu(n,t,e,r,i,o={}){const s=Lr(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(n.save(),n.font=i.string,function gQ(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Bn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&vQ(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Bn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,e,r,o.maxWidth)),n.fillText(l,e,r,o.maxWidth),mQ(n,e,r,l,o),r+=Number(i.lineHeight);n.restore()}function mp(n,t){const{x:e,y:r,w:i,h:o,radius:s}=t;n.arc(e+s.topLeft,r+s.topLeft,s.topLeft,1.5*Jn,Jn,!0),n.lineTo(e,r+o-s.bottomLeft),n.arc(e+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Jn,mi,!0),n.lineTo(e+i-s.bottomRight,r+o),n.arc(e+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,mi,0,!0),n.lineTo(e+i,r+s.topRight),n.arc(e+i-s.topRight,r+s.topRight,s.topRight,0,-mi,!0),n.lineTo(e+s.topLeft,r)}const yQ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_Q=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xQ(n,t){const e=(""+n).match(yQ);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const bQ=n=>+n||0;function jb(n,t){const e={},r=jn(t),i=r?Object.keys(t):t,o=jn(n)?r?s=>hn(n[s],n[t[s]]):s=>n[s]:()=>n;for(const s of i)e[s]=bQ(o(s));return e}function c4(n){return jb(n,{top:"y",right:"x",bottom:"y",left:"x"})}function lu(n){return jb(n,["topLeft","topRight","bottomLeft","bottomRight"])}function xo(n){const t=c4(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Pi(n,t){let e=hn((n=n||{}).size,(t=t||Vr.font).size);"string"==typeof e&&(e=parseInt(e,10));let r=hn(n.style,t.style);r&&!(""+r).match(_Q)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:hn(n.family,t.family),lineHeight:xQ(hn(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:hn(n.weight,t.weight),string:""};return i.string=function dQ(n){return!n||Bn(n.size)||Bn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function vp(n,t,e,r){let o,s,a,i=!0;for(o=0,s=n.length;o<s;++o)if(a=n[o],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),i=!1),void 0!==e&&Lr(a)&&(a=a[e%a.length],i=!1),void 0!==a))return r&&!i&&(r.cacheable=!1),a}function ul(n,t){return Object.assign(Object.create(n),t)}function Hb(n,t=[""],e,r,i=(()=>n[0])){const o=e||n;typeof r>"u"&&(r=h4("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>Hb([a,...n],t,o,r)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete n[0][c],!0),get:(a,c)=>u4(a,c,()=>function TQ(n,t,e,r){let i;for(const o of t)if(i=h4(CQ(o,n),e),typeof i<"u")return zb(n,i)?Wb(e,r,n,i):i}(c,t,n,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,c)=>p4(a).includes(c),ownKeys:a=>p4(a),set(a,c,l){const h=a._storage||(a._storage=i());return a[c]=h[c]=l,delete a._keys,!0}})}function Zd(n,t,e,r){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:l4(n,r),setContext:o=>Zd(n,o,e,r),override:o=>Zd(n.override(o),t,e,r)};return new Proxy(i,{deleteProperty:(o,s)=>(delete o[s],delete n[s],!0),get:(o,s,a)=>u4(o,s,()=>function EQ(n,t,e){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n;let a=r[t];return cl(a)&&s.isScriptable(t)&&(a=function AQ(n,t,e,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=t(o,s||r);return a.delete(n),zb(n,c)&&(c=Wb(i._scopes,i,n,c)),c}(t,a,n,e)),Lr(a)&&a.length&&(a=function SQ(n,t,e,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=e;if(typeof o.index<"u"&&r(n))return t[o.index%t.length];if(jn(t[0])){const c=t,l=i._scopes.filter(h=>h!==c);t=[];for(const h of c){const g=Wb(l,i,n,h);t.push(Zd(g,o,s&&s[n],a))}}return t}(t,a,n,s.isIndexable)),zb(t,a)&&(a=Zd(a,i,o&&o[t],s)),a}(o,s,a)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,s)=>Reflect.has(n,s),ownKeys:()=>Reflect.ownKeys(n),set:(o,s,a)=>(n[s]=a,delete o[s],!0)})}function l4(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:cl(e)?e:()=>e,isIndexable:cl(r)?r:()=>r}}const CQ=(n,t)=>n?n+Ob(t):t,zb=(n,t)=>jn(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function u4(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const r=e();return n[t]=r,r}function d4(n,t,e){return cl(n)?n(t,e):n}const IQ=(n,t)=>!0===n?t:"string"==typeof n?al(t,n):void 0;function DQ(n,t,e,r,i){for(const o of t){const s=IQ(e,o);if(s){n.add(s);const a=d4(s._fallback,e,i);if(typeof a<"u"&&a!==e&&a!==r)return a}else if(!1===s&&typeof r<"u"&&e!==r)return null}return!1}function Wb(n,t,e,r){const i=t._rootScopes,o=d4(t._fallback,e,r),s=[...n,...i],a=new Set;a.add(r);let c=f4(a,s,e,o||e,r);return!(null===c||typeof o<"u"&&o!==e&&(c=f4(a,s,o,c,r),null===c))&&Hb(Array.from(a),[""],i,o,()=>function MQ(n,t,e){const r=n._getTarget();t in r||(r[t]={});const i=r[t];return Lr(i)&&jn(e)?e:i||{}}(t,e,r))}function f4(n,t,e,r,i){for(;e;)e=DQ(n,t,e,r,i);return e}function h4(n,t){for(const e of t){if(!e)continue;const r=e[n];if(typeof r<"u")return r}}function p4(n){let t=n._keys;return t||(t=n._keys=function OQ(n){const t=new Set;for(const e of n)for(const r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}(n._scopes)),t}function g4(n,t,e,r){const{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r);let a,c,l,h;for(a=0,c=r;a<c;++a)l=a+e,h=t[l],s[a]={r:i.parse(al(h,o),l)};return s}const RQ=Number.EPSILON||1e-14,qd=(n,t)=>t<n.length&&!n[t].skip&&n[t],m4=n=>"x"===n?"y":"x";function NQ(n,t,e,r){const i=n.skip?t:n,o=t,s=e.skip?t:e,a=Nb(o,i),c=Nb(s,o);let l=a/(a+c),h=c/(a+c);l=isNaN(l)?0:l,h=isNaN(h)?0:h;const g=r*l,y=r*h;return{previous:{x:o.x-g*(s.x-i.x),y:o.y-g*(s.y-i.y)},next:{x:o.x+y*(s.x-i.x),y:o.y+y*(s.y-i.y)}}}function L1(n,t,e){return Math.max(Math.min(n,e),t)}function BQ(n,t,e,r,i){let o,s,a,c;if(t.spanGaps&&(n=n.filter(l=>!l.skip)),"monotone"===t.cubicInterpolationMode)!function FQ(n,t="x"){const e=m4(t),r=n.length,i=Array(r).fill(0),o=Array(r);let s,a,c,l=qd(n,0);for(s=0;s<r;++s)if(a=c,c=l,l=qd(n,s+1),c){if(l){const h=l[t]-c[t];i[s]=0!==h?(l[e]-c[e])/h:0}o[s]=a?l?Za(i[s-1])!==Za(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}(function PQ(n,t,e){const r=n.length;let i,o,s,a,c,l=qd(n,0);for(let h=0;h<r-1;++h)if(c=l,l=qd(n,h+1),c&&l){if(dp(t[h],0,RQ)){e[h]=e[h+1]=0;continue}i=e[h]/t[h],o=e[h+1]/t[h],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),e[h]=i*s*t[h],e[h+1]=o*s*t[h])}})(n,i,o),function kQ(n,t,e="x"){const r=m4(e),i=n.length;let o,s,a,c=qd(n,0);for(let l=0;l<i;++l){if(s=a,a=c,c=qd(n,l+1),!a)continue;const h=a[e],g=a[r];s&&(o=(h-s[e])/3,a[`cp1${e}`]=h-o,a[`cp1${r}`]=g-o*t[l]),c&&(o=(c[e]-h)/3,a[`cp2${e}`]=h+o,a[`cp2${r}`]=g+o*t[l])}}(n,o,t)}(n,i);else{let l=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=NQ(l,a,n[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&function LQ(n,t){let e,r,i,o,s,a=Sc(n[0],t);for(e=0,r=n.length;e<r;++e)s=o,o=a,a=e<r-1&&Sc(n[e+1],t),o&&(i=n[e],s&&(i.cp1x=L1(i.cp1x,t.left,t.right),i.cp1y=L1(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=L1(i.cp2x,t.left,t.right),i.cp2y=L1(i.cp2y,t.top,t.bottom)))}(n,e)}function Gb(){return typeof window<"u"&&typeof document<"u"}function Xb(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function B1(n,t,e){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[e])):r=n,r}const V1=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),UQ=["top","right","bottom","left"];function uu(n,t,e){const r={};e=e?"-"+e:"";for(let i=0;i<4;i++){const o=UQ[i];r[o]=parseFloat(n[t+"-"+o+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const jQ=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function du(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:r}=t,i=V1(e),o="border-box"===i.boxSizing,s=uu(i,"padding"),a=uu(i,"border","width"),{x:c,y:l,box:h}=function HQ(n,t){const e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:o}=r;let a,c,s=!1;if(jQ(i,o,n.target))a=i,c=o;else{const l=t.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}(n,e),g=s.left+(h&&a.left),y=s.top+(h&&a.top);let{width:_,height:w}=t;return o&&(_-=s.width+a.width,w-=s.height+a.height),{x:Math.round((c-g)/_*e.width/r),y:Math.round((l-y)/w*e.height/r)}}const U1=n=>Math.round(10*n)/10;function v4(n,t,e){const r=t||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0)}const GQ=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Gb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function y4(n,t){const e=function VQ(n,t){return V1(n).getPropertyValue(t)}(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function fu(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function XQ(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:"middle"===r?e<.5?n.y:t.y:"after"===r?e<1?n.y:t.y:e>0?t.y:n.y}}function $Q(n,t,e,r){const i={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},s=fu(n,i,e),a=fu(i,o,e),c=fu(o,t,e),l=fu(s,a,e),h=fu(a,c,e);return fu(l,h,e)}function Kd(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,r)=>e-r,leftForLtr:(e,r)=>e-r}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function _4(n,t){let e,r;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function x4(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function b4(n){return"angle"===n?{between:fp,compare:qK,normalize:yo}:{between:Ec,compare:(t,e)=>t-e,normalize:t=>t}}function w4({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e==0,style:i}}function C4(n,t,e){if(!e)return[n];const{property:r,start:i,end:o}=e,s=t.length,{compare:a,between:c,normalize:l}=b4(r),{start:h,end:g,loop:y,style:_}=function qQ(n,t,e){const{property:r,start:i,end:o}=e,{between:s,normalize:a}=b4(r),c=t.length;let y,_,{start:l,end:h,loop:g}=n;if(g){for(l+=c,h+=c,y=0,_=c;y<_&&s(a(t[l%c][r]),i,o);++y)l--,h--;l%=c,h%=c}return h<l&&(h+=c),{start:l,end:h,loop:g,style:n.style}}(n,t,e),w=[];let P,O,G,C=!1,D=null;for(let Re=h,et=h;Re<=g;++Re)O=t[Re%s],!O.skip&&(P=l(O[r]),P!==G&&(C=c(P,i,o),null===D&&(C||c(i,G,P)&&0!==a(i,G))&&(D=0===a(P,i)?Re:et),null!==D&&(!C||0===a(o,P)||c(o,G,P))&&(w.push(w4({start:D,end:Re,loop:y,count:s,style:_})),D=null),et=Re,G=P));return null!==D&&w.push(w4({start:D,end:g,loop:y,count:s,style:_})),w}function E4(n,t){const e=[],r=n.segments;for(let i=0;i<r.length;i++){const o=C4(r[i],n.points,t);o.length&&e.push(...o)}return e}function S4(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function tJ(n,t){if(!t)return!1;const e=[],r=function(i,o){return Fb(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function j1(n,t,e){return n.options.clip?n[e]:t[e]}function I4(n,t){const e=t._clip;if(e.disabled)return!1;const r=function nJ(n,t){const{xScale:e,yScale:r}=n;return e&&r?{left:j1(e,t,"left"),right:j1(e,t,"right"),top:j1(r,t,"top"),bottom:j1(r,t,"bottom")}:t}(t,n.chartArea);return{left:!1===e.left?0:r.left-(!0===e.left?0:e.left),right:!1===e.right?n.width:r.right+(!0===e.right?0:e.right),top:!1===e.top?0:r.top-(!0===e.top?0:e.top),bottom:!1===e.bottom?n.height:r.bottom+(!0===e.bottom?0:e.bottom)}}class rJ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){const s=e.duration;e.listeners[i].forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(r-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=KR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let c,s=o.length-1,a=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),o.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ic=new rJ;const D4="transparent",iJ={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const r=r4(n||D4),i=r.valid&&r4(t||D4);return i&&i.valid?i.mix(r,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class oJ{constructor(t,e,r,i){const o=e[r];i=vp([t.to,i,o,t.from]);const s=vp([t.from,o,i]);this._active=!0,this._fn=t.fn||iJ[t.type||typeof s],this._easing=hp[t.easing]||hp.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=vp([t.to,e,i,t.from]),this._from=vp([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to;let c;if(this._active=o!==a&&(s||e<r),!this._active)return this._target[i]=a,void this._notify(!0);e<0?this._target[i]=o:(c=e/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}}class M4{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!jn(t))return;const e=Object.keys(Vr.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!jn(o))return;const s={};for(const a of e)s[a]=o[a];(Lr(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(t,e){const r=e.options,i=function aJ(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&function sJ(n,t){const e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,r).then(()=>{t.options=r},()=>{}),o}_createAnimations(t,e){const r=this._properties,i=[],o=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now();let c;for(c=s.length-1;c>=0;--c){const l=s[c];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const h=e[l];let g=o[l];const y=r.get(l);if(g){if(y&&g.active()){g.update(y,h,a);continue}g.cancel()}y&&y.duration?(o[l]=g=new oJ(y,t,l,h),i.push(g)):t[l]=h}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const r=this._createAnimations(t,e);return r.length?(Ic.add(this._chart,r),!0):void 0}}function T4(n,t){const e=n&&n.options||{},r=e.reverse,i=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:r?o:i,end:r?i:o}}function O4(n,t){const e=[],r=n._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)e.push(r[i].index);return e}function R4(n,t,e,r={}){const i=n.keys,o="single"===r.mode;let s,a,c,l;if(null===t)return;let h=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===e){if(h=!0,r.all)continue;break}l=n.values[c],li(l)&&(o||0===t||Za(t)===Za(l))&&(t+=l)}return h||r.all?t:0}function $b(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function hJ(n,t,e){const r=n[t]||(n[t]={});return r[e]||(r[e]={})}function N4(n,t,e,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function P4(n,t){const{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,h=function dJ(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,s,r),g=t.length;let y;for(let _=0;_<g;++_){const w=t[_],{[c]:C,[l]:D}=w;y=(w._stacks||(w._stacks={}))[l]=hJ(i,h,C),y[a]=D,y._top=N4(y,s,!0,r.type),y._bottom=N4(y,s,!1,r.type),(y._visualValues||(y._visualValues={}))[a]=D}}function Yb(n,t){const e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function yp(n,t){const e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const i of t){const o=i._stacks;if(!o||void 0===o[r]||void 0===o[r][e])return;delete o[r][e],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[e]&&delete o[r]._visualValues[e]}}}const Zb=n=>"reset"===n||"none"===n,k4=(n,t)=>t?n:Object.assign({},n);let dl=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$b(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(y,_,w,C)=>"x"===y?_:"r"===y?C:w,s=r.xAxisID=hn(i.xAxisID,Yb(e,"x")),a=r.yAxisID=hn(i.yAxisID,Yb(e,"y")),c=r.rAxisID=hn(i.rAxisID,Yb(e,"r")),l=r.indexAxis,h=r.iAxisID=o(l,s,a,c),g=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZR(this._data,this),e._stacked&&yp(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(jn(r))this._data=function uJ(n,t){const{iScale:e,vScale:r}=t,i="x"===e.axis?"x":"y",o="x"===r.axis?"x":"y",s=Object.keys(n),a=new Array(s.length);let c,l,h;for(c=0,l=s.length;c<l;++c)h=s[c],a[c]={[i]:h,[o]:n[h]};return a}(r,this._cachedMeta);else if(i!==r){if(i){ZR(i,this);const o=this._cachedMeta;yp(o),o._parsed=[]}r&&Object.isExtensible(r)&&function eQ(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),YR.forEach(e=>{const r="_onData"+Ob(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[r]&&a[r](...o)}),s}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=r._stacked;r._stacked=$b(r.vScale,r),r.stack!==i.stack&&(o=!0,yp(r),r.stack=i.stack),this._resyncElements(e),(o||s!==r._stacked)&&(P4(this,r._parsed),r._stacked=$b(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis;let g,y,_,l=0===e&&r===o.length||i._sorted,h=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=o,i._sorted=!0,_=o;else{_=Lr(o[e])?this.parseArrayData(i,o,e,r):jn(o[e])?this.parseObjectData(i,o,e,r):this.parsePrimitiveData(i,o,e,r);const w=()=>null===y[c]||h&&y[c]<h[c];for(g=0;g<r;++g)i._parsed[g+e]=y=_[g],l&&(w()&&(l=!1),h=y);i._sorted=l}a&&P4(this,_)}parsePrimitiveData(e,r,i,o){const{iScale:s,vScale:a}=e,c=s.axis,l=a.axis,h=s.getLabels(),g=s===a,y=new Array(o);let _,w,C;for(_=0,w=o;_<w;++_)C=_+i,y[_]={[c]:g||s.parse(h[C],C),[l]:a.parse(r[C],C)};return y}parseArrayData(e,r,i,o){const{xScale:s,yScale:a}=e,c=new Array(o);let l,h,g,y;for(l=0,h=o;l<h;++l)g=l+i,y=r[g],c[l]={x:s.parse(y[0],g),y:a.parse(y[1],g)};return c}parseObjectData(e,r,i,o){const{xScale:s,yScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,h=new Array(o);let g,y,_,w;for(g=0,y=o;g<y;++g)_=g+i,w=r[_],h[g]={x:s.parse(al(w,c),_),y:a.parse(al(w,l),_)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const s=this._cachedMeta,a=r[e.axis];return R4({keys:O4(this.chart,!0),values:r._stacks[e.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(e,r,i,o){const s=i[r.axis];let a=null===s?NaN:s;const c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=R4(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,a=o.length,c=this._getOtherScale(e),l=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:O4(this.chart,!0),values:null})(r,i),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=function fJ(n){const{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}(c);let _,w;function C(){w=o[_];const D=w[c.axis];return!li(w[e.axis])||g>D||y<D}for(_=0;_<a&&(C()||(this.updateRangeFromParsed(h,e,w,l),!s));++_);if(s)for(_=a-1;_>=0;--_)if(!C()){this.updateRangeFromParsed(h,e,w,l);break}return h}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][e.axis],li(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=function lJ(n){let t,e,r,i;return jn(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:!1===n}}(hn(this.options.clip,function cJ(n,t,e){if(!1===e)return!1;const r=T4(n,e),i=T4(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this._cachedMeta,o=i.data||[],s=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,s,c,l),g=c;g<c+l;++g){const y=o[g];y.hidden||(y.active&&h?a.push(y):y.draw(e,s))}for(g=0;g<a.length;++g)a[g].draw(e,s)}getStyle(e,r){const i=r?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=function gJ(n,t,e){return ul(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function pJ(n,t){return ul(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const o="active"===r,s=this._cachedDataOpts,a=e+"-"+r,c=s[a],l=this.enableOptionSharing&&up(i);if(c)return k4(c,l);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],_=h.getOptionScopes(this.getDataset(),g),w=Object.keys(Vr.elements[e]),D=h.resolveNamedOptions(_,w,()=>this.getContext(i,o,r),y);return D.$shared&&(D.$shared=l,s[a]=Object.freeze(k4(D,l))),D}_resolveAnimations(e,r,i){const o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(!1!==o.options.animation){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,r),_=g.getOptionScopes(this.getDataset(),y);l=g.createResolver(_,this.getContext(e,i,r))}const h=new M4(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Zb(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(e,r,i,o){Zb(o)?Object.assign(e,i):this._resolveAnimations(r,o).update(e,i)}updateSharedOptions(e,r,i){e&&!Zb(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,o){e.active=o;const s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[c,l,h]of this._syncList)this[c](l,h);this._syncList=[];const o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,r,i=!0){const o=this._cachedMeta,s=o.data,a=e+r;let c;const l=h=>{for(h.length+=r,c=h.length-1;c>=a;c--)h[c]=h[c-r]};for(l(s),c=e;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,r),i&&this.updateElements(s,e,r,"reset")}updateElements(e,r,i,o){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,r);i._stacked&&yp(i,o)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,o]=e;this[r](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function yJ(n){const t=n.iScale,e=function vJ(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let r=[];for(let i=0,o=e.length;i<o;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=qR(r.sort((i,o)=>i-o))}return n._cache.$bar}(t,n.type);let i,o,s,a,r=t._length;const c=()=>{32767===s||-32768===s||(up(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=e.length;i<o;++i)s=t.getPixelForValue(e[i]),c();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)s=t.getPixelForTick(i),c();return r}function F4(n,t,e,r){return Lr(n)?function bJ(n,t,e,r){const i=e.parse(n[0],r),o=e.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o);let c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),t[e.axis]=l,t._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}(n,t,e,r):t[e.axis]=e.parse(n,r),t}function L4(n,t,e,r){const i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,c=[];let l,h,g,y;for(l=e,h=e+r;l<h;++l)y=t[l],g={},g[i.axis]=a||i.parse(s[l],l),c.push(F4(y,g,o,l));return c}function qb(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function EJ(n,t,e,r){let i=t.borderSkipped;const o={};if(!i)return void(n.borderSkipped=o);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:c,top:l,bottom:h}=function CJ(n){let t,e,r,i,o;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:e,end:r,reverse:t,top:i,bottom:o}}(n);"middle"===i&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=l:(e._bottom||0)===r?i=h:(o[B4(h,s,a,c)]=!0,i=l)),o[B4(i,s,a,c)]=!0,n.borderSkipped=o}function B4(n,t,e,r){return r?(n=function AJ(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=V4(n,e,t)):n=V4(n,t,e),n}function V4(n,t,e){return"start"===n?t:"end"===n?e:n}function SJ(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let IJ=(()=>class n extends dl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,i,o){return L4(e,r,i,o)}parseArrayData(e,r,i,o){return L4(e,r,i,o)}parseObjectData(e,r,i,o){const{iScale:s,vScale:a}=e,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,h="x"===s.axis?c:l,g="x"===a.axis?c:l,y=[];let _,w,C,D;for(_=i,w=i+o;_<w;++_)D=r[_],C={},C[s.axis]=s.parse(al(D,h),_),y.push(F4(al(D,g),C,a,_));return y}updateRangeFromParsed(e,r,i,o){super.updateRangeFromParsed(e,r,i,o);const s=i._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(e),a=s._custom,c=qb(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,o){const s="reset"===o,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),h=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(r,o);for(let w=r;w<r+i;w++){const C=this.getParsed(w),D=s||Bn(C[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(w),P=this._calculateBarIndexPixels(w,g),O=(C._stacks||{})[c.axis],G={horizontal:h,base:D.base,enableBorderRadius:!O||qb(C._custom)||a===O._top||a===O._bottom,x:h?D.head:P.center,y:h?P.center:D.head,height:h?P.size:Math.abs(D.size),width:h?Math.abs(D.size):P.size};_&&(G.options=y||this.resolveDataElementOptions(w,e[w].active?"active":o));const Z=G.options||e[w].options;EJ(G,Z,O,a),SJ(G,Z,g.ratio),this.updateElement(e[w],w,G,o)}}_getStacks(e,r){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],h=g=>{const y=g._parsed.find(w=>w[i.axis]===l),_=y&&y[g.vScale.axis];if(Bn(_)||isNaN(_))return!0};for(const g of o)if((void 0===r||!h(g))&&((!1===s||-1===a.indexOf(g.stack)||void 0===s&&void 0===g.stack)&&a.push(g.stack),g.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[hn("x"===this.chart.options.indexAxis?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,i){const o=this._getStacks(e,i),s=void 0!==r?o.indexOf(r):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,i=r.iScale,o=[];let s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=e.barThickness;return{min:c||yJ(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(e),h=l._custom,g=qb(h);let C,D,y=l[r.axis],_=0,w=i?this.applyStack(r,l,i):y;w!==y&&(_=w-y,w=y),g&&(y=h.barStart,w=h.barEnd-h.barStart,0!==y&&Za(y)!==Za(h.barEnd)&&(_=0),_+=y);const P=Bn(s)||g?_:s;let O=r.getPixelForValue(P);if(C=this.chart.getDataVisibility(e)?r.getPixelForValue(_+w):O,D=C-O,Math.abs(D)<a){D=function wJ(n,t,e){return 0!==n?Za(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(D,r,c)*a,y===c&&(O-=D/2);const G=r.getPixelForDecimal(0),Z=r.getPixelForDecimal(1),oe=Math.min(G,Z),fe=Math.max(G,Z);O=Math.max(Math.min(O,fe),oe),C=O+D,i&&!g&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(C)-r.getValueForPixel(O))}if(O===r.getPixelForValue(c)){const G=Za(D)*r.getLineWidthForValue(c)/2;O+=G,D-=G}return{size:D,base:O,head:C,center:C+D/2}}_calculateBarIndexPixels(e,r){const i=r.scale,o=this.options,s=o.skipNull,a=hn(o.maxBarThickness,1/0);let c,l;const h=this._getAxisCount();if(r.grouped){const g=s?this._getStackCount(e):r.stackCount,y="flex"===o.barThickness?function xJ(n,t,e,r){const i=t.pixels,o=i[n];let s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:e.barPercentage,start:l}}(e,r,o,g*h):function _J(n,t,e,r){const i=e.barThickness;let o,s;return Bn(i)?(o=t.min*e.categoryPercentage,s=e.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[n]-o/2}}(e,r,o,g*h),_="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(hn(_,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+w;c=y.start+y.chunk*C+y.chunk/2,l=Math.min(a,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,i=e.data,o=i.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[r.axis]&&!i[s].hidden&&i[s].draw(this._ctx)}})(),DJ=(()=>class n extends dl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,o){const s=super.parsePrimitiveData(e,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(e,r,i,o){const s=super.parseArrayData(e,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=hn(r[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(e,r,i,o){const s=super.parseObjectData(e,r,i,o);for(let a=0;a<s.length;a++){const c=r[i+a];s[a]._custom=hn(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),h=a._custom;return{label:i[e]||"",value:"("+c+", "+l+(h?", "+h:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,o){const s="reset"===o,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:h}=this._getSharedOptions(r,o),g=a.axis,y=c.axis;for(let _=r;_<r+i;_++){const w=e[_],C=!s&&this.getParsed(_),D={},P=D[g]=s?a.getPixelForDecimal(.5):a.getPixelForValue(C[g]),O=D[y]=s?c.getBasePixel():c.getPixelForValue(C[y]);D.skip=isNaN(P)||isNaN(O),h&&(D.options=l||this.resolveDataElementOptions(_,w.active?"active":o),s&&(D.options.radius=0)),this.updateElement(w,_,D,o)}}resolveDataElementOptions(e,r){const i=this.getParsed(e);let o=super.resolveDataElementOptions(e,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==r&&(o.radius=0),o.radius+=hn(i&&i._custom,s),o}})(),Kb=(()=>class n extends dl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=i;else{let a,c,s=l=>+i[l];if(jn(i[e])){const{key:l="value"}=this._parsing;s=h=>+al(i[h],l)}for(a=e,c=e+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return wa(this.options.rotation-90)}_getCircumference(){return wa(this.options.circumference)}_getRotationExtents(){let e=Br,r=-Br;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:w,offsetX:C,offsetY:D}=function MJ(n,t,e){let r=1,i=1,o=0,s=0;if(t<Br){const a=n,c=a+t,l=Math.cos(a),h=Math.sin(a),g=Math.cos(c),y=Math.sin(c),_=(G,Z,oe)=>fp(G,a,c,!0)?1:Math.max(Z,Z*e,oe,oe*e),w=(G,Z,oe)=>fp(G,a,c,!0)?-1:Math.min(Z,Z*e,oe,oe*e),C=_(0,l,g),D=_(mi,h,y),P=w(Jn,l,g),O=w(Jn+mi,h,y);r=(C-P)/2,i=(D-O)/2,o=-(C+P)/2,s=-(D+O)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}(y,g,l),G=Math.max(Math.min((i.width-a)/_,(i.height-a)/w)/2,0),Z=VR(this.options.radius,G),fe=(Z-Math.max(Z*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=C*Z,this.offsetY=D*Z,o.total=this.calculateTotal(),this.outerRadius=Z-fe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-fe*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Br)}updateElements(e,r,i,o){const s="reset"===o,a=this.chart,c=a.chartArea,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=s&&a.options.animation.animateScale,w=_?0:this.innerRadius,C=_?0:this.outerRadius,{sharedOptions:D,includeOptions:P}=this._getSharedOptions(r,o);let G,O=this._getRotation();for(G=0;G<r;++G)O+=this._circumference(G,s);for(G=r;G<r+i;++G){const Z=this._circumference(G,s),oe=e[G],fe={x:g+this.offsetX,y:y+this.offsetY,startAngle:O,endAngle:O+Z,circumference:Z,outerRadius:C,innerRadius:w};P&&(fe.options=D||this.resolveDataElementOptions(G,oe.active?"active":o)),O+=Z,this.updateElement(oe,G,fe,o)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let o,i=0;for(o=0;o<r.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Br*(Math.abs(e)/r):0}getLabelAndValue(e){const i=this.chart,o=i.data.labels||[],s=pp(this._cachedMeta._parsed[e],i.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const i=this.chart;let o,s,a,c,l;if(!e)for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),e=a.data,c=a.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)l=c.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,o=e.length;i<o;++i){const s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(hn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),TJ=(()=>class n extends dl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:c,count:l}=JR(r,o,a);this._drawStart=c,this._drawCount=l,e4(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},e),this.updateElements(o,c,l,e)}updateElements(e,r,i,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,o),_=a.axis,w=c.axis,{spanGaps:C,segment:D}=this.options,P=Yd(C)?C:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||s||"none"===o,G=r+i,Z=e.length;let oe=r>0&&this.getParsed(r-1);for(let fe=0;fe<Z;++fe){const Ie=e[fe],Re=O?Ie:{};if(fe<r||fe>=G){Re.skip=!0;continue}const et=this.getParsed(fe),dt=Bn(et[w]),Vt=Re[_]=a.getPixelForValue(et[_],fe),Nt=Re[w]=s||dt?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,et,l):et[w],fe);Re.skip=isNaN(Vt)||isNaN(Nt)||dt,Re.stop=fe>0&&Math.abs(et[_]-oe[_])>P,D&&(Re.parsed=et,Re.raw=h.data[fe]),y&&(Re.options=g||this.resolveDataElementOptions(fe,Ie.active?"active":o)),O||this.updateElement(Ie,fe,Re,o),oe=et}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),U4=(()=>class n extends dl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this.chart,o=i.data.labels||[],s=pp(this._cachedMeta._parsed[e].r,i.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,r,i,o){return g4.bind(this)(e,r,i,o)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,i=e.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),c=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,r,i,o){const s="reset"===o,a=this.chart,l=a.options.animation,h=this._cachedMeta.rScale,g=h.xCenter,y=h.yCenter,_=h.getIndexAngle(0)-.5*Jn;let C,w=_;const D=360/this.countVisibleElements();for(C=0;C<r;++C)w+=this._computeAngle(C,o,D);for(C=r;C<r+i;C++){const P=e[C];let O=w,G=w+this._computeAngle(C,o,D),Z=a.getDataVisibility(C)?h.getDistanceFromCenterForValue(this.getParsed(C).r):0;w=G,s&&(l.animateScale&&(Z=0),l.animateRotate&&(O=G=_));const oe={x:g,y,innerRadius:0,outerRadius:Z,startAngle:O,endAngle:G,options:this.resolveDataElementOptions(C,P.active?"active":o)};this.updateElement(P,C,oe,o)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?wa(this.resolveDataElementOptions(e,r).angle||i):0}})();var OJ=Object.freeze({__proto__:null,BarController:IJ,BubbleController:DJ,DoughnutController:Kb,LineController:TJ,PieController:(()=>class n extends Kb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:U4,RadarController:(()=>class n extends dl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,o){return g4.bind(this)(e,r,i,o)}update(e){const r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:a},e)}this.updateElements(o,0,o.length,e)}updateElements(e,r,i,o){const s=this._cachedMeta.rScale,a="reset"===o;for(let c=r;c<r+i;c++){const l=e[c],h=this.resolveDataElementOptions(c,l.active?"active":o),g=s.getPointPositionForValue(c,this.getParsed(c).r),y=a?s.xCenter:g.x,_=a?s.yCenter:g.y,w={x:y,y:_,angle:g.angle,skip:isNaN(y)||isNaN(_),options:h};this.updateElement(l,c,w,o)}}})(),ScatterController:(()=>class n extends dl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(e),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+c+", "+l+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled;let{start:s,count:a}=JR(r,i,o);if(this._drawStart=s,this._drawCount=a,e4(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:h},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,o){const s="reset"===o,{iScale:a,vScale:c,_stacked:l,_dataset:h}=this._cachedMeta,g=this.resolveDataElementOptions(r,o),y=this.getSharedOptions(g),_=this.includeOptions(o,y),w=a.axis,C=c.axis,{spanGaps:D,segment:P}=this.options,O=Yd(D)?D:Number.POSITIVE_INFINITY,G=this.chart._animationsDisabled||s||"none"===o;let Z=r>0&&this.getParsed(r-1);for(let oe=r;oe<r+i;++oe){const fe=e[oe],Ie=this.getParsed(oe),Re=G?fe:{},et=Bn(Ie[C]),dt=Re[w]=a.getPixelForValue(Ie[w],oe),Vt=Re[C]=s||et?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,Ie,l):Ie[C],oe);Re.skip=isNaN(dt)||isNaN(Vt)||et,Re.stop=oe>0&&Math.abs(Ie[w]-Z[w])>O,P&&(Re.parsed=Ie,Re.raw=h.data[oe]),_&&(Re.options=y||this.resolveDataElementOptions(oe,fe.active?"active":o)),G||this.updateElement(fe,oe,Re,o),Z=Ie}this.updateSharedOptions(y,o,g)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const i=e.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}})()});function hu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qb{static override(t){Object.assign(Qb.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return hu()}parse(){return hu()}format(){return hu()}add(){return hu()}diff(){return hu()}startOf(){return hu()}endOf(){return hu()}}var RJ__date=Qb;function NJ(n,t,e,r){const{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const l=a._reversePixels?QK:Ac;if(!r){const h=l(o,t,e);if(c){const{vScale:g}=i._cachedMeta,{_parsed:y}=n,_=y.slice(0,h.lo+1).reverse().findIndex(C=>!Bn(C[g.axis]));h.lo-=Math.max(0,_);const w=y.slice(h.hi).findIndex(C=>!Bn(C[g.axis]));h.hi+=Math.max(0,w)}return h}if(i._sharedOptions){const h=o[0],g="function"==typeof h.getRange&&h.getRange(t);if(g){const y=l(o,t,e-g),_=l(o,t,e+g);return{lo:y.lo,hi:_.hi}}}}return{lo:0,hi:o.length-1}}function _p(n,t,e,r,i){const o=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:h}=o[a],{lo:g,hi:y}=NJ(o[a],t,s,i);for(let _=g;_<=y;++_){const w=h[_];w.skip||r(w,l,_)}}}function Jb(n,t,e,r,i){const o=[];return!i&&!n.isPointInArea(t)||_p(n,e,t,function(a,c,l){!i&&!Sc(a,n.chartArea,0)||a.inRange(t.x,t.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function e2(n,t,e,r,i,o){return o||n.isPointInArea(t)?"r"!==e||r?function FJ(n,t,e,r,i,o){let s=[];const a=function PJ(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(r,i){const o=t?Math.abs(r.x-i.x):0,s=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return _p(n,e,t,function l(h,g,y){const _=h.inRange(t.x,t.y,i);if(r&&!_)return;const w=h.getCenterPoint(i);if(!o&&!n.isPointInArea(w)&&!_)return;const D=a(t,w);D<c?(s=[{element:h,datasetIndex:g,index:y}],c=D):D===c&&s.push({element:h,datasetIndex:g,index:y})}),s}(n,t,e,r,i,o):function kJ(n,t,e,r){let i=[];return _p(n,e,t,function o(s,a,c){const{startAngle:l,endAngle:h}=s.getProps(["startAngle","endAngle"],r),{angle:g}=$R(s,{x:t.x,y:t.y});fp(g,l,h)&&i.push({element:s,datasetIndex:a,index:c})}),i}(n,t,e,i):[]}function j4(n,t,e,r,i){const o=[],s="x"===e?"inXRange":"inYRange";let a=!1;return _p(n,e,t,(c,l,h)=>{c[s]&&c[s](t[e],i)&&(o.push({element:c,datasetIndex:l,index:h}),a=a||c.inRange(t.x,t.y,i))}),r&&!a?[]:o}var LJ={evaluateInteractionItems:_p,modes:{index(n,t,e,r){const i=du(t,n),o=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?Jb(n,i,o,r,s):e2(n,i,o,!1,r,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const h=a[0].index,g=l.data[h];g&&!g.skip&&c.push({element:g,datasetIndex:l.index,index:h})}),c):[]},dataset(n,t,e,r){const i=du(t,n),o=e.axis||"xy",s=e.includeInvisible||!1;let a=e.intersect?Jb(n,i,o,r,s):e2(n,i,o,!1,r,s);if(a.length>0){const c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let h=0;h<l.length;++h)a.push({element:l[h],datasetIndex:c,index:h})}return a},point:(n,t,e,r)=>Jb(n,du(t,n),e.axis||"xy",r,e.includeInvisible||!1),nearest:(n,t,e,r)=>e2(n,du(t,n),e.axis||"xy",e.intersect,r,e.includeInvisible||!1),x:(n,t,e,r)=>j4(n,du(t,n),"x",e.intersect,r),y:(n,t,e,r)=>j4(n,du(t,n),"y",e.intersect,r)}};const H4=["left","top","right","bottom"];function xp(n,t){return n.filter(e=>e.pos===t)}function z4(n,t){return n.filter(e=>-1===H4.indexOf(e.pos)&&e.box.axis===t)}function bp(n,t){return n.sort((e,r)=>{const i=t?r:e,o=t?e:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function W4(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function G4(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function HJ(n,t,e,r){const{pos:i,box:o}=e,s=n.maxPadding;if(!jn(i)){e.size&&(n[i]-=e.size);const g=r[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?o.height:o.width),e.size=g.size/g.count,n[i]+=e.size}o.getPadding&&G4(s,o.getPadding());const a=Math.max(0,t.outerWidth-W4(s,n,"left","right")),c=Math.max(0,t.outerHeight-W4(s,n,"top","bottom")),l=a!==n.w,h=c!==n.h;return n.w=a,n.h=c,e.horizontal?{same:l,other:h}:{same:h,other:l}}function WJ(n,t){const e=t.maxPadding;return function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(t[s],e[s])}),o}(n?["left","right"]:["top","bottom"])}function wp(n,t,e,r){const i=[];let o,s,a,c,l,h;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||t.w,a.height||t.h,WJ(a.horizontal,t));const{same:g,other:y}=HJ(t,e,a,r);l|=g&&i.length,h=h||y,c.fullSize||i.push(a)}return l&&wp(i,t,e,r)||h}function H1(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function X4(n,t,e,r){const i=e.padding;let{x:o,y:s}=t;for(const a of n){const c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/l.weight||1;if(a.horizontal){const g=t.w*h,y=l.size||c.height;up(l.start)&&(s=l.start),c.fullSize?H1(c,i.left,s,e.outerWidth-i.right-i.left,y):H1(c,t.left+l.placed,s,g,y),l.start=s,l.placed+=g,s=c.bottom}else{const g=t.h*h,y=l.size||c.width;up(l.start)&&(o=l.start),c.fullSize?H1(c,o,i.top,y,e.outerHeight-i.bottom-i.top):H1(c,o,t.top+l.placed,y,g),l.start=o,l.placed+=g,o=c.right}}t.x=o,t.y=s}var bo={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;const i=xo(n.options.layout.padding),o=Math.max(t-i.width,0),s=Math.max(e-i.height,0),a=function jJ(n){const t=function BJ(n){const t=[];let e,r,i,o,s,a;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],({position:o,options:{stack:s,stackWeight:a=1}}=i),t.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}(n),e=bp(t.filter(l=>l.box.fullSize),!0),r=bp(xp(t,"left"),!0),i=bp(xp(t,"right")),o=bp(xp(t,"top"),!0),s=bp(xp(t,"bottom")),a=z4(t,"x"),c=z4(t,"y");return{fullSize:e,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:xp(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}(n.boxes),c=a.vertical,l=a.horizontal;mr(n.boxes,C=>{"function"==typeof C.beforeLayout&&C.beforeLayout()});const h=c.reduce((C,D)=>D.box.options&&!1===D.box.options.display?C:C+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/h,hBoxMaxHeight:s/2}),y=Object.assign({},i);G4(y,xo(r));const _=Object.assign({maxPadding:y,w:o,h:s,x:i.left,y:i.top},i),w=function UJ(n,t){const e=function VJ(n){const t={};for(const e of n){const{stack:r,pos:i,stackWeight:o}=e;if(!r||!H4.includes(i))continue;const s=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:c}=a.box,l=e[a.stack],h=l&&a.stackWeight/l.weight;a.horizontal?(a.width=h?h*r:c&&t.availableWidth,a.height=i):(a.width=r,a.height=h?h*i:c&&t.availableHeight)}return e}(c.concat(l),g);wp(a.fullSize,_,g,w),wp(c,_,g,w),wp(l,_,g,w)&&wp(c,_,g,w),function zJ(n){const t=n.maxPadding;function e(r){const i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(_),X4(a.leftAndTop,_,g,w),_.x+=_.w,_.y+=_.h,X4(a.rightAndBottom,_,g,w),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},mr(a.chartArea,C=>{const D=C.box;Object.assign(D,n.chartArea),D.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class $4{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}}class GJ extends $4{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const z1="$chartjs",XJ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Y4=n=>null===n||""===n,Z4=!!GQ&&{passive:!0};function ZJ(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Z4)}function W1(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function KJ(n,t,e){const r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||W1(a.addedNodes,r),s=s&&!W1(a.removedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function QJ(n,t,e){const r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||W1(a.removedNodes,r),s=s&&!W1(a.addedNodes,r);s&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const Cp=new Map;let q4=0;function K4(){const n=window.devicePixelRatio;n!==q4&&(q4=n,Cp.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function tee(n,t,e){const r=n.canvas,i=r&&Xb(r);if(!i)return;const o=QR((a,c)=>{const l=i.clientWidth;e(a,c),l<i.clientWidth&&e()},window),s=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,h=c.contentRect.height;0===l&&0===h||o(l,h)});return s.observe(i),function JJ(n,t){Cp.size||window.addEventListener("resize",K4),Cp.set(n,t)}(n,o),s}function t2(n,t,e){e&&e.disconnect(),"resize"===t&&function eee(n){Cp.delete(n),Cp.size||window.removeEventListener("resize",K4)}(n)}function nee(n,t,e){const r=n.canvas,i=QR(o=>{null!==n.ctx&&e(function qJ(n,t){const e=XJ[n.type]||n.type,{x:r,y:i}=du(n,t);return{type:e,chart:t,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(o,n))},n);return function YJ(n,t,e){n&&n.addEventListener(t,e,Z4)}(r,t,i),i}class ree extends $4{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(function $J(n,t){const e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[z1]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Y4(i)){const o=y4(n,"width");void 0!==o&&(n.width=o)}if(Y4(r))if(""===n.style.height)n.height=n.width/(t||2);else{const o=y4(n,"height");void 0!==o&&(n.height=o)}}(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e[z1])return!1;const r=e[z1].initial;["height","width"].forEach(o=>{const s=r[o];Bn(s)?e.removeAttribute(o):e.setAttribute(o,s)});const i=r.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[z1],!0}addEventListener(t,e,r){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:KJ,detach:QJ,resize:tee}[e]||nee)(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),i=r[e];i&&(({attach:t2,detach:t2,resize:t2}[e]||ZJ)(t,e,i),r[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return function WQ(n,t,e,r){const i=V1(n),o=uu(i,"margin"),s=B1(i.maxWidth,n,"clientWidth")||O1,a=B1(i.maxHeight,n,"clientHeight")||O1,c=function zQ(n,t,e){let r,i;if(void 0===t||void 0===e){const o=n&&Xb(n);if(o){const s=o.getBoundingClientRect(),a=V1(o),c=uu(a,"border","width"),l=uu(a,"padding");t=s.width-l.width-c.width,e=s.height-l.height-c.height,r=B1(a.maxWidth,o,"clientWidth"),i=B1(a.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:r||O1,maxHeight:i||O1}}(n,t,e);let{width:l,height:h}=c;if("content-box"===i.boxSizing){const y=uu(i,"border","width"),_=uu(i,"padding");l-=_.width+y.width,h-=_.height+y.height}return l=Math.max(0,l-o.width),h=Math.max(0,r?l/r:h-o.height),l=U1(Math.min(l,s,c.maxWidth)),h=U1(Math.min(h,a,c.maxHeight)),l&&!h&&(h=U1(l/2)),(void 0!==t||void 0!==e)&&r&&c.height&&h>c.height&&(h=c.height,l=U1(Math.floor(h*r))),{width:l,height:h}}(t,e,r,i)}isAttached(t){const e=t&&Xb(t);return!(!e||!e.isConnected)}}class Dc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return Yd(this.x)&&Yd(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const i={};return t.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}function G1(n,t,e,r,i){const o=hn(r,0),s=Math.min(hn(i,n.length),n.length);let c,l,h,a=0;for(e=Math.ceil(e),i&&(c=i-r,e=c/Math.floor(c/e)),h=o;h<0;)a++,h=Math.round(o+a*e);for(l=Math.max(o,0);l<s;l++)l===h&&(t.push(n[l]),a++,h=Math.round(o+a*e))}const Q4=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,J4=(n,t)=>Math.min(t||n,n);function e8(n,t){const e=[],r=n.length/t,i=n.length;let o=0;for(;o<i;o+=r)e.push(n[Math.floor(o)]);return e}function fee(n,t,e){const r=n.ticks.length,i=Math.min(t,r-1),o=n._startPixel,s=n._endPixel,a=1e-6;let l,c=n.getPixelForTick(i);if(!(e&&(l=1===r?Math.max(c-o,s-c):0===t?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<o-a||c>s+a)))return c}function Ep(n){return n.drawTicks?n.tickLength:0}function t8(n,t){if(!n.display)return 0;const e=Pi(n.font,t),r=xo(n.padding);return(Lr(n.text)?n.text.length:1)*e.lineHeight+r.height}function mee(n,t,e){let r=kb(n);return(e&&"right"!==t||!e&&"right"===t)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class pu extends Dc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=Ts(t,Number.POSITIVE_INFINITY),e=Ts(e,Number.NEGATIVE_INFINITY),r=Ts(r,Number.POSITIVE_INFINITY),i=Ts(i,Number.NEGATIVE_INFINITY),{min:Ts(t,r),max:Ts(e,i),minDefined:li(t),maxDefined:li(e)}}getMinMax(t){let s,{min:e,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:e,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,t),i||(e=Math.min(e,s.min)),o||(r=Math.max(r,s.max));return e=o&&e>r?r:e,r=i&&e>r?e:r,{min:Ts(e,Ts(r,e)),max:Ts(r,Ts(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rr(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function wQ(n,t,e){const{min:r,max:i}=n,o=VR(t,(i-r)/2),s=(a,c)=>e&&0===a?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?e8(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function oee(n,t){const e=n.options.ticks,r=function see(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),i=Math.min(e.maxTicksLimit||r,r),o=e.major.enabled?function cee(n){const t=[];let e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}(t):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return function lee(n,t,e,r){let s,i=0,o=e[0];for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(t.push(n[s]),i++,o=e[i*r])}(t,l,o,s/i),l;const h=function aee(n,t,e){const r=function uee(n){const t=n.length;let e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}(n),i=t.length/e;if(!r)return Math.max(i,1);const o=function $K(n){const t=[],e=Math.sqrt(n);let r;for(r=1;r<e;r++)n%r==0&&(t.push(r),t.push(n/r));return e===(0|e)&&t.push(e),t.sort((i,o)=>i-o).pop(),t}(r);for(let s=0,a=o.length-1;s<a;s++){const c=o[s];if(c>i)return c}return Math.max(i,1)}(o,t,i);if(s>0){let g,y;const _=s>1?Math.round((c-a)/(s-1)):null;for(G1(t,l,h,Bn(_)?0:a-_,a),g=0,y=s-1;g<y;g++)G1(t,l,h,o[g],o[g+1]);return G1(t,l,h,c,Bn(_)?t.length:c+_),l}return G1(t,l,h),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,r,t=this.options.reverse;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rr(this.options.afterUpdate,[this])}beforeSetDimensions(){Rr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r],o.label=Rr(e.callback,[o.value,r,t],this)}afterTickToLabelConversion(){Rr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=J4(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation;let a,c,l,s=i;if(!this._isVisible()||!e.display||i>=o||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const h=this._getLabelSizes(),g=h.widest.width,y=h.highest.height,_=Hi(this.chart.width-g,0,this.maxWidth);a=t.offset?this.maxWidth/r:_/(r-1),g+6>a&&(a=_/(r-(t.offset?.5:1)),c=this.maxHeight-Ep(t.grid)-e.padding-t8(t.title,this.chart.options.font),l=Math.sqrt(g*g+y*y),s=Rb(Math.min(Math.asin(Hi((h.highest.height+6)/a,-1,1)),Math.asin(Hi(c/l,-1,1))-Math.asin(Hi(y/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Rr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const c=t8(i,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ep(o)+c):(t.height=this.maxHeight,t.width=Ep(o)+c),r.display&&this.ticks.length){const{first:l,last:h,widest:g,highest:y}=this._getLabelSizes(),_=2*r.padding,w=wa(this.labelRotation),C=Math.cos(w),D=Math.sin(w);a?t.height=Math.min(this.maxHeight,t.height+(r.mirror?0:D*g.width+C*y.height)+_):t.width=Math.min(this.maxWidth,t.width+(r.mirror?0:C*g.width+D*y.height)+_),this._calculatePadding(l,h,D,C)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){const{ticks:{align:o,padding:s},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,_=0;c?l?(y=i*t.width,_=r*e.height):(y=r*t.height,_=i*e.width):"start"===o?_=e.width:"end"===o?y=t.width:"inner"!==o&&(y=t.width/2,_=e.width/2),this.paddingLeft=Math.max((y-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((_-g+s)*this.width/(this.width-g),0)}else{let h=e.height/2,g=t.height/2;"start"===o?(h=0,g=t.height):"end"===o&&(h=e.height,g=0),this.paddingTop=h+s,this.paddingBottom=g+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,r=t.length;e<r;e++)Bn(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=e8(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(e/J4(e,r));let g,y,_,w,C,D,P,O,G,Z,oe,l=0,h=0;for(g=0;g<e;g+=c){if(w=t[g].label,C=this._resolveTickFontOptions(g),i.font=D=C.string,P=o[D]=o[D]||{data:{},gc:[]},O=C.lineHeight,G=Z=0,Bn(w)||Lr(w)){if(Lr(w))for(y=0,_=w.length;y<_;++y)oe=w[y],!Bn(oe)&&!Lr(oe)&&(G=P1(i,P.data,P.gc,G,oe),Z+=O)}else G=P1(i,P.data,P.gc,G,w),Z=O;s.push(G),a.push(Z),l=Math.max(G,l),h=Math.max(Z,h)}!function hee(n,t){mr(n,e=>{const r=e.gc,i=r.length/2;let o;if(i>t){for(o=0;o<i;++o)delete e.data[r[o]];r.splice(0,i)}})}(o,e);const fe=s.indexOf(l),Ie=a.indexOf(h),Re=et=>({width:s[et]||0,height:a[et]||0});return{first:Re(0),last:Re(e-1),widest:Re(fe),highest:Re(Ie),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function KK(n){return Hi(n,-32768,32767)}(this._alignToPixels?au(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=function gee(n,t,e){return ul(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,r))}return this.$context||(this.$context=function pee(n,t){return ul(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=wa(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),g=this.ticks.length+(c?1:0),y=Ep(o),_=[],w=a.setContext(this.getContext()),C=w.display?w.width:0,D=C/2,P=function(_t){return au(r,_t,C)};let O,G,Z,oe,fe,Ie,Re,et,dt,Vt,Nt,sn;if("top"===s)O=P(this.bottom),Ie=this.bottom-y,et=O-D,Vt=P(t.top)+D,sn=t.bottom;else if("bottom"===s)O=P(this.top),Vt=t.top,sn=P(t.bottom)-D,Ie=O+D,et=this.top+y;else if("left"===s)O=P(this.right),fe=this.right-y,Re=O-D,dt=P(t.left)+D,Nt=t.right;else if("right"===s)O=P(this.left),dt=t.left,Nt=P(t.right)-D,fe=O+D,Re=this.left+y;else if("x"===e){if("center"===s)O=P((t.top+t.bottom)/2+.5);else if(jn(s)){const _t=Object.keys(s)[0];O=P(this.chart.scales[_t].getPixelForValue(s[_t]))}Vt=t.top,sn=t.bottom,Ie=O+D,et=Ie+y}else if("y"===e){if("center"===s)O=P((t.left+t.right)/2);else if(jn(s)){const _t=Object.keys(s)[0];O=P(this.chart.scales[_t].getPixelForValue(s[_t]))}fe=O-D,Re=fe-y,dt=t.left,Nt=t.right}const yr=hn(i.ticks.maxTicksLimit,g),Sn=Math.max(1,Math.ceil(g/yr));for(G=0;G<g;G+=Sn){const _t=this.getContext(G),Mt=o.setContext(_t),jt=a.setContext(_t),rn=Mt.lineWidth,zr=Mt.color,zo=jt.dash||[],Si=jt.dashOffset,ps=Mt.tickWidth,sr=Mt.tickColor,wl=Mt.tickBorderDash||[],Nc=Mt.tickBorderDashOffset;Z=fee(this,G,c),void 0!==Z&&(oe=au(r,Z,rn),l?fe=Re=dt=Nt=oe:Ie=et=Vt=sn=oe,_.push({tx1:fe,ty1:Ie,tx2:Re,ty2:et,x1:dt,y1:Vt,x2:Nt,y2:sn,width:rn,color:zr,borderDash:zo,borderDashOffset:Si,tickWidth:ps,tickColor:sr,tickBorderDash:wl,tickBorderDashOffset:Nc}))}return this._ticksLength=g,this._borderValue=O,_}_computeLabelItems(t){const e=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:h,mirror:g}=o,y=Ep(r.grid),_=y+h,w=g?-h:_,C=-wa(this.labelRotation),D=[];let P,O,G,Z,oe,fe,Ie,Re,et,dt,Vt,Nt,sn="middle";if("top"===i)fe=this.bottom-w,Ie=this._getXAxisLabelAlignment();else if("bottom"===i)fe=this.top+w,Ie=this._getXAxisLabelAlignment();else if("left"===i){const Sn=this._getYAxisLabelAlignment(y);Ie=Sn.textAlign,oe=Sn.x}else if("right"===i){const Sn=this._getYAxisLabelAlignment(y);Ie=Sn.textAlign,oe=Sn.x}else if("x"===e){if("center"===i)fe=(t.top+t.bottom)/2+_;else if(jn(i)){const Sn=Object.keys(i)[0];fe=this.chart.scales[Sn].getPixelForValue(i[Sn])+_}Ie=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)oe=(t.left+t.right)/2-_;else if(jn(i)){const Sn=Object.keys(i)[0];oe=this.chart.scales[Sn].getPixelForValue(i[Sn])}Ie=this._getYAxisLabelAlignment(y).textAlign}"y"===e&&("start"===c?sn="top":"end"===c&&(sn="bottom"));const yr=this._getLabelSizes();for(P=0,O=a.length;P<O;++P){G=a[P],Z=G.label;const Sn=o.setContext(this.getContext(P));Re=this.getPixelForTick(P)+o.labelOffset,et=this._resolveTickFontOptions(P),dt=et.lineHeight,Vt=Lr(Z)?Z.length:1;const _t=Vt/2,Mt=Sn.color,jt=Sn.textStrokeColor,rn=Sn.textStrokeWidth;let zo,zr=Ie;if(s?(oe=Re,"inner"===Ie&&(zr=P===O-1?this.options.reverse?"left":"right":0===P?this.options.reverse?"right":"left":"center"),Nt="top"===i?"near"===l||0!==C?-Vt*dt+dt/2:"center"===l?-yr.highest.height/2-_t*dt+dt:dt/2-yr.highest.height:"near"===l||0!==C?dt/2:"center"===l?yr.highest.height/2-_t*dt:yr.highest.height-Vt*dt,g&&(Nt*=-1),0!==C&&!Sn.showLabelBackdrop&&(oe+=dt/2*Math.sin(C))):(fe=Re,Nt=(1-Vt)*dt/2),Sn.showLabelBackdrop){const Si=xo(Sn.backdropPadding),ps=yr.heights[P],sr=yr.widths[P];let wl=Nt-Si.top,Nc=0-Si.left;switch(sn){case"middle":wl-=ps/2;break;case"bottom":wl-=ps}switch(Ie){case"center":Nc-=sr/2;break;case"right":Nc-=sr;break;case"inner":P===O-1?Nc-=sr:P>0&&(Nc-=sr/2)}zo={left:Nc,top:wl,width:sr+Si.width,height:ps+Si.height,color:Sn.backdropColor}}D.push({label:Z,font:et,textOffset:Nt,options:{rotation:C,color:Mt,strokeColor:jt,strokeWidth:rn,textAlign:zr,textBaseline:sn,translation:[oe,fe],backdrop:zo}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-wa(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,a=t+o,c=this._getLabelSizes().widest.width;let l,h;return"left"===e?i?(h=this.right+o,"near"===r?l="left":"center"===r?(l="center",h+=c/2):(l="right",h+=c)):(h=this.right-a,"near"===r?l="right":"center"===r?(l="center",h-=c/2):(l="left",h=this.left)):"right"===e?i?(h=this.left+o,"near"===r?l="right":"center"===r?(l="center",h-=c/2):(l="left",h-=c)):(h=this.left+a,"near"===r?l="left":"center"===r?(l="center",h+=c/2):(l="right",h=this.right)):l="right",{textAlign:l,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:i,width:o,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,o,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,s;const a=(c,l,h)=>{!h.width||!h.color||(r.save(),r.lineWidth=h.width,r.strokeStyle=h.color,r.setLineDash(h.borderDash||[]),r.lineDashOffset=h.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(e.display)for(o=0,s=i.length;o<s;++o){const c=i[o];e.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,h,g,y;this.isHorizontal()?(l=au(t,this.left,s)-s/2,h=au(t,this.right,a)+a/2,g=y=c):(g=au(t,this.top,s)-s/2,y=au(t,this.bottom,a)+a/2,l=h=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(l,g),e.lineTo(h,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&k1(r,i);const o=this.getLabelItems(t);for(const s of o)cu(r,s.label,0,s.textOffset,s.font,s.options);i&&F1(r)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;const o=Pi(r.font),s=xo(r.padding),a=r.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||jn(e)?(c+=s.bottom,Lr(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;const{titleX:l,titleY:h,maxWidth:g,rotation:y}=function vee(n,t,e,r){const{top:i,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:h}=c;let y,_,w,g=0;const C=s-i,D=a-o;if(n.isHorizontal()){if(_=_o(r,o,a),jn(e)){const P=Object.keys(e)[0];w=h[P].getPixelForValue(e[P])+C-t}else w="center"===e?(l.bottom+l.top)/2+C-t:Q4(n,e,t);y=a-o}else{if(jn(e)){const P=Object.keys(e)[0];_=h[P].getPixelForValue(e[P])-D+t}else _="center"===e?(l.left+l.right)/2-D+t:Q4(n,e,t);w=_o(r,s,i),g="left"===e?-mi:mi}return{titleX:_,titleY:w,maxWidth:y,rotation:g}}(this,c,e,a);cu(t,r.text,0,0,o,{color:r.color,maxWidth:g,rotation:y,textAlign:mee(a,e,i),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=hn(t.grid&&t.grid.z,-1),i=hn(t.border&&t.border.z,0);return this._isVisible()&&this.draw===pu.prototype.draw?[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,s;for(o=0,s=e.length;o<s;++o){const a=e[o];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){return Pi(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class X1{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;(function xee(n){return"id"in n&&"defaults"in n})(e)&&(r=this.register(e));const i=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,function yee(n,t,e){const r=cp(Object.create(null),[e?Vr.get(e):{},Vr.get(t),n.defaults]);Vr.set(t,r),n.defaultRoutes&&function _ee(n,t){Object.keys(t).forEach(e=>{const r=e.split("."),i=r.pop(),o=[n].concat(r).join("."),s=t[e].split("."),a=s.pop(),c=s.join(".");Vr.route(o,i,c,a)})}(t,n.defaultRoutes),n.descriptors&&Vr.describe(t,n.descriptors)}(t,s,r),this.override&&Vr.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in Vr[i]&&(delete Vr[i][r],this.override&&delete su[r])}}class bee{constructor(){this.controllers=new X1(dl,"datasets",!0),this.elements=new X1(Dc,"elements"),this.plugins=new X1(Object,"plugins"),this.scales=new X1(pu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):mr(i,s=>{const a=r||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,r){const i=Ob(t);Rr(r["before"+i],[],r),e[t](r),Rr(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var qa=new bee;class wee{constructor(){this._init=[]}notify(t,e,r,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(o,t,e,r);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,r,i){i=i||{};for(const o of t){const s=o.plugin;if(!1===Rr(s[r],[e,i,o.options],s)&&i.cancelable)return!1}return!0}invalidate(){Bn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,i=hn(r.options&&r.options.plugins,{}),o=function Cee(n){const t={},e=[],r=Object.keys(qa.plugins.items);for(let o=0;o<r.length;o++)e.push(qa.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const s=i[o];-1===e.indexOf(s)&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}(r);return!1!==i||e?function Aee(n,{plugins:t,localIds:e},r,i){const o=[],s=n.getContext();for(const a of t){const c=a.id,l=Eee(r[c],i);null!==l&&o.push({plugin:a,options:See(n.config,{plugin:a,local:e[c]},l,s)})}return o}(t,o,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}}function Eee(n,t){return t||!1!==n?!0===n?{}:n:null}function See(n,{plugin:t,local:e},r,i){const o=n.pluginScopeKeys(t),s=n.getOptionScopes(r,o);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function n2(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Vr.datasets[n]||{}).indexAxis||"x"}function n8(n){if("x"===n||"y"===n||"r"===n)return n}function Mee(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function r2(n,...t){if(n8(n))return n;for(const e of t){const r=e.axis||Mee(e.position)||n.length>1&&n8(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function r8(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function i8(n){const t=n.options||(n.options={});t.plugins=hn(t.plugins,{}),t.scales=function Oee(n,t){const e=su[n.type]||{scales:{}},r=t.scales||{},i=n2(n.type,t),o=Object.create(null);return Object.keys(r).forEach(s=>{const a=r[s];if(!jn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=r2(s,a,function Tee(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return r8(n,"x",e[0])||r8(n,"y",e[0])}return{}}(s,n),Vr.scales[a.type]),l=function Dee(n,t){return n===t?"_index_":"_value_"}(c,i),h=e.scales||{};o[s]=lp(Object.create(null),[{axis:c},a,h[c],h[l]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,c=s.indexAxis||n2(a,t),h=(su[a]||{}).scales||{};Object.keys(h).forEach(g=>{const y=function Iee(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(g,c),_=s[y+"AxisID"]||y;o[_]=o[_]||Object.create(null),lp(o[_],[{axis:y},r[_],h[g]])})}),Object.keys(o).forEach(s=>{const a=o[s];lp(a,[Vr.scales[a.type],Vr.scale])}),o}(n,t)}function o8(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const s8=new Map,a8=new Set;function $1(n,t){let e=s8.get(n);return e||(e=t(),s8.set(n,e),a8.add(e)),e}const Ap=(n,t,e)=>{const r=al(t,e);void 0!==r&&n.add(r)};class Nee{constructor(t){this._config=function Ree(n){return(n=n||{}).data=o8(n.data),i8(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=o8(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),i8(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $1(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return $1(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return $1(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return $1(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const r=this._scopeCache;let i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){const{options:i,type:o}=this,s=this._cachedScopes(t,r),a=s.get(e);if(a)return a;const c=new Set;e.forEach(h=>{t&&(c.add(t),h.forEach(g=>Ap(c,t,g))),h.forEach(g=>Ap(c,i,g)),h.forEach(g=>Ap(c,su[o]||{},g)),h.forEach(g=>Ap(c,Vr,g)),h.forEach(g=>Ap(c,Bb,g))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),a8.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,su[e]||{},Vr.datasets[e]||{},{type:e},Vr,Bb]}resolveNamedOptions(t,e,r,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=c8(this._resolverCache,t,i);let c=s;(function kee(n,t){const{isScriptable:e,isIndexable:r}=l4(n);for(const i of t){const o=e(i),s=r(i),a=(s||o)&&n[i];if(o&&(cl(a)||Pee(a))||s&&Lr(a))return!0}return!1})(s,e)&&(o.$shared=!1,c=Zd(s,r=cl(r)?r():r,this.createResolver(t,r,a)));for(const l of e)o[l]=c[l];return o}createResolver(t,e,r=[""],i){const{resolver:o}=c8(this._resolverCache,t,r);return jn(e)?Zd(o,e,void 0,i):o}}function c8(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));const i=e.join();let o=r.get(i);return o||(o={resolver:Hb(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}const Pee=n=>jn(n)&&Object.getOwnPropertyNames(n).some(t=>cl(n[t])),Lee=["top","bottom","left","right","chartArea"];function l8(n,t){return"top"===n||"bottom"===n||-1===Lee.indexOf(n)&&"x"===t}function u8(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function d8(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Rr(e&&e.onComplete,[n],t)}function Bee(n){const t=n.chart,e=t.options.animation;Rr(e&&e.onProgress,[n],t)}function f8(n){return Gb()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Y1={},h8=n=>{const t=f8(n);return Object.values(Y1).filter(e=>e.canvas===t).pop()};function Vee(n,t,e){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=t){const s=n[i];delete n[i],(e>0||o>t)&&(n[o+e]=s)}}}let Z1=(()=>class n{static defaults=Vr;static instances=Y1;static overrides=su;static registry=qa;static version="4.5.0";static getChart=h8;static register(...e){qa.add(...e),p8()}static unregister(...e){qa.remove(...e),p8()}constructor(e,r){const i=this.config=new Nee(r),o=f8(e),s=h8(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function iee(n){return!Gb()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?GJ:ree}(o)),this.platform.updateConfig(i);const c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,h=l&&l.height,g=l&&l.width;this.id=BK(),this.ctx=c,this.canvas=l,this.width=g,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wee,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function tQ(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],Y1[this.id]=this,c&&l?(Ic.listen(this,"complete",d8),Ic.listen(this,"progress",Bee),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Bn(e)?r&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():v4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return s4(this.canvas,this.ctx),this}stop(){return Ic.stop(this),this}resize(e,r){Ic.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,a=this.platform.getMaximumSize(this.canvas,e,r,i.maintainAspectRatio&&this.aspectRatio),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,v4(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Rr(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){mr(this.options.scales||{},(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const c=r[a],l=r2(a,c),h="r"===l,g="x"===l;return{options:c,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),mr(s,a=>{const c=a.options,l=c.id,h=r2(l,c),g=hn(c.type,a.dtype);(void 0===c.position||l8(c.position,h)!==l8(a.dposition))&&(c.position=a.dposition),o[l]=!0;let y=null;l in i&&i[l].type===g?y=i[l]:(y=new(qa.getScale(g))({id:l,type:g,ctx:this.ctx,chart:this}),i[y.id]=y),y.init(c,e)}),mr(o,(a,c)=>{a||delete i[c]}),mr(i,a=>{bo.configure(this,a,a.options),bo.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(u8("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,o)=>{0===r.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){const s=r[i];let a=this.getDatasetMeta(i);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||n2(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=qa.getController(c),{datasetElementType:h,dataElementType:g}=Vr.datasets[c];Object.assign(l,{dataElementType:qa.getElement(g),datasetElementType:h&&qa.getElement(h)}),a.controller=new l(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){mr(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:y}=this.getDatasetMeta(h),_=!o&&-1===s.indexOf(y);y.buildOrUpdateElements(_),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||mr(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(u8("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){mr(this.scales,e=>{bo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!HR(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of r)Vee(e,o,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!HR(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;bo.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],mr(this.boxes,o=>{i&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,cl(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ic.has(this)?this.attached&&!Ic.running(this)&&Ic.start(this):(this.draw(),d8({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let o,s;for(o=0,s=r.length;o<s;++o){const a=r[o];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=I4(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(o&&k1(r,o),e.controller.draw(),o&&F1(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Sc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,o){const s=LJ.modes[r];return"function"==typeof s?s(this,e,i,o):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!r.hidden}setDatasetVisibility(e,r){this.getDatasetMeta(e).hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,o);up(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ic.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),s4(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Y1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};mr(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(l,h)=>{r.addEventListener(this,l,h),e[l]=h},o=(l,h)=>{e[l]&&(r.removeEventListener(this,l,h),delete e[l])},s=(l,h)=>{this.canvas&&this.resize(l,h)};let a;const c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){mr(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},mr(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const o=i?"set":"remove";let s,a,c,l;for("dataset"===r&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=e.length;c<l;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!M1(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(r=>r.plugin.id===e).length}_updateHoverStyles(e,r,i){const o=this.options.hover,s=(l,h)=>l.filter(g=>!h.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),a=s(r,e),c=i?e:s(e,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,o))return;const s=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,i,r),l=function WK(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),h=function Uee(n,t,e,r){return e&&"mouseout"!==n.type?r?t:n:null}(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Rr(s.onHover,[e,c,this],this),l&&Rr(s.onClick,[e,c,this],this));const g=!M1(c,o);return(g||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=h,g}_getActiveElements(e,r,i,o){if("mouseout"===e.type)return[];if(!i)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function p8(){return mr(Z1.instances,n=>n._plugins.invalidate())}function Qd(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function q1(n,t,e,r,i,o){const{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:h}=t,g=Math.max(t.outerRadius+r+e-l,0),y=h>0?h+r+e+l:0;let _=0;const w=i-c;if(r){const Mt=((h>0?h-r:0)+(g>0?g-r:0))/2;_=(w-(0!==Mt?w*Mt/(Mt+r):w))/2}const D=(w-Math.max(.001,w*g-e/Jn)/g)/2,P=c+D+_,O=i-D-_,{outerStart:G,outerEnd:Z,innerStart:oe,innerEnd:fe}=function Wee(n,t,e,r){const i=function zee(n){return jb(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,s=Math.min(o,r*t/2),a=c=>{const l=(e-Math.min(o,c))*r/2;return Hi(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Hi(i.innerStart,0,s),innerEnd:Hi(i.innerEnd,0,s)}}(t,y,g,O-P),Ie=g-G,Re=g-Z,et=P+G/Ie,dt=O-Z/Re,Vt=y+oe,Nt=y+fe,sn=P+oe/Vt,yr=O-fe/Nt;if(n.beginPath(),o){const Sn=(et+dt)/2;if(n.arc(s,a,g,et,Sn),n.arc(s,a,g,Sn,dt),Z>0){const rn=Qd(Re,dt,s,a);n.arc(rn.x,rn.y,Z,dt,O+mi)}const _t=Qd(Nt,O,s,a);if(n.lineTo(_t.x,_t.y),fe>0){const rn=Qd(Nt,yr,s,a);n.arc(rn.x,rn.y,fe,O+mi,yr+Math.PI)}const Mt=(O-fe/y+(P+oe/y))/2;if(n.arc(s,a,y,O-fe/y,Mt,!0),n.arc(s,a,y,Mt,P+oe/y,!0),oe>0){const rn=Qd(Vt,sn,s,a);n.arc(rn.x,rn.y,oe,sn+Math.PI,P-mi)}const jt=Qd(Ie,P,s,a);if(n.lineTo(jt.x,jt.y),G>0){const rn=Qd(Ie,et,s,a);n.arc(rn.x,rn.y,G,P-mi,et)}}else{n.moveTo(s,a);const Sn=Math.cos(et)*g+s,_t=Math.sin(et)*g+a;n.lineTo(Sn,_t);const Mt=Math.cos(dt)*g+s,jt=Math.sin(dt)*g+a;n.lineTo(Mt,jt)}n.closePath()}function g8(n,t,e=t){n.lineCap=hn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(hn(e.borderDash,t.borderDash)),n.lineDashOffset=hn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=hn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=hn(e.borderWidth,t.borderWidth),n.strokeStyle=hn(e.borderColor,t.borderColor)}function Yee(n,t,e){n.lineTo(e.x,e.y)}function m8(n,t,e={}){const r=n.length,{start:i=0,end:o=r-1}=e,{start:s,end:a}=t,c=Math.max(i,s),l=Math.min(o,a);return{count:r,start:c,loop:t.loop,ilen:l<c&&!(i<s&&o<s||i>a&&o>a)?r+l-c:l-c}}function qee(n,t,e,r){const{points:i,options:o}=t,{count:s,start:a,loop:c,ilen:l}=m8(i,e,r),h=function Zee(n){return n.stepped?hQ:n.tension||"monotone"===n.cubicInterpolationMode?pQ:Yee}(o);let _,w,C,{move:g=!0,reverse:y}=r||{};for(_=0;_<=l;++_)w=i[(a+(y?l-_:_))%s],!w.skip&&(g?(n.moveTo(w.x,w.y),g=!1):h(n,C,w,y,o.stepped),C=w);return c&&(w=i[(a+(y?l:0))%s],h(n,C,w,y,o.stepped)),!!c}function Kee(n,t,e,r){const i=t.points,{count:o,start:s,ilen:a}=m8(i,e,r),{move:c=!0,reverse:l}=r||{};let y,_,w,C,D,P,h=0,g=0;const O=Z=>(s+(l?a-Z:Z))%o,G=()=>{C!==D&&(n.lineTo(h,D),n.lineTo(h,C),n.lineTo(h,P))};for(c&&(_=i[O(0)],n.moveTo(_.x,_.y)),y=0;y<=a;++y){if(_=i[O(y)],_.skip)continue;const Z=_.x,oe=_.y,fe=0|Z;fe===w?(oe<C?C=oe:oe>D&&(D=oe),h=(g*h+Z)/++g):(G(),n.lineTo(Z,oe),w=fe,g=0,C=D=oe),P=oe}G()}function o2(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?qee:Kee}const tte="function"==typeof Path2D;let K1=(()=>class n extends Dc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(BQ(this._points,i,e,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function JQ(n,t){const e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];const o=!!n._loop,{start:s,end:a}=function KQ(n,t,e,r){let i=0,o=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(o+=i);o>i&&n[o%t].skip;)o--;return o%=t,{start:i,end:o}}(e,i,o,r);return function A4(n,t,e,r){return r&&r.setContext&&e?function eJ(n,t,e,r){const i=n._chart.getContext(),o=S4(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=e.length,l=[];let h=o,g=t[0].start,y=g;function _(w,C,D,P){const O=a?-1:1;if(w!==C){for(w+=c;e[w%c].skip;)w-=O;for(;e[C%c].skip;)C+=O;w%c!=C%c&&(l.push({start:w%c,end:C%c,loop:D,style:P}),h=P,g=C%c)}}for(const w of t){g=a?g:w.start;let D,C=e[g%c];for(y=g+1;y<=w.end;y++){const P=e[y%c];D=S4(r.setContext(ul(i,{type:"segment",p0:C,p1:P,p0DataIndex:(y-1)%c,p1DataIndex:y%c,datasetIndex:s}))),tJ(D,h)&&_(g,y-1,w.loop,h),C=P,h=D}g<y-1&&_(g,y-1,w.loop,h)}return l}(n,t,e,r):t}(n,!0===r?[{start:s,end:a,loop:o}]:function QQ(n,t,e,r){const i=n.length,o=[];let c,s=t,a=n[t];for(c=t+1;c<=e;++c){const l=n[c%i];l.skip||l.stop?a.skip||(o.push({start:t%i,end:(c-1)%i,loop:r=!1}),t=s=l.stop?c:null):(s=c,a.skip&&(t=c)),a=l}return null!==s&&o.push({start:t%i,end:s%i,loop:r}),o}(e,s,a<s?a+i:a,!!n._fullLoop&&0===s&&a===i-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,i=e.length;return i&&this.points[e[i-1].end]}interpolate(e,r){const i=this.options,o=e[r],s=this.points,a=E4(this,{property:r,start:o,end:o});if(!a.length)return;const c=[],l=function Qee(n){return n.stepped?XQ:n.tension||"monotone"===n.cubicInterpolationMode?$Q:fu}(i);let h,g;for(h=0,g=a.length;h<g;++h){const{start:y,end:_}=a[h],w=s[y],C=s[_];if(w===C){c.push(w);continue}const P=l(w,C,Math.abs((o-w[r])/(C[r]-w[r])),i.stepped);P[r]=e[r],c.push(P)}return 1===c.length?c[0]:c}pathSegment(e,r,i){return o2(this)(e,this,r,i)}path(e,r,i){const o=this.segments,s=o2(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const c of o)a&=s(e,this,c,{start:r,end:r+i-1});return!!a}draw(e,r,i,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function nte(n,t,e,r){tte&&!t.options.segment?function Jee(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),g8(n,t.options),n.stroke(i)}(n,t,e,r):function ete(n,t,e,r){const{segments:i,options:o}=t,s=o2(t);for(const a of i)g8(n,o,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}(n,t,e,r)}(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function v8(n,t,e,r){const i=n.options,{[e]:o}=n.getProps([e],r);return Math.abs(t-o)<i.radius+i.hitRadius}let rte=(()=>class n extends Dc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,r){return v8(this,e,"x",r)}inYRange(e,r){return v8(this,e,"y",r)}getCenterPoint(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){let r=(e=e||this.options||{}).radius||0;return r=Math.max(r,r&&e.hoverRadius||0),2*(r+(r&&e.borderWidth||0))}draw(e,r){const i=this.options;this.skip||i.radius<.1||!Sc(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Ub(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function y8(n,t){const{x:e,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],t);let a,c,l,h,g;return n.horizontal?(g=s/2,a=Math.min(e,i),c=Math.max(e,i),l=r-g,h=r+g):(g=o/2,a=e-g,c=e+g,l=Math.min(r,i),h=Math.max(r,i)),{left:a,top:l,right:c,bottom:h}}function fl(n,t,e,r){return n?0:Hi(t,e,r)}function s2(n,t,e,r){const i=null===t,o=null===e,a=n&&!(i&&o)&&y8(n,r);return a&&(i||Ec(t,a.left,a.right))&&(o||Ec(e,a.top,a.bottom))}function cte(n,t){n.rect(t.x,t.y,t.w,t.h)}function a2(n,t,e={}){const r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-r),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-i),radius:n.radius}}var ute=Object.freeze({__proto__:null,ArcElement:class $ee extends Dc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){const i=this.getProps(["x","y"],r),{angle:o,distance:s}=$R(i,{x:t,y:e}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:h,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,_=hn(g,c-a),w=fp(o,a,c)&&a!==c,C=_>=Br||w,D=Ec(s,l+y,h+y);return C&&D}getCenterPoint(t){const{x:e,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:l}=this.options,h=(i+o)/2,g=(s+a+l+c)/2;return{x:e+Math.cos(h)*g,y:r+Math.sin(h)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:r}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=r>Br?Math.floor(r/Br):0,0===r||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*i,Math.sin(a)*i);const l=i*(1-Math.sin(Math.min(Jn,r||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function Gee(n,t,e,r,i){const{fullCircles:o,startAngle:s,circumference:a}=t;let c=t.endAngle;if(o){q1(n,t,e,r,c,i);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%Br||Br))}q1(n,t,e,r,c,i),n.fill()}(t,this,l,o,s),function Xee(n,t,e,r,i){const{fullCircles:o,startAngle:s,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:h,borderDash:g,borderDashOffset:y,borderRadius:_}=c,w="inner"===c.borderAlign;if(!l)return;n.setLineDash(g||[]),n.lineDashOffset=y,w?(n.lineWidth=2*l,n.lineJoin=h||"round"):(n.lineWidth=l,n.lineJoin=h||"bevel");let C=t.endAngle;if(o){q1(n,t,e,r,C,i);for(let D=0;D<o;++D)n.stroke();isNaN(a)||(C=s+(a%Br||Br))}w&&function Hee(n,t,e){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=t;let l=i/a;n.beginPath(),n.arc(o,s,a,r-l,e+l),c>i?(l=i/c,n.arc(o,s,c,e+l,r-l,!0)):n.arc(o,s,i,e+mi,r-mi),n.closePath(),n.clip()}(n,t,C),c.selfJoin&&C-s>=Jn&&0===_&&"miter"!==h&&function jee(n,t,e){const{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=t,{borderWidth:l,borderJoinStyle:h}=c,g=Math.min(l/s,yo(r-e));if(n.beginPath(),n.arc(i,o,s-l/2,r+g/2,e-g/2),a>0){const y=Math.min(l/a,yo(r-e));n.arc(i,o,a+l/2,e-y/2,r+y/2,!0)}else{const y=Math.min(l/2,s*yo(r-e));if("round"===h)n.arc(i,o,y,e-Jn/2,r+Jn/2,!0);else if("bevel"===h){const _=2*y*y,w=-_*Math.cos(e+Jn/2)+i,C=-_*Math.sin(e+Jn/2)+o,D=_*Math.cos(r+Jn/2)+i,P=_*Math.sin(r+Jn/2)+o;n.lineTo(w,C),n.lineTo(D,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}(n,t,C),o||(q1(n,t,e,r,C,i),n.stroke())}(t,this,l,o,s),t.restore()}},BarElement:class lte extends Dc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=function ste(n){const t=y8(n),e=t.right-t.left,r=t.bottom-t.top,i=function ite(n,t,e){const i=n.borderSkipped,o=c4(n.options.borderWidth);return{t:fl(i.top,o.top,0,e),r:fl(i.right,o.right,0,t),b:fl(i.bottom,o.bottom,0,e),l:fl(i.left,o.left,0,t)}}(n,e/2,r/2),o=function ote(n,t,e){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=lu(i),s=Math.min(t,e),a=n.borderSkipped,c=r||jn(i);return{topLeft:fl(!c||a.top||a.left,o.topLeft,0,s),topRight:fl(!c||a.top||a.right,o.topRight,0,s),bottomLeft:fl(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:fl(!c||a.bottom||a.right,o.bottomRight,0,s)}}(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}(this),a=function ate(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(s.radius)?mp:cte;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,a2(s,e,o)),t.clip(),a(t,a2(o,-e,s)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,a2(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return s2(this,t,e,r)}inXRange(t,e){return s2(this,t,null,e)}inYRange(t,e){return s2(this,null,t,e)}getCenterPoint(t){const{x:e,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?r:(r+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:K1,PointElement:rte});const c2=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_8=c2.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function x8(n){return c2[n%c2.length]}function b8(n){return _8[n%_8.length]}function w8(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var vte={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=w8(r)||function gte(n){return n&&(n.borderColor||n.backgroundColor)}(i)||o&&w8(o)||function mte(){return"rgba(0,0,0,0.1)"!==Vr.borderColor||"rgba(0,0,0,0.1)"!==Vr.backgroundColor}();if(!e.forceOverride&&s)return;const a=function pte(n){let t=0;return(e,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof Kb?t=function fte(n,t){return n.backgroundColor=n.data.map(()=>x8(t++)),t}(e,t):i instanceof U4?t=function hte(n,t){return n.backgroundColor=n.data.map(()=>b8(t++)),t}(e,t):i&&(t=function dte(n,t){return n.borderColor=x8(t),n.backgroundColor=b8(t),++t}(e,t))}}(n);r.forEach(a)}};function C8(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function E8(n){n.data.datasets.forEach(t=>{C8(t)})}var bte={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void E8(n);const r=n.width;n.data.datasets.forEach((i,o)=>{const{_data:s,indexAxis:a}=i,c=n.getDatasetMeta(o),l=s||i.data;if("y"===vp([a,n.options.indexAxis])||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let w,{start:g,count:y}=function xte(n,t){const e=t.length;let i,r=0;const{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=Hi(Ac(t,o.axis,s).lo,0,e-1)),i=l?Hi(Ac(t,o.axis,a).hi+1,r,e)-r:e-r,{start:r,count:i}}(c,l);if(y<=(e.threshold||4*r))C8(i);else{switch(Bn(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}})),e.algorithm){case"lttb":w=function yte(n,t,e,r,i){const o=i.samples||r;if(o>=e)return n.slice(t,t+e);const s=[],a=(e-2)/(o-2);let c=0;const l=t+e-1;let g,y,_,w,C,h=t;for(s[c++]=n[h],g=0;g<o-2;g++){let O,D=0,P=0;const G=Math.floor((g+1)*a)+1+t,Z=Math.min(Math.floor((g+2)*a)+1,e)+t,oe=Z-G;for(O=G;O<Z;O++)D+=n[O].x,P+=n[O].y;D/=oe,P/=oe;const fe=Math.floor(g*a)+1+t,Ie=Math.min(Math.floor((g+1)*a)+1,e)+t,{x:Re,y:et}=n[h];for(_=w=-1,O=fe;O<Ie;O++)w=.5*Math.abs((Re-D)*(n[O].y-et)-(Re-n[O].x)*(P-et)),w>_&&(_=w,y=n[O],C=O);s[c++]=y,h=C}return s[c++]=n[l],s}(l,g,y,r,e);break;case"min-max":w=function _te(n,t,e,r){let s,a,c,l,h,g,y,_,w,C,i=0,o=0;const D=[],O=n[t].x,Z=n[t+e-1].x-O;for(s=t;s<t+e;++s){a=n[s],c=(a.x-O)/Z*r,l=a.y;const oe=0|c;if(oe===h)l<w?(w=l,g=s):l>C&&(C=l,y=s),i=(o*i+a.x)/++o;else{const fe=s-1;if(!Bn(g)&&!Bn(y)){const Ie=Math.min(g,y),Re=Math.max(g,y);Ie!==_&&Ie!==fe&&D.push({...n[Ie],x:i}),Re!==_&&Re!==fe&&D.push({...n[Re],x:i})}s>0&&fe!==_&&D.push(n[fe]),D.push(a),h=oe,o=0,w=C=l,g=y=_=s}}return D}(l,g,y,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=w}})},destroy(n){E8(n)}};function l2(n,t,e,r){if(r)return;let i=t[n],o=e[n];return"angle"===n&&(i=yo(i),o=yo(o)),{property:n,start:i,end:o}}function Q1(n,t,e){for(;t>n;t--){const r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function A8(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function S8(n,t){let e=[],r=!1;return Lr(n)?(r=!0,e=n):e=function Cte(n,t){const{x:e=null,y:r=null}=n||{},i=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=Q1(s,a,i);const c=i[s],l=i[a];null!==r?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:l.y}))}),o}(n,t),e.length?new K1({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function I8(n){return n&&!1!==n.fill}function Ete(n,t,e){let i=n[t].fill;const o=[t];let s;if(!e)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!li(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function Ate(n,t,e){const r=function Mte(n){const t=n.options,e=t.fill;let r=hn(e&&e.target,e);return void 0===r&&(r=!!t.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(jn(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return li(i)&&Math.floor(i)===i?function Ste(n,t,e,r){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=r)&&e}(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Rte(n,t,e){const r=[];for(let i=0;i<e.length;i++){const o=e[i],{first:s,last:a,point:c}=Nte(o,t,"x");if(!(!c||s&&a))if(s)r.unshift(c);else if(n.push(c),!a)break}n.push(...r)}function Nte(n,t,e){const r=n.interpolate(t,e);if(!r)return{};const i=r[e],o=n.segments,s=n.points;let a=!1,c=!1;for(let l=0;l<o.length;l++){const h=o[l],g=s[h.start][e],y=s[h.end][e];if(Ec(i,g,y)){a=i===g,c=i===y;break}}return{first:a,last:c,point:r}}class D8{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:i,y:o,radius:s}=this;return t.arc(i,o,s,(e=e||{start:0,end:Br}).end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function u2(n,t,e){const r=function Pte(n){const{chart:t,fill:e,line:r}=n;if(li(e))return function kte(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Tte(n){const{scale:t,index:e,line:r}=n,i=[],o=r.segments,s=r.points,a=function Ote(n,t){const e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);a.push(S8({x:null,y:t.bottom},r));for(let c=0;c<o.length;c++){const l=o[c];for(let h=l.start;h<=l.end;h++)Rte(i,s[h],a)}return new K1({points:i,options:{}})}(n);if("shape"===e)return!0;const i=function Fte(n){return(n.scale||{}).getPointPositionForValue?function Bte(n){const{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=function Dte(n,t,e){let r;return r="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:jn(n)?n.value:t.getBaseValue(),r}(e,t,o),a=[];if(r.grid.circular){const c=t.getPointPositionForValue(0,o);return new D8({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(t.getPointPositionForValue(c,s));return a}(n):function Lte(n){const{scale:t={},fill:e}=n,r=function Ite(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:jn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(li(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof D8?i:S8(i,r)}(t),{chart:i,index:o,line:s,scale:a,axis:c}=t,l=s.options,h=l.fill,g=l.backgroundColor,{above:y=g,below:_=g}=h||{},w=i.getDatasetMeta(o),C=I4(i,w);r&&s.points.length&&(k1(n,e),function Vte(n,t){const{line:e,target:r,above:i,below:o,area:s,scale:a,clip:c}=t,l=e._loop?"angle":t.axis;n.save();let h=o;o!==i&&("x"===l?(M8(n,r,s.top),d2(n,{line:e,target:r,color:i,scale:a,property:l,clip:c}),n.restore(),n.save(),M8(n,r,s.bottom)):"y"===l&&(T8(n,r,s.left),d2(n,{line:e,target:r,color:o,scale:a,property:l,clip:c}),n.restore(),n.save(),T8(n,r,s.right),h=i)),d2(n,{line:e,target:r,color:h,scale:a,property:l,clip:c}),n.restore()}(n,{line:s,target:r,above:y,below:_,area:e,scale:a,axis:c,clip:C}),F1(n))}function M8(n,t,e){const{segments:r,points:i}=t;let o=!0,s=!1;n.beginPath();for(const a of r){const{start:c,end:l}=a,h=i[c],g=i[Q1(c,l,i)];o?(n.moveTo(h.x,h.y),o=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(g.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function T8(n,t,e){const{segments:r,points:i}=t;let o=!0,s=!1;n.beginPath();for(const a of r){const{start:c,end:l}=a,h=i[c],g=i[Q1(c,l,i)];o?(n.moveTo(h.x,h.y),o=!1):(n.lineTo(e,h.y),n.lineTo(h.x,h.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(e,g.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function d2(n,t){const{line:e,target:r,property:i,color:o,scale:s,clip:a}=t,c=function wte(n,t,e){const r=n.segments,i=n.points,o=t.points,s=[];for(const a of r){let{start:c,end:l}=a;l=Q1(c,l,i);const h=l2(e,i[c],i[l],a.loop);if(!t.segments){s.push({source:a,target:h,start:i[c],end:i[l]});continue}const g=E4(t,h);for(const y of g){const _=l2(e,o[y.start],o[y.end],y.loop),w=C4(a,i,_);for(const C of w)s.push({source:C,target:y,start:{[e]:A8(h,_,"start",Math.max)},end:{[e]:A8(h,_,"end",Math.min)}})}}return s}(e,r,i);for(const{source:l,target:h,start:g,end:y}of c){const{style:{backgroundColor:_=o}={}}=l,w=!0!==r;n.save(),n.fillStyle=_,Ute(n,s,a,w&&l2(i,g,y)),n.beginPath();const C=!!e.pathSegment(n,l);let D;if(w){C?n.closePath():O8(n,r,y,i);const P=!!r.pathSegment(n,h,{move:C,reverse:!0});D=C&&P,D||O8(n,r,g,i)}n.closePath(),n.fill(D?"evenodd":"nonzero"),n.restore()}}function Ute(n,t,e,r){const i=t.chart.chartArea,{property:o,start:s,end:a}=r||{};if("x"===o||"y"===o){let c,l,h,g;"x"===o?(c=s,l=i.top,h=a,g=i.bottom):(c=i.left,l=s,h=i.right,g=a),n.beginPath(),e&&(c=Math.max(c,e.left),h=Math.min(h,e.right),l=Math.max(l,e.top),g=Math.min(g,e.bottom)),n.rect(c,l,h-c,g-l),n.clip()}}function O8(n,t,e,r){const i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var jte={id:"filler",afterDatasetsUpdate(n,t,e){const r=(n.data.datasets||[]).length,i=[];let o,s,a,c;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof K1&&(c={visible:n.isDatasetVisible(s),index:s,fill:Ate(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],c&&!1!==c.fill&&(c.fill=Ete(i,s,e.propagate))},beforeDraw(n,t,e){const r="beforeDraw"===e.drawTime,i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&u2(n.ctx,a,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;I8(o)&&u2(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const r=t.meta.$filler;!I8(r)||"beforeDatasetDraw"!==e.drawTime||u2(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const R8=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}};class N8 extends Dc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Rr(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const r=t.labels,i=Pi(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=R8(r,o);let l,h;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(s,o,a,c)+10):(h=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],h=i+a;let g=t;o.textAlign="left",o.textBaseline="middle";let y=-1,_=-h;return this.legendItems.forEach((w,C)=>{const D=r+e/2+o.measureText(w.text).width;(0===C||l[l.length-1]+D+2*a>s)&&(g+=h,l[l.length-(C>0?0:1)]=0,_+=h,y++),c[C]={left:0,top:_,row:y,width:D,height:i},l[l.length-1]+=D+a}),g}_fitCols(t,e,r,i){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],h=s-t;let g=a,y=0,_=0,w=0,C=0;return this.legendItems.forEach((D,P)=>{const{itemWidth:O,itemHeight:G}=function zte(n,t,e,r,i){const o=function Wte(n,t,e,r){let i=n.text;return i&&"string"!=typeof i&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),t+e.size/2+r.measureText(i).width}(r,n,t,e),s=function Gte(n,t,e){let r=n;return"string"!=typeof t.text&&(r=P8(t,e)),r}(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}(r,e,o,D,i);P>0&&_+G+2*a>h&&(g+=y+a,l.push({width:y,height:_}),w+=y+a,C++,y=_=0),c[P]={left:w,top:_,col:C,width:O,height:G},y=Math.max(y,O),_+=G+a}),g+=y,l.push({width:y,height:_}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:o}}=this,s=Kd(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=_o(r,this.left+i,this.right-this.lineWidths[a]);for(const l of e)a!==l.row&&(a=l.row,c=_o(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+t+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=_o(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const l of e)l.col!==a&&(a=l.col,c=_o(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;k1(t,this),this._draw(),F1(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:o,labels:s}=t,a=Vr.color,c=Kd(t.rtl,this.left,this.width),l=Pi(s.font),{padding:h}=s,g=l.size,y=g/2;let _;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:w,boxHeight:C,itemHeight:D}=R8(s,g),G=this.isHorizontal(),Z=this._computeTitleHeight();_=G?{x:_o(o,this.left+h,this.right-r[0]),y:this.top+h+Z,line:0}:{x:this.left+h,y:_o(o,this.top+Z+h,this.bottom-e[0].height),line:0},_4(this.ctx,t.textDirection);const oe=D+h;this.legendItems.forEach((fe,Ie)=>{i.strokeStyle=fe.fontColor,i.fillStyle=fe.fontColor;const Re=i.measureText(fe.text).width,et=c.textAlign(fe.textAlign||(fe.textAlign=s.textAlign)),dt=w+y+Re;let Vt=_.x,Nt=_.y;c.setWidth(this.width),G?Ie>0&&Vt+dt+h>this.right&&(Nt=_.y+=oe,_.line++,Vt=_.x=_o(o,this.left+h,this.right-r[_.line])):Ie>0&&Nt+oe>this.bottom&&(Vt=_.x=Vt+e[_.line].width+h,_.line++,Nt=_.y=_o(o,this.top+Z+h,this.bottom-e[_.line].height)),function(fe,Ie,Re){if(isNaN(w)||w<=0||isNaN(C)||C<0)return;i.save();const et=hn(Re.lineWidth,1);if(i.fillStyle=hn(Re.fillStyle,a),i.lineCap=hn(Re.lineCap,"butt"),i.lineDashOffset=hn(Re.lineDashOffset,0),i.lineJoin=hn(Re.lineJoin,"miter"),i.lineWidth=et,i.strokeStyle=hn(Re.strokeStyle,a),i.setLineDash(hn(Re.lineDash,[])),s.usePointStyle){const dt={radius:C*Math.SQRT2/2,pointStyle:Re.pointStyle,rotation:Re.rotation,borderWidth:et},Vt=c.xPlus(fe,w/2);a4(i,dt,Vt,Ie+y,s.pointStyleWidth&&w)}else{const dt=Ie+Math.max((g-C)/2,0),Vt=c.leftForLtr(fe,w),Nt=lu(Re.borderRadius);i.beginPath(),Object.values(Nt).some(sn=>0!==sn)?mp(i,{x:Vt,y:dt,w,h:C,radius:Nt}):i.rect(Vt,dt,w,C),i.fill(),0!==et&&i.stroke()}i.restore()}(c.x(Vt),Nt,fe),Vt=((n,t,e,r)=>n===(r?"left":"right")?e:"center"===n?(t+e)/2:t)(et,Vt+w+y,G?Vt+dt:this.right,t.rtl),function(fe,Ie,Re){cu(i,Re.text,fe,Ie+D/2,l,{strikethrough:Re.hidden,textAlign:c.textAlign(Re.textAlign)})}(c.x(Vt),Nt,fe),G?_.x+=dt+h:_.y+="string"!=typeof fe.text?P8(fe,l.lineHeight)+h:oe}),x4(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,r=Pi(e.font),i=xo(e.padding);if(!e.display)return;const o=Kd(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=i.top+r.size/2;let h,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),h=this.top+l,g=_o(t.align,g,this.right-y);else{const w=this.columnSizes.reduce((C,D)=>Math.max(C,D.height),0);h=l+_o(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const _=_o(a,g,g+y);s.textAlign=o.textAlign(kb(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=r.string,cu(s,e.text,_,h,r)}_computeTitleHeight(){const t=this.options.title,e=Pi(t.font),r=xo(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,o;if(Ec(t,this.left,this.right)&&Ec(e,this.top,this.bottom))for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ec(t,i.left,i.left+i.width)&&Ec(e,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(t){const e=this.options;if(!function Xte(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const r=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(i,r);i&&!o&&Rr(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!o&&Rr(e.onHover,[t,r,this],this)}else r&&Rr(e.onClick,[t,r,this],this)}}function P8(n,t){return t*(n.text?n.text.length:0)}var $te={id:"legend",_element:N8,start(n,t,e){const r=n.legend=new N8({ctx:n.ctx,options:e,chart:n});bo.configure(n,r,e),bo.addBox(n,r)},stop(n){bo.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const r=n.legend;bo.configure(n,r,e),r.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(e?0:void 0),h=xo(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class f2 extends Dc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Lr(r.text)?r.text.length:1;this._padding=xo(r.padding);const o=i*Pi(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:r,bottom:i,right:o,options:s}=this,a=s.align;let l,h,g,c=0;return this.isHorizontal()?(h=_o(a,r,o),g=e+t,l=o-r):("left"===s.position?(h=r+t,g=_o(a,i,e),c=-.5*Jn):(h=o-t,g=_o(a,e,i),c=.5*Jn),l=i-e),{titleX:h,titleY:g,maxWidth:l,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const r=Pi(e.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);cu(t,e.text,0,0,r,{color:e.color,maxWidth:c,rotation:l,textAlign:kb(e.align),textBaseline:"middle",translation:[s,a]})}}var Zte={id:"title",_element:f2,start(n,t,e){!function Yte(n,t){const e=new f2({ctx:n.ctx,options:t,chart:n});bo.configure(n,e,t),bo.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){bo.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const r=n.titleBlock;bo.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const J1=new WeakMap;var qte={id:"subtitle",start(n,t,e){const r=new f2({ctx:n.ctx,options:e,chart:n});bo.configure(n,r,e),bo.addBox(n,r),J1.set(n,r)},stop(n){bo.removeBox(n,J1.get(n)),J1.delete(n)},beforeUpdate(n,t,e){const r=J1.get(n);bo.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sp={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,o=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return 0!==o&&0!==r.size&&{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(n,t){if(!n.length)return!1;let o,s,a,e=t.x,r=t.y,i=Number.POSITIVE_INFINITY;for(o=0,s=n.length;o<s;++o){const c=n[o].element;if(c&&c.hasValue()){const h=Nb(t,c.getCenterPoint());h<i&&(i=h,a=c)}}if(a){const c=a.tooltipPosition();e=c.x,r=c.y}return{x:e,y:r}}};function Ka(n,t){return t&&(Lr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Mc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Kte(n,t){const{element:e,datasetIndex:r,index:i}=t,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function k8(n,t){const e=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=t,c=Pi(t.bodyFont),l=Pi(t.titleFont),h=Pi(t.footerFont),g=o.length,y=i.length,_=r.length,w=xo(t.padding);let C=w.height,D=0,P=r.reduce((Z,oe)=>Z+oe.before.length+oe.lines.length+oe.after.length,0);P+=n.beforeBody.length+n.afterBody.length,g&&(C+=g*l.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),P&&(C+=_*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(P-_)*c.lineHeight+(P-1)*t.bodySpacing),y&&(C+=t.footerMarginTop+y*h.lineHeight+(y-1)*t.footerSpacing);let O=0;const G=function(Z){D=Math.max(D,e.measureText(Z).width+O)};return e.save(),e.font=l.string,mr(n.title,G),e.font=c.string,mr(n.beforeBody.concat(n.afterBody),G),O=t.displayColors?s+2+t.boxPadding:0,mr(r,Z=>{mr(Z.before,G),mr(Z.lines,G),mr(Z.after,G)}),O=0,e.font=h.string,mr(n.footer,G),e.restore(),D+=w.width,{width:D,height:C}}function ene(n,t,e,r){const{x:i,width:o}=e,{width:s,chartArea:{left:a,right:c}}=n;let l="center";return"center"===r?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),function Jte(n,t,e,r){const{x:i,width:o}=r,s=e.caretSize+e.caretPadding;if("left"===n&&i+o+s>t.width||"right"===n&&i-o-s<0)return!0}(l,n,t,e)&&(l="center"),l}function F8(n,t,e){const r=e.yAlign||t.yAlign||function Qte(n,t){const{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||ene(n,t,e,r),yAlign:r}}function L8(n,t,e,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=e,l=i+o,{topLeft:h,topRight:g,bottomLeft:y,bottomRight:_}=lu(s);let w=function tne(n,t){let{x:e,width:r}=n;return"right"===t?e-=r:"center"===t&&(e-=r/2),e}(t,a);const C=function nne(n,t,e){let{y:r,height:i}=n;return"top"===t?r+=e:r-="bottom"===t?i+e:i/2,r}(t,c,l);return"center"===c?"left"===a?w+=l:"right"===a&&(w-=l):"left"===a?w-=Math.max(h,y)+i:"right"===a&&(w+=Math.max(g,_)+i),{x:Hi(w,0,r.width-t.width),y:Hi(C,0,r.height-t.height)}}function em(n,t,e){const r=xo(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-r.right:n.x+r.left}function B8(n){return Ka([],Mc(n))}function V8(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const U8={beforeTitle:Cc,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:Cc,beforeBody:Cc,beforeLabel:Cc,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Bn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Cc,afterBody:Cc,beforeFooter:Cc,footer:Cc,afterFooter:Cc};function as(n,t,e,r){const i=n[t].call(e,r);return typeof i>"u"?U8[t].call(e,r):i}let j8=(()=>class n extends Dc{static positioners=Sp;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new M4(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function rne(n,t,e){return ul(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,o=as(i,"beforeTitle",this,e),s=as(i,"title",this,e),a=as(i,"afterTitle",this,e);let c=[];return c=Ka(c,Mc(o)),c=Ka(c,Mc(s)),c=Ka(c,Mc(a)),c}getBeforeBody(e,r){return B8(as(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,o=[];return mr(e,s=>{const a={before:[],lines:[],after:[]},c=V8(i,s);Ka(a.before,Mc(as(c,"beforeLabel",this,s))),Ka(a.lines,as(c,"label",this,s)),Ka(a.after,Mc(as(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(e,r){return B8(as(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,o=as(i,"beforeFooter",this,e),s=as(i,"footer",this,e),a=as(i,"afterFooter",this,e);let c=[];return c=Ka(c,Mc(o)),c=Ka(c,Mc(s)),c=Ka(c,Mc(a)),c}_createItems(e){const r=this._active,i=this.chart.data,o=[],s=[],a=[];let l,h,c=[];for(l=0,h=r.length;l<h;++l)c.push(Kte(this.chart,r[l]));return e.filter&&(c=c.filter((g,y,_)=>e.filter(g,y,_,i))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,i))),mr(c,g=>{const y=V8(e.callbacks,g);o.push(as(y,"labelColor",this,g)),s.push(as(y,"labelPointStyle",this,g)),a.push(as(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(e,r){const i=this.options.setContext(this.getContext()),o=this._active;let s,a=[];if(o.length){const c=Sp[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=k8(this,i),h=Object.assign({},c,l),g=F8(this.chart,i,h),y=L8(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,s={opacity:1,x:y.x,y:y.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,o){const s=this.getCaretPosition(e,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,i){const{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:h,bottomLeft:g,bottomRight:y}=lu(c),{x:_,y:w}=e,{width:C,height:D}=r;let P,O,G,Z,oe,fe;return"center"===s?(oe=w+D/2,"left"===o?(P=_,O=P-a,Z=oe+a,fe=oe-a):(P=_+C,O=P+a,Z=oe-a,fe=oe+a),G=P):(O="left"===o?_+Math.max(l,g)+a:"right"===o?_+C-Math.max(h,y)-a:this.caretX,"top"===s?(Z=w,oe=Z-a,P=O-a,G=O+a):(Z=w+D,oe=Z+a,P=O+a,G=O-a),fe=Z),{x1:P,x2:O,x3:G,y1:Z,y2:oe,y3:fe}}drawTitle(e,r,i){const o=this.title,s=o.length;let a,c,l;if(s){const h=Kd(i.rtl,this.x,this.width);for(e.x=em(this,i.titleAlign,i),r.textAlign=h.textAlign(i.titleAlign),r.textBaseline="middle",a=Pi(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,l+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,r,i,o,s){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:h}=s,g=Pi(s.bodyFont),y=em(this,"left",s),_=o.x(y),C=r.y+(l<g.lineHeight?(g.lineHeight-l)/2:0);if(s.usePointStyle){const D={radius:Math.min(h,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},P=o.leftForLtr(_,h)+h/2,O=C+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ub(e,D,P,O),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ub(e,D,P,O)}else{e.lineWidth=jn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const D=o.leftForLtr(_,h),P=o.leftForLtr(o.xPlus(_,1),h-2),O=lu(a.borderRadius);Object.values(O).some(G=>0!==G)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,mp(e,{x:D,y:C,w:h,h:l,radius:O}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),mp(e,{x:P,y:C+1,w:h-2,h:l-2,radius:O}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(D,C,h,l),e.strokeRect(D,C,h,l),e.fillStyle=a.backgroundColor,e.fillRect(P,C+1,h-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:h,boxPadding:g}=i,y=Pi(i.bodyFont);let _=y.lineHeight,w=0;const C=Kd(i.rtl,this.x,this.width),D=function(et){r.fillText(et,C.x(e.x+w),e.y+_/2),e.y+=_+s},P=C.textAlign(a);let O,G,Z,oe,fe,Ie,Re;for(r.textAlign=a,r.textBaseline="middle",r.font=y.string,e.x=em(this,P,i),r.fillStyle=i.bodyColor,mr(this.beforeBody,D),w=c&&"right"!==P?"center"===a?h/2+g:h+2+g:0,oe=0,Ie=o.length;oe<Ie;++oe){for(O=o[oe],G=this.labelTextColors[oe],r.fillStyle=G,mr(O.before,D),Z=O.lines,c&&Z.length&&(this._drawColorBox(r,e,oe,C,i),_=Math.max(y.lineHeight,l)),fe=0,Re=Z.length;fe<Re;++fe)D(Z[fe]),_=y.lineHeight;mr(O.after,D)}w=0,_=y.lineHeight,mr(this.afterBody,D),e.y-=s}drawFooter(e,r,i){const o=this.footer,s=o.length;let a,c;if(s){const l=Kd(i.rtl,this.x,this.width);for(e.x=em(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=Pi(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,r,i,o){const{xAlign:s,yAlign:a}=this,{x:c,y:l}=e,{width:h,height:g}=i,{topLeft:y,topRight:_,bottomLeft:w,bottomRight:C}=lu(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+y,l),"top"===a&&this.drawCaret(e,r,i,o),r.lineTo(c+h-_,l),r.quadraticCurveTo(c+h,l,c+h,l+_),"center"===a&&"right"===s&&this.drawCaret(e,r,i,o),r.lineTo(c+h,l+g-C),r.quadraticCurveTo(c+h,l+g,c+h-C,l+g),"bottom"===a&&this.drawCaret(e,r,i,o),r.lineTo(c+w,l+g),r.quadraticCurveTo(c,l+g,c,l+g-w),"center"===a&&"left"===s&&this.drawCaret(e,r,i,o),r.lineTo(c,l+y),r.quadraticCurveTo(c,l,c+y,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const a=Sp[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=k8(this,e),l=Object.assign({},a,this._size),h=F8(r,e,l),g=L8(e,l,h,r);(o._to!==g.x||s._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=xo(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,r),_4(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),x4(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,o=e.map(({datasetIndex:c,index:l})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[l],index:l}}),s=!M1(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,i),c=this._positionChanged(a,e),l=r||!M1(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,i,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:i,caretY:o,options:s}=this,a=Sp[s.position].call(this,e,r);return!1!==a&&(i!==a.x||o!==a.y)}})();var ine={id:"tooltip",_element:j8,positioners:Sp,afterInit(n,t,e){e&&(n.tooltip=new j8({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:U8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},one=Object.freeze({__proto__:null,Colors:vte,Decimation:bte,Filler:jte,Legend:$te,SubTitle:qte,Title:Zte,Tooltip:ine});function H8(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let lne=(()=>class n extends pu{static id="category";static defaults={ticks:{callback:H8}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Bn(e))return null;const i=this.getLabels();return((n,t)=>null===n?null:Hi(Math.round(n),0,t))(r=isFinite(r)&&i[r]===e?r:function ane(n,t,e,r){const i=n.indexOf(t);return-1===i?((n,t,e,r)=>("string"==typeof t?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,r):i!==n.lastIndexOf(t)?e:i}(i,e,hn(r,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,o=[];let s=this.getLabels();s=0===e&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=r;a++)o.push({value:a});return o}getLabelForValue(e){return H8.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function z8(n,t,{horizontal:e,minRotation:r}){const i=wa(r),o=(e?Math.sin(i):Math.cos(i))||.001;return Math.min(t/o,.75*t*(""+n).length)}class tm extends pu{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const s=c=>i=e?i:c,a=c=>o=r?o:c;if(t){const c=Za(i),l=Za(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=0===o?1:Math.abs(.05*o);a(o+c),t||s(i-c)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let i,{maxTicksLimit:e,stepSize:r}=t;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s=function une(n,t){const e=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:h,maxDigits:g,includeBounds:y}=n,_=o||1,w=h-1,{min:C,max:D}=t,P=!Bn(s),O=!Bn(a),G=!Bn(l),Z=(D-C)/(g+1);let fe,Ie,Re,et,oe=WR((D-C)/w/_)*_;if(oe<1e-14&&!P&&!O)return[{value:C},{value:D}];et=Math.ceil(D/oe)-Math.floor(C/oe),et>w&&(oe=WR(et*oe/w/_)*_),Bn(c)||(fe=Math.pow(10,c),oe=Math.ceil(oe*fe)/fe),"ticks"===i?(Ie=Math.floor(C/oe)*oe,Re=Math.ceil(D/oe)*oe):(Ie=C,Re=D),P&&O&&o&&function ZK(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-s)/o,oe/1e3)?(et=Math.round(Math.min((a-s)/oe,h)),oe=(a-s)/et,Ie=s,Re=a):G?(Ie=P?s:Ie,Re=O?a:Re,et=l-1,oe=(Re-Ie)/et):(et=(Re-Ie)/oe,et=dp(et,Math.round(et),oe/1e3)?Math.round(et):Math.ceil(et));const dt=Math.max(XR(oe),XR(Ie));fe=Math.pow(10,Bn(c)?dt:c),Ie=Math.round(Ie*fe)/fe,Re=Math.round(Re*fe)/fe;let Vt=0;for(P&&(y&&Ie!==s?(e.push({value:s}),Ie<s&&Vt++,dp(Math.round((Ie+Vt*oe)*fe)/fe,s,z8(s,Z,n))&&Vt++):Ie<s&&Vt++);Vt<et;++Vt){const Nt=Math.round((Ie+Vt*oe)*fe)/fe;if(O&&Nt>a)break;e.push({value:Nt})}return O&&y&&Re!==a?e.length&&dp(e[e.length-1].value,a,z8(a,Z,n))?e[e.length-1].value=a:e.push({value:a}):(!O||Re===a)&&e.push({value:Re}),e}({maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&GR(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return pp(t,this.chart.options.locale,this.options.ticks.format)}}const Ip=n=>Math.floor(ll(n)),gu=(n,t)=>Math.pow(10,Ip(n)+t);function W8(n){return n/Math.pow(10,Ip(n))==1}function G8(n,t,e){const r=Math.pow(10,e),i=Math.floor(n/r);return Math.ceil(t/r)-i}function h2(n){const t=n.ticks;if(t.display&&n.display){const e=xo(t.backdropPadding);return hn(t.font&&t.font.size,Vr.font.size)+e.height}return 0}function gne(n,t,e){return e=Lr(e)?e:[e],{w:fQ(n,t.string,e),h:e.length*t.lineHeight}}function X8(n,t,e,r,i){return n===r||n===i?{start:t-e/2,end:t+e/2}:n<r||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function vne(n,t,e,r,i){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let a=0,c=0;r.start<t.l?(a=(t.l-r.start)/o,n.l=Math.min(n.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,n.r=Math.max(n.r,t.r+a)),i.start<t.t?(c=(t.t-i.start)/s,n.t=Math.min(n.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/s,n.b=Math.max(n.b,t.b+c))}function yne(n,t,e){const r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=e,c=n.getPointPosition(t,r+i+s,o),l=Math.round(Rb(yo(c.angle+mi))),h=function Cne(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(c.y,a.h,l),g=function bne(n){return 0===n||180===n?"center":n<180?"left":"right"}(l),y=function wne(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(c.x,a.w,g);return{visible:!0,x:c.x,y:h,textAlign:g,left:y,top:h,right:y+a.w,bottom:h+a.h}}function _ne(n,t){if(!t)return!0;const{left:e,top:r,right:i,bottom:o}=n;return!(Sc({x:e,y:r},t)||Sc({x:e,y:o},t)||Sc({x:i,y:r},t)||Sc({x:i,y:o},t))}function Ene(n,t,e){const{left:r,top:i,right:o,bottom:s}=e,{backdropColor:a}=t;if(!Bn(a)){const c=lu(t.borderRadius),l=xo(t.backdropPadding);n.fillStyle=a;const h=r-l.left,g=i-l.top,y=o-r+l.width,_=s-i+l.height;Object.values(c).some(w=>0!==w)?(n.beginPath(),mp(n,{x:h,y:g,w:y,h:_,radius:c}),n.fill()):n.fillRect(h,g,y,_)}}function $8(n,t,e,r){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,Br);else{let o=n.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,t),i.lineTo(o.x,o.y)}}const nm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cs=Object.keys(nm);function Y8(n,t){return n-t}function Z8(n,t){if(Bn(t))return null;const e=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let s=t;return"function"==typeof r&&(s=r(s)),li(s)||(s="string"==typeof r?e.parse(s,r):e.parse(s)),null===s?null:(i&&(s="week"!==i||!Yd(o)&&!0!==o?e.startOf(s,i):e.startOf(s,"isoWeek",o)),+s)}function q8(n,t,e,r){const i=cs.length;for(let o=cs.indexOf(n);o<i-1;++o){const s=nm[cs[o]];if(s.common&&Math.ceil((e-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=r)return cs[o]}return cs[i-1]}function K8(n,t,e){if(e){if(e.length){const{lo:r,hi:i}=Pb(e,t);n[e[r]>=t?e[r]:e[i]]=!0}}else n[t]=!0}function Q8(n,t,e){const r=[],i={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&e?function One(n,t,e,r){const i=n._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value;let a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=e[a],c>=0&&(t[c].major=!0);return t}(n,r,i,e):r}let p2=(()=>class n extends pu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),o=this._adapter=new RJ__date(e.adapters.date);o.init(r),lp(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return void 0===e?null:Z8(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(h){!a&&!isNaN(h.min)&&(o=Math.min(o,h.min)),!c&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&l(this.getMinMax(!1))),o=li(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=li(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,o="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function JK(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}(o,s,this.max);return this._unit=r.unit||(i.autoSkip?q8(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Mne(n,t,e,r,i){for(let o=cs.length-1;o>=cs.indexOf(e);o--){const s=cs[o];if(nm[s].common&&n._adapter.diff(i,r,s)>=t-1)return s}return cs[e?cs.indexOf(e):0]}(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Tne(n){for(let t=cs.indexOf(n)+1,e=cs.length;t<e;++t)if(nm[cs[t]].common)return cs[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),Q8(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,r=0,i=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),r=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),i=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Hi(r,0,a),i=Hi(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||q8(s.minUnit,r,i,this._getLabelCapacity(r)),c=hn(o.ticks.stepSize,1),l="week"===a&&s.isoWeekday,h=Yd(l)||!0===l,g={};let _,w,y=r;if(h&&(y=+e.startOf(y,"isoWeek",l)),y=+e.startOf(y,h?"day":a),e.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);const C="data"===o.ticks.source&&this.getDataTimestamps();for(_=y,w=0;_<i;_=+e.add(_,c,a),w++)K8(g,_,C);return(_===i||"ticks"===o.bounds||1===w)&&K8(g,_,C),Object.keys(g).sort(Y8).map(D=>+D)}getLabelForValue(e){const i=this.options.time;return this._adapter.format(e,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(e,r){return this._adapter.format(e,r||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,r,i,o){const s=this.options,a=s.ticks.callback;if(a)return Rr(a,[e,r,i],this);const c=s.time.displayFormats,l=this._unit,h=this._majorUnit,y=h&&c[h],_=i[r];return this._adapter.format(e,o||(h&&y&&_&&_.major?y:l&&c[l]))}generateTickLabels(e){let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],o.label=this._tickFormatFunction(o.value,r,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,o=wa(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Q8(this,[e],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let r,i,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)e=e.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const o=this.getLabels();for(r=0,i=o.length;r<i;++r)e.push(Z8(this,o[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qR(e.sort(Y8))}})();function rm(n,t,e){let o,s,a,c,r=0,i=n.length-1;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=Ac(n,"pos",t)),({pos:o,time:a}=n[r]),({pos:s,time:c}=n[i])):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=Ac(n,"time",t)),({time:o,pos:a}=n[r]),({time:s,pos:c}=n[i]));const l=s-o;return l?a+(c-a)*(t-o)/l:a}var Nne=Object.freeze({__proto__:null,CategoryScale:lne,LinearScale:class dne extends tm{static id="linear";static defaults={ticks:{callback:N1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=li(t)?t:0,this.max=li(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=wa(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class pne extends pu{static id="logarithmic";static defaults={ticks:{callback:N1.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const r=tm.prototype.parse.apply(this,[t,e]);if(0!==r)return li(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=li(t)?Math.max(0,t):null,this.max=li(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!li(this._userMin)&&(this.min=t===gu(this.min,0)?gu(this.min,-1):gu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let r=this.min,i=this.max;const o=a=>r=t?r:a,s=a=>i=e?i:a;r===i&&(r<=0?(o(1),s(10)):(o(gu(r,-1)),s(gu(i,1)))),r<=0&&o(gu(i,-1)),i<=0&&s(gu(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,r=function hne(n,{min:t,max:e}){t=Ts(n.min,t);const r=[],i=Ip(t);let o=function fne(n,t){let r=Ip(t-n);for(;G8(n,t,r)>10;)r++;for(;G8(n,t,r)<10;)r--;return Math.min(r,Ip(n))}(t,e),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((t-c)*s)/s,h=Math.floor((t-c)/a/10)*a*10;let g=Math.floor((l-h)/Math.pow(10,o)),y=Ts(n.min,Math.round((c+h+g*Math.pow(10,o))*s)/s);for(;y<e;)r.push({value:y,major:W8(y),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,s=o>=0?1:s),y=Math.round((c+h+g*Math.pow(10,o))*s)/s;const _=Ts(n.max,y);return r.push({value:_,major:W8(_),significand:g}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&GR(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return void 0===t?"0":pp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ll(t),this._valueRange=ll(this.max)-ll(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ll(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class Dne extends tm{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:N1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=xo(h2(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=li(t)&&!isNaN(t)?t:0,this.max=li(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/h2(this.options))}generateTickLabels(t){tm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{const i=Rr(this.options.pointLabels.callback,[e,r],this);return i||0===i?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?function mne(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?Jn/o:0;for(let c=0;c<o;c++){const l=s.setContext(n.getPointLabelContext(c));i[c]=l.padding;const h=n.getPointPosition(c,n.drawingArea+i[c],a),g=Pi(l.font),y=gne(n.ctx,g,n._pointLabels[c]);r[c]=y;const _=yo(n.getIndexAngle(c)+a),w=Math.round(Rb(_));vne(e,t,_,X8(w,h.x,y.w,0,180),X8(w,h.y,y.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function xne(n,t,e){const r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:h2(o)/2,additionalAngle:s?Jn/i:0};let l;for(let h=0;h<i;h++){c.padding=e[h],c.size=t[h];const g=yne(n,h,c);r.push(g),"auto"===a&&(g.visible=_ne(g,l),g.visible&&(l=g))}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,i))}getIndexAngle(t){return yo(t*(Br/(this._pointLabels.length||1))+wa(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Bn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Bn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const r=e[t];return function Ine(n,t,e){return ul(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,r)}}getPointPosition(t,e,r=0){const i=this.getIndexAngle(t)-mi+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:r,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),$8(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:r,grid:i,border:o}=e,s=this._pointLabels.length;let a,c,l;if(e.pointLabels.display&&function Ane(n,t){const{ctx:e,options:{pointLabels:r}}=n;for(let i=t-1;i>=0;i--){const o=n._pointLabelItems[i];if(!o.visible)continue;const s=r.setContext(n.getPointLabelContext(i));Ene(e,s,o);const a=Pi(s.font),{x:c,y:l,textAlign:h}=o;cu(e,n._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((h,g)=>{if(0!==g||0===g&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const y=this.getContext(g),_=i.setContext(y),w=o.setContext(y);!function Sne(n,t,e,r,i){const o=n.ctx,s=t.circular,{color:a,lineWidth:c}=t;!s&&!r||!a||!c||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),$8(n,e,s,r),o.closePath(),o.stroke(),o.restore())}(this,_,c,s,w)}}),r.display){for(t.save(),a=s-1;a>=0;a--){const h=r.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:y}=h;!y||!g||(t.lineWidth=y,t.strokeStyle=g,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!e.reverse)return;const l=r.setContext(this.getContext(c)),h=Pi(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=h.string,s=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const g=xo(l.backdropPadding);t.fillRect(-s/2-g.left,-o-h.size/2-g.top,s+g.width,h.size+g.height)}cu(t,a.label,0,-o,h,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:p2,TimeSeriesScale:class Rne extends p2{static id="timeseries";static defaults=p2.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rm(e,this.min),this._tableRange=rm(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,i=[],o=[];let s,a,c,l,h;for(s=0,a=t.length;s<a;++s)l=t[s],l>=e&&l<=r&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)h=i[s+1],c=i[s-1],l=i[s],Math.round((h+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){const t=this.min,e=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||1===r.length)&&r.push(e),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return t=e.length&&r.length?this.normalize(e.concat(r)):e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(rm(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return rm(this._table,r*this._tableRange+this._minPos,!0)}}});const Pne=[OJ,ute,one,Nne],im=function Lne(n,t){return n===t||n!=n&&t!=t},om=function Bne(n,t){for(var e=n.length;e--;)if(im(n[e][0],t))return e;return-1};var Une=Array.prototype.splice;function Jd(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Jd.prototype.clear=function kne(){this.__data__=[],this.size=0},Jd.prototype.delete=function jne(n){var t=this.__data__,e=om(t,n);return!(e<0||(e==t.length-1?t.pop():Une.call(t,e,1),--this.size,0))},Jd.prototype.get=function zne(n){var t=this.__data__,e=om(t,n);return e<0?void 0:t[e][1]},Jd.prototype.has=function Gne(n){return om(this.__data__,n)>-1},Jd.prototype.set=function $ne(n,t){var e=this.__data__,r=om(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this};const sm=Jd,J8="object"==typeof global&&global&&global.Object===Object&&global;var ire="object"==typeof self&&self&&self.Object===Object&&self;const ef=J8||ire||Function("return this")();var sre=ef.Symbol,eN=Object.prototype,are=eN.hasOwnProperty,cre=eN.toString,Dp=sre?sre.toStringTag:void 0;var fre=Object.prototype.toString;var tN=sre?sre.toStringTag:void 0;const cm=function vre(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":tN&&tN in Object(n)?function lre(n){var t=are.call(n,Dp),e=n[Dp];try{n[Dp]=void 0;var r=!0}catch{}var i=cre.call(n);return r&&(t?n[Dp]=e:delete n[Dp]),i}(n):function hre(n){return fre.call(n)}(n)},mu=function yre(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},g2=function Cre(n){if(!mu(n))return!1;var t=cm(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},m2=ef["__core-js_shared__"];var nN=function(){var n=/[^.]+$/.exec(m2&&m2.keys&&m2.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var Dre=Function.prototype.toString;var Rre=/^\[object .+?Constructor\]$/,Lre=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Vre=function Bre(n){return!(!mu(n)||function Are(n){return!!nN&&nN in n}(n))&&(g2(n)?Lre:Rre).test(function Mre(n){if(null!=n){try{return Dre.call(n)}catch{}try{return n+""}catch{}}return""}(n))},v2=function Hre(n,t){var e=function Ure(n,t){return n?.[t]}(n,t);return Vre(e)?e:void 0},rN=v2(ef,"Map"),Mp=v2(Object,"create");var Kre=Object.prototype.hasOwnProperty;var tie=Object.prototype.hasOwnProperty;function tf(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}tf.prototype.clear=function Gre(){this.__data__=Mp?Mp(null):{},this.size=0},tf.prototype.delete=function $re(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},tf.prototype.get=function Qre(n){var t=this.__data__;if(Mp){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Kre.call(t,n)?t[n]:void 0},tf.prototype.has=function nie(n){var t=this.__data__;return Mp?void 0!==t[n]:tie.call(t,n)},tf.prototype.set=function oie(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Mp&&void 0===t?"__lodash_hash_undefined__":t,this};const iN=tf,lm=function die(n,t){var e=n.__data__;return function lie(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function nf(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}nf.prototype.clear=function aie(){this.size=0,this.__data__={hash:new iN,map:new(rN||sm),string:new iN}},nf.prototype.delete=function fie(n){var t=lm(this,n).delete(n);return this.size-=t?1:0,t},nf.prototype.get=function pie(n){return lm(this,n).get(n)},nf.prototype.has=function mie(n){return lm(this,n).has(n)},nf.prototype.set=function yie(n,t){var e=lm(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this};const xie=nf;function rf(n){var t=this.__data__=new sm(n);this.size=t.size}rf.prototype.clear=function Zne(){this.__data__=new sm,this.size=0},rf.prototype.delete=function Kne(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},rf.prototype.get=function Jne(n){return this.__data__.get(n)},rf.prototype.has=function tre(n){return this.__data__.has(n)},rf.prototype.set=function wie(n,t){var e=this.__data__;if(e instanceof sm){var r=e.__data__;if(!rN||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new xie(r)}return e.set(n,t),this.size=e.size,this};const Eie=rf;var Aie=function(){try{var n=v2(Object,"defineProperty");return n({},"",{}),n}catch{}}();const um=Aie,y2=function Sie(n,t,e){"__proto__"==t&&um?um(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},_2=function Iie(n,t,e){(void 0!==e&&!im(n[t],e)||void 0===e&&!(t in n))&&y2(n,t,e)};var Mie=function Die(n){return function(t,e,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[n?a:++i];if(!1===e(o[c],c,o))break}return t}}();const Tie=Mie;var oN="object"==typeof exports&&exports&&!exports.nodeType&&exports,sN=oN&&"object"==typeof module&&module&&!module.nodeType&&module,aN=sN&&sN.exports===oN?ef.Buffer:void 0,cN=aN?aN.allocUnsafe:void 0;const lN=ef.Uint8Array,Bie=function Lie(n,t){var e=t?function kie(n){var t=new n.constructor(n.byteLength);return new lN(t).set(new lN(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var uN=Object.create,jie=function(){function n(){}return function(t){if(!mu(t))return{};if(uN)return uN(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const Hie=jie;var Wie=function zie(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const dN=Wie;var Gie=Object.prototype;const fN=function Xie(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Gie)},Tp=function Zie(n){return null!=n&&"object"==typeof n},hN=function Kie(n){return Tp(n)&&"[object Arguments]"==cm(n)};var pN=Object.prototype,Qie=pN.hasOwnProperty,Jie=pN.propertyIsEnumerable,eoe=hN(function(){return arguments}())?hN:function(n){return Tp(n)&&Qie.call(n,"callee")&&!Jie.call(n,"callee")};const x2=eoe,b2=Array.isArray,gN=function roe(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},w2=function ioe(n){return null!=n&&gN(n.length)&&!g2(n)};var mN="object"==typeof exports&&exports&&!exports.nodeType&&exports,vN=mN&&"object"==typeof module&&module&&!module.nodeType&&module,yN=vN&&vN.exports===mN?ef.Buffer:void 0;const _N=(yN?yN.isBuffer:void 0)||function aoe(){return!1};var xN=Function.prototype.toString,goe=Object.prototype.hasOwnProperty,moe=xN.call(Object);var Ur={};Ur["[object Float32Array]"]=Ur["[object Float64Array]"]=Ur["[object Int8Array]"]=Ur["[object Int16Array]"]=Ur["[object Int32Array]"]=Ur["[object Uint8Array]"]=Ur["[object Uint8ClampedArray]"]=Ur["[object Uint16Array]"]=Ur["[object Uint32Array]"]=!0,Ur["[object Arguments]"]=Ur["[object Array]"]=Ur["[object ArrayBuffer]"]=Ur["[object Boolean]"]=Ur["[object DataView]"]=Ur["[object Date]"]=Ur["[object Error]"]=Ur["[object Function]"]=Ur["[object Map]"]=Ur["[object Number]"]=Ur["[object Object]"]=Ur["[object RegExp]"]=Ur["[object Set]"]=Ur["[object String]"]=Ur["[object WeakMap]"]=!1;var bN="object"==typeof exports&&exports&&!exports.nodeType&&exports,Op=bN&&"object"==typeof module&&module&&!module.nodeType&&module,C2=Op&&Op.exports===bN&&J8.process,Yoe=function(){try{return Op&&Op.require&&Op.require("util").types||C2&&C2.binding&&C2.binding("util")}catch{}}(),CN=Yoe&&Yoe.isTypedArray;const EN=CN?function Goe(n){return function(t){return n(t)}}(CN):function zoe(n){return Tp(n)&&gN(n.length)&&!!Ur[cm(n)]},E2=function qoe(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var Qoe=Object.prototype.hasOwnProperty;const ese=function Joe(n,t,e){var r=n[t];(!Qoe.call(n,t)||!im(r,e)||void 0===e&&!(t in n))&&y2(n,t,e)};var sse=/^(?:0|[1-9]\d*)$/;const AN=function ase(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&sse.test(n))&&n>-1&&n%1==0&&n<t};var lse=Object.prototype.hasOwnProperty;const dse=function use(n,t){var e=b2(n),r=!e&&x2(n),i=!e&&!r&&_N(n),o=!e&&!r&&!i&&EN(n),s=e||r||i||o,a=s?function rse(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}(n.length,String):[],c=a.length;for(var l in n)(t||lse.call(n,l))&&(!s||!("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||AN(l,c)))&&a.push(l);return a};var gse=Object.prototype.hasOwnProperty;const vse=function mse(n){if(!mu(n))return function fse(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=fN(n),e=[];for(var r in n)"constructor"==r&&(t||!gse.call(n,r))||e.push(r);return e},SN=function yse(n){return w2(n)?dse(n,!0):vse(n)},xse=function _se(n){return function tse(n,t,e,r){var i=!e;e||(e={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(e[a],n[a],a,e,n):void 0;void 0===c&&(c=n[a]),i?y2(e,a,c):ese(e,a,c)}return e}(n,SN(n))},wse=function bse(n,t,e,r,i,o,s){var a=E2(n,e),c=E2(t,e),l=s.get(c);if(l)_2(n,e,l);else{var h=o?o(a,c,e+"",n,t,s):void 0,g=void 0===h;if(g){var y=b2(c),_=!y&&_N(c),w=!y&&!_&&EN(c);h=c,y||_||w?b2(a)?h=a:function ooe(n){return Tp(n)&&w2(n)}(a)?h=function Vie(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}(a):_?(g=!1,h=function Rie(n,t){if(t)return n.slice();var e=n.length,r=cN?cN(e):new n.constructor(e);return n.copy(r),r}(c,!0)):w?(g=!1,h=Bie(c,!0)):h=[]:function voe(n){if(!Tp(n)||"[object Object]"!=cm(n))return!1;var t=dN(n);if(null===t)return!0;var e=goe.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&xN.call(e)==moe}(c)||x2(c)?(h=a,x2(a)?h=xse(a):(!mu(a)||g2(a))&&(h=function $ie(n){return"function"!=typeof n.constructor||fN(n)?{}:Hie(dN(n))}(c))):g=!1}g&&(s.set(c,h),i(h,c,r,o,s),s.delete(c)),_2(n,e,h)}},Cse=function IN(n,t,e,r,i){n!==t&&Tie(t,function(o,s){if(i||(i=new Eie),mu(o))wse(n,t,s,e,IN,r,i);else{var a=r?r(E2(n,s),o,s+"",n,t,i):void 0;void 0===a&&(a=o),_2(n,s,a)}},SN)},DN=function Ese(n){return n};var MN=Math.max;const Tse=function Mse(n){return function(){return n}};var Ose=um?function(n,t){return um(n,"toString",{configurable:!0,enumerable:!1,value:Tse(t),writable:!0})}:DN,kse=Date.now,Lse=function Fse(n){var t=0,e=0;return function(){var r=kse(),i=16-(r-e);if(e=r,i>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(Ose);const Bse=Lse,Use=function Vse(n,t){return Bse(function Ise(n,t,e){return t=MN(void 0===t?n.length-1:t,0),function(){for(var r=arguments,i=-1,o=MN(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=e(s),function Ase(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}(n,this,a)}}(n,t,DN),n+"")};var Wse=function zse(n){return Use(function(t,e){var r=-1,i=e.length,o=i>1?e[i-1]:void 0,s=i>2?e[2]:void 0;for(o=n.length>3&&"function"==typeof o?(i--,o):void 0,s&&function jse(n,t,e){if(!mu(e))return!1;var r=typeof t;return!!("number"==r?w2(e)&&AN(t,e.length):"string"==r&&t in e)&&im(e[t],n)}(e[0],e[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=e[r];a&&n(t,a,r,o)}return t})}(function(n,t,e){Cse(n,t,e)});const TN=Wse;let Gse=(()=>{class n{constructor(){this.colorschemesOptions=new si(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xse=(()=>{class n{constructor(e,r,i){this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new hr,this.chartHover=new hr,this.subs=[],this.themeOverrides={},this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Q()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(e){const r=["type"],i=Object.getOwnPropertyNames(e);if(i.some(o=>r.includes(o))||i.every(o=>e[o].isFirstChange()))this.render();else{const o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Z1(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,r){this.chart&&(this.chart.getDatasetMeta(e).hidden=r,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return TN({onHover:(e,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:r}))},onClick:(e,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(e){return new(e||n)(We(hi),We(mn),We(Gse))},n.\u0275dir=Jt({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[ts]}),n})();const $se=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Yse={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>hl(pl(n.datasetIndex),.4),borderColor:n=>hl(pl(n.datasetIndex),1),pointBackgroundColor:n=>hl(pl(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>hl(pl(n.datasetIndex),.6),borderColor:n=>hl(pl(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>hl(pl(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>hl(pl(n.dataIndex),.6),borderColor:n=>hl(pl(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function hl(n,t){return"rgba("+n.concat(t).join(",")+")"}function A2(n,t){return Math.floor(Math.random()*(t-n+1))+n}function pl(n=0){return $se[n]||function Zse(){return[A2(0,255),A2(0,255),A2(0,255)]}()}let ON=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Z1.register(...Pne);let qse=(()=>{class n{constructor(e){e?.plugins&&Z1.register(...e?.plugins);const r=TN(e?.generateColors?Yse:{},e?.defaults||{});Vr.set(r)}static forRoot(e){return{ngModule:n,providers:[{provide:ON,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(Ue(ON,8))},n.\u0275mod=Fr({type:n}),n.\u0275inj=Ot({}),n})(),Kse=(()=>{class n{constructor(){this.seatOccupancyData={labels:["Occupied","Available"],datasets:[{data:[765,235],backgroundColor:["#3b82f6","#d1fae5"]}]},this.zoneStatusData={labels:["Active","Inactive"],datasets:[{data:[6,2],backgroundColor:["#10b981","#f87171"]}]},this.checkinTrendData={labels:["Mon","Tue","Wed","Thu","Fri"],datasets:[{label:"Daily Check-ins",data:[120,250,320,180,420],borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.2)",tension:.4,fill:!0}]},this.roleStatusData={labels:["Active","Inactive"],datasets:[{data:[3,1],backgroundColor:["#38bdf8","#fca5a5"]}]},this.zoneBarData={labels:["A","B","C","D","E"],datasets:[{label:"Total Capacity",data:[100,120,90,80,110],backgroundColor:"#a78bfa"},{label:"Occupied",data:[70,110,45,60,85],backgroundColor:"#4ade80"}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ui({type:n,selectors:[["app-admin-dashboard"]],decls:21,vars:10,consts:[[1,"dashboard-container"],[1,"card"],["baseChart","",3,"data","type"],[1,"card","wide"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"div",1)(2,"h3"),Pe(3,"Seat Occupancy"),pe(),br(4,"canvas",2),pe(),he(5,"div",1)(6,"h3"),Pe(7,"Zone Enablement"),pe(),br(8,"canvas",2),pe(),he(9,"div",3)(10,"h3"),Pe(11,"Daily Check-ins"),pe(),br(12,"canvas",2),pe(),he(13,"div",1)(14,"h3"),Pe(15,"Role Activity"),pe(),br(16,"canvas",2),pe(),he(17,"div",3)(18,"h3"),Pe(19,"Zone Seat Capacity"),pe(),br(20,"canvas",2),pe()()),2&r&&(Ze(4),pt("data",i.seatOccupancyData)("type","doughnut"),Ze(4),pt("data",i.zoneStatusData)("type","pie"),Ze(4),pt("data",i.checkinTrendData)("type","line"),Ze(4),pt("data",i.roleStatusData)("type","pie"),Ze(4),pt("data",i.zoneBarData)("type","bar"))},dependencies:[Xse],styles:[".dashboard-container[_ngcontent-%COMP%]{display:grid;gap:24px;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));padding:32px;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px)}.card[_ngcontent-%COMP%]{background:rgba(255,255,255,.15);border-radius:16px;box-shadow:0 10px 25px #00000026;padding:24px;border:1px solid rgba(255,255,255,.25);text-align:center;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 12px 30px #00000040}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:16px;color:#1f2937}.wide[_ngcontent-%COMP%]{grid-column:span 2}"]})}}return n})(),Qse=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost:5000/api/tickets"}raiseTicket(e){return this.http.post(this.apiUrl,e)}static{this.\u0275fac=function(r){return new(r||n)(Ue($a))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Jse(n,t){1&n&&(he(0,"small"),Pe(1,"Message is required."),pe())}function eae(n,t){1&n&&(he(0,"small"),Pe(1,"Minimum 10 characters."),pe())}function tae(n,t){if(1&n&&(he(0,"div"),xn(1,Jse,2,0,"small",4),xn(2,eae,2,0,"small",4),pe()),2&n){const e=t.ngIf;Ze(1),pt("ngIf",e.required),Ze(1),pt("ngIf",e.minlength)}}function nae(n,t){1&n&&(he(0,"div",7),Pe(1,"\u2705 Ticket raised successfully!"),pe())}const rae=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:f$},{path:"change-password",component:g$},{path:"reset-password",component:y$},{path:"seatmanagement",component:qZ,canActivate:[sp],data:{roles:["admin"]}},{path:"rolemanagement",component:lK,canActivate:[sp],data:{roles:["admin"]}},{path:"zonemanagement",component:pK,canActivate:[sp],data:{roles:["admin"]}},{path:"admin",component:nq,canActivate:[sp],data:{roles:["admin"]}},{path:"employeemanagement",component:cq,canActivate:[sp],data:{roles:["admin","supervisor-1","supervisor-2"]}},{path:"seat",component:xq},{path:"checkin-client",component:iK},{path:"zone-viewer",component:gK},{path:"dashboard",component:Kse},{path:"raiseticket",component:(()=>{class n{constructor(e,r){this.fb=e,this.ticketService=r,this.ticketRaised=!1,this.ticketForm=this.fb.group({message:["",[kM.required,kM.minLength(10)]]})}generateTicketId(){return`TCKT-${(new Date).toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substring(2,8).toUpperCase()}`}raiseTicket(){if(this.ticketForm.valid){const e=this.ticketForm.value.message,r=this.generateTicketId(),i=localStorage.getItem("userid")?.toUpperCase();this.ticketService.raiseTicket({id:r,body:e,adid:i}).subscribe({next:()=>{this.ticketRaised=!0,this.ticketForm.reset()},error:s=>console.error("Error:",s)})}}get messageControl(){return this.ticketForm.get("message")}static{this.\u0275fac=function(r){return new(r||n)(We(cW),We(Qse))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-ticket-raising"]],decls:11,vars:4,consts:[[1,"ticket-container"],[3,"formGroup","ngSubmit"],["for","message"],["id","message","formControlName","message","rows","5","placeholder","Type your need or suggestion..."],[4,"ngIf"],["type","submit",3,"disabled"],["class","success",4,"ngIf"],[1,"success"]],template:function(r,i){1&r&&(he(0,"div",0)(1,"h2"),Pe(2,"Raise a Ticket"),pe(),he(3,"form",1),mt("ngSubmit",function(){return i.raiseTicket()}),he(4,"label",2),Pe(5,"Your Message"),pe(),br(6,"textarea",3),xn(7,tae,3,2,"div",4),he(8,"button",5),Pe(9,"Raise Ticket"),pe()(),xn(10,nae,2,0,"div",6),pe()),2&r&&(Ze(3),pt("formGroup",i.ticketForm),Ze(4),pt("ngIf",(null==i.messageControl?null:i.messageControl.touched)&&(null==i.messageControl?null:i.messageControl.errors)),Ze(1),pt("disabled",i.ticketForm.invalid),Ze(2),pt("ngIf",i.ticketRaised))},dependencies:[ss,vT,qs,ya,iT,Ug,Ix],styles:[".ticket-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9}textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;margin-bottom:10px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.success[_ngcontent-%COMP%]{margin-top:15px;color:green;font-weight:700}"]})}}return n})()},{path:"**",redirectTo:"/login"}];let iae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[W3.forRoot(rae),Tx,W3]})}}return n})();function oae(n,t){if(1&n&&(he(0,"div",2),Pe(1),pe()),2&n){const e=t.$implicit;pt("ngClass",e.type),Ze(1),io(" ",e.text," ")}}let sae=(()=>{class n{constructor(){this.messages=[]}show(e,r){this.messages.push({type:e,text:r}),setTimeout(()=>{this.messages.shift()},3e3)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ui({type:n,selectors:[["app-notification"]],decls:2,vars:1,consts:[[1,"notification-container"],["class","toast",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"]],template:function(r,i){1&r&&(he(0,"div",0),xn(1,oae,2,2,"div",1),pe()),2&r&&(Ze(1),pt("ngForOf",i.messages))},dependencies:[Y_,Wl],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;display:flex;flex-direction:column;gap:15px;width:300px}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-radius:6px;font-size:16px;font-weight:500;color:#fff;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideFadeIn .4s ease,slideFadeOut .4s ease 2.6s;opacity:1;transition:opacity .3s ease;word-wrap:break-word}.success[_ngcontent-%COMP%]{background-color:#4caf50}.error[_ngcontent-%COMP%]{background-color:#f44336}.info[_ngcontent-%COMP%]{background-color:#2196f3}.warning[_ngcontent-%COMP%]{background-color:#ff9800}@keyframes _ngcontent-%COMP%_slideFadeIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideFadeOut{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100%)}}"]})}}return n})();const aae=["notifier"];let cae=(()=>{class n{constructor(e){this.notificationService=e}ngAfterViewInit(){this.notificationService.register(this.notifier)}static{this.\u0275fac=function(r){return new(r||n)(We(op))}}static{this.\u0275cmp=ui({type:n,selectors:[["app-landing-page"]],viewQuery:function(r,i){if(1&r&&hh(aae,5),2&r){let o;bd(o=wd())&&(i.notifier=o.first)}},decls:3,vars:0,consts:[["notifier",""]],template:function(r,i){1&r&&br(0,"app-notification",null,0)(2,"router-outlet")},dependencies:[Gx,sae]})}}return n})();var uae=function(){var n=function(e,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])})(e,r)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dae=function(n){function t(e,r){var i=this.constructor,o=n.call(this,e,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),function lae(n,t){var e=Object.setPrototypeOf;e?e(n,t):n.__proto__=t}(o,i.prototype),function RN(n,t){void 0===t&&(t=n.constructor);var e=Error.captureStackTrace;e&&e(n,t)}(o),o}return uae(t,n),t}(Error),hae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pae=function(n){function t(e){void 0===e&&(e=void 0);var r=n.call(this,e)||this;return r.message=e,r}return hae(t,n),t.prototype.getKind=function(){return this.constructor.kind},t.kind="Exception",t}(dae);const ls=pae;var gae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return gae(t,n),t.kind="ArgumentException",t}(ls);const vi=mae;var vae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vae(t,n),t.kind="IllegalArgumentException",t}(ls);const zt=yae;var _ae=function(){function n(t){if(this.binarizer=t,null===t)throw new zt("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},n.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(t,e,r,i){var o=this.binarizer.getLuminanceSource().crop(t,e,r,i);return new n(this.binarizer.createBinarizer(o))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(t))},n.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(t))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}();const NN=_ae;var xae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return xae(t,n),t.getChecksumInstance=function(){return new t},t.kind="ChecksumException",t}(ls);const Ei=bae;var wae=function(){function n(t){this.source=t}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}();const Cae=wae;var Eae=function(){function n(){}return n.arraycopy=function(t,e,r,i,o){for(;o--;)r[i++]=t[e++]},n.currentTimeMillis=function(){return Date.now()},n}();const Nr=Eae;var Aae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Aae(t,n),t.kind="IndexOutOfBoundsException",t}(ls);const S2=Sae;var Iae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dae=function(n){function t(e,r){void 0===e&&(e=void 0),void 0===r&&(r=void 0);var i=n.call(this,r)||this;return i.index=e,i.message=r,i}return Iae(t,n),t.kind="ArrayIndexOutOfBoundsException",t}(S2);const PN=Dae;var Tae=function(){function n(){}return n.fill=function(t,e){for(var r=0,i=t.length;r<i;r++)t[r]=e},n.fillWithin=function(t,e,r,i){n.rangeCheck(t.length,e,r);for(var o=e;o<r;o++)t[o]=i},n.rangeCheck=function(t,e,r){if(e>r)throw new zt("fromIndex("+e+") > toIndex("+r+")");if(e<0)throw new PN(e);if(r>t)throw new PN(r)},n.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},n.create=function(t,e,r){return Array.from({length:t}).map(function(o){return Array.from({length:e}).fill(r)})},n.createInt32Array=function(t,e,r){return Array.from({length:t}).map(function(o){return Int32Array.from({length:e}).fill(r)})},n.equals=function(t,e){if(!(t&&e&&t.length&&e.length&&t.length===e.length))return!1;for(var r=0,i=t.length;r<i;r++)if(t[r]!==e[r])return!1;return!0},n.hashCode=function(t){var e,r;if(null===t)return 0;var i=1;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),s=o.next();!s.done;s=o.next())i=31*i+s.value}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},n.fillUint8Array=function(t,e){for(var r=0;r!==t.length;r++)t[r]=e},n.copyOf=function(t,e){return t.slice(0,e)},n.copyOfUint8Array=function(t,e){if(t.length<=e){var r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)},n.copyOfRange=function(t,e,r){var i=r-e,o=new Int32Array(i);return Nr.arraycopy(t,e,o,0,i),o},n.binarySearch=function(t,e,r){void 0===r&&(r=n.numberComparator);for(var i=0,o=t.length-1;i<=o;){var s=o+i>>1,a=r(e,t[s]);if(a>0)i=s+1;else{if(!(a<0))return s;o=s-1}}return-i-1},n.numberComparator=function(t,e){return t-e},n}();const Ai=Tae;var Oae=function(){function n(){}return n.numberOfTrailingZeros=function(t){var e;if(0===t)return 32;var r=31;return 0!=(e=t<<16)&&(r-=16,t=e),0!=(e=t<<8)&&(r-=8,t=e),0!=(e=t<<4)&&(r-=4,t=e),0!=(e=t<<2)&&(r-=2,t=e),r-(t<<1>>>31)},n.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16||(e+=16,t<<=16),t>>>24||(e+=8,t<<=8),t>>>28||(e+=4,t<<=4),t>>>30||(e+=2,t<<=2),e-(t>>>31)},n.toHexString=function(t){return t.toString(16)},n.toBinaryString=function(t){return String(parseInt(String(t),2))},n.bitCount=function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,63&(t+=t>>>8)+(t>>>16)},n.truncDivision=function(t,e){return Math.trunc(t/e)},n.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const wn=Oae;var Rae=function(){function n(t,e){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==e?n.makeArray(t):e)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var e=n.makeArray(t);Nr.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}},n.prototype.get=function(t){return 0!=(this.bits[Math.floor(t/32)]&1<<(31&t))},n.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},n.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},n.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,i=Math.floor(t/32),o=r[i];o&=~((1<<(31&t))-1);for(var s=r.length;0===o;){if(++i===s)return e;o=r[i]}var a=32*i+wn.numberOfTrailingZeros(o);return a>e?e:a},n.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var r=this.bits,i=Math.floor(t/32),o=~r[i];o&=~((1<<(31&t))-1);for(var s=r.length;0===o;){if(++i===s)return e;o=~r[i]}var a=32*i+wn.numberOfTrailingZeros(o);return a>e?e:a},n.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},n.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new zt;if(e!==t){e--;for(var r=Math.floor(t/32),i=Math.floor(e/32),o=this.bits,s=r;s<=i;s++)o[s]|=(2<<(s<i?31:31&e))-(1<<(s>r?0:31&t))}},n.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,r=0;r<t;r++)e[r]=0},n.prototype.isRange=function(t,e,r){if(e<t||t<0||e>this.size)throw new zt;if(e===t)return!0;e--;for(var i=Math.floor(t/32),o=Math.floor(e/32),s=this.bits,a=i;a<=o;a++){var h=(2<<(a<o?31:31&e))-(1<<(a>i?0:31&t))&4294967295;if((s[a]&h)!==(r?h:0))return!1}return!0},n.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},n.prototype.appendBits=function(t,e){if(e<0||e>32)throw new zt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var r=e;r>0;r--)this.appendBit(1==(t>>r-1&1))},n.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var r=0;r<e;r++)this.appendBit(t.get(r))},n.prototype.xor=function(t){if(this.size!==t.size)throw new zt("Sizes don't match");for(var e=this.bits,r=0,i=e.length;r<i;r++)e[r]^=t.bits[r]},n.prototype.toBytes=function(t,e,r,i){for(var o=0;o<i;o++){for(var s=0,a=0;a<8;a++)this.get(t)&&(s|=1<<7-a),t++;e[r+o]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,i=this.bits,o=0;o<r;o++){var s=i[o];t[e-o]=s=(s=(s=(s=(s=s>>1&1431655765|(1431655765&s)<<1)>>2&858993459|(858993459&s)<<2)>>4&252645135|(252645135&s)<<4)>>8&16711935|(16711935&s)<<8)>>16&65535|(65535&s)<<16}if(this.size!==32*r){var a=32*r-this.size,c=t[0]>>>a;for(o=1;o<r;o++){var l=t[o];t[o-1]=c|=l<<32-a,c=l>>>a}t[r-1]=c}this.bits=t},n.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},n.prototype.equals=function(t){return t instanceof n&&(this.size===t.size&&Ai.equals(this.bits,t.bits))},n.prototype.hashCode=function(){return 31*this.size+Ai.hashCode(this.bits)},n.prototype.toString=function(){for(var t="",e=0,r=this.size;e<r;e++)7&e||(t+=" "),t+=this.get(e)?"X":".";return t},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var t=[],e=0,r=this.size;e<r;e++)t.push(this.get(e));return t},n}();const zi=Rae;var kN=function(n){return n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS",n}(kN||{});const Pr=kN;var Nae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Nae(t,n),t.getFormatInstance=function(){return new t},t.kind="FormatException",t}(ls);const Et=Pae;var wr=function(n){return n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR",n}(wr||{}),Fae=function(){function n(t,e,r){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=t,this.name=r,this.values="number"==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(t,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,l=0,h=c.length;l!==h;l++)n.VALUES_TO_ECI.set(c[l],this);try{for(var y=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),_=y.next();!_.done;_=y.next())n.NAME_TO_ECI.set(_.value,this)}catch(C){i={error:C}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new Et("incorect value");var e=n.VALUES_TO_ECI.get(t);if(void 0===e)throw new Et("incorect value");return e},n.getCharacterSetECIByName=function(t){var e=n.NAME_TO_ECI.get(t);if(void 0===e)throw new Et("incorect value");return e},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;return this.getName()===e.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(wr.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(wr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(wr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(wr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(wr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(wr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(wr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(wr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(wr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(wr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(wr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(wr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(wr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(wr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(wr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(wr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(wr.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(wr.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(wr.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(wr.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(wr.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(wr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(wr.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(wr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(wr.Big5,28,"Big5"),n.GB18030=new n(wr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(wr.EUC_KR,30,"EUC_KR","EUC-KR"),n}();const ki=Fae;var Lae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Lae(t,n),t.kind="UnsupportedOperationException",t}(ls);const dm=Bae;var Vae=function(){function n(){}return n.decode=function(t,e){var r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)},n.shouldDecodeOnFallback=function(t){return!n.isBrowser()&&"ISO-8859-1"===t},n.encode=function(t,e){var r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):(new TextEncoder).encode(t)},n.isBrowser=function(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)},n.encodingName=function(t){return"string"==typeof t?t:t.getName()},n.encodingCharacterSet=function(t){return t instanceof ki?t:ki.getCharacterSetECIByName(t)},n.decodeFallback=function(t,e){var r=this.encodingCharacterSet(e);if(n.isDecodeFallbackSupported(r)){for(var i="",o=0,s=t.length;o<s;o++){var a=t[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(r.equals(ki.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new dm("Encoding "+this.encodingName(e)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(t){return t.equals(ki.UTF8)||t.equals(ki.ISO8859_1)||t.equals(ki.ASCII)},n.encodeFallback=function(t){for(var r=btoa(unescape(encodeURIComponent(t))).split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},n}();const Js=Vae;var Uae=function(){function n(){}return n.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var r=e?e.getName():this.ISO88591;return Js.decode(new Uint8Array([t]),r)},n.guessEncoding=function(t,e){if(null!=e&&void 0!==e.get(Pr.CHARACTER_SET))return e.get(Pr.CHARACTER_SET).toString();for(var r=t.length,i=!0,o=!0,s=!0,a=0,c=0,l=0,h=0,g=0,y=0,_=0,w=0,C=0,D=0,P=0,O=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],G=0;G<r&&(i||o||s);G++){var Z=255&t[G];s&&(a>0?128&Z?a--:s=!1:128&Z&&(64&Z?(a++,32&Z?(a++,16&Z?(a++,8&Z?s=!1:h++):l++):c++):s=!1)),i&&(Z>127&&Z<160?i=!1:Z>159&&(Z<192||215===Z||247===Z)&&P++),o&&(g>0?Z<64||127===Z||Z>252?o=!1:g--:128===Z||160===Z||Z>239?o=!1:Z>160&&Z<224?(y++,w=0,++_>C&&(C=_)):Z>127?(g++,_=0,++w>D&&(D=w)):(_=0,w=0))}return s&&a>0&&(s=!1),o&&g>0&&(o=!1),s&&(O||c+l+h>0)?n.UTF8:o&&(n.ASSUME_SHIFT_JIS||C>=3||D>=3)?n.SHIFT_JIS:i&&o?2===C&&2===y||10*P>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:o?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function o(a,c,l,h,g,y){if("%%"===a)return"%";if(void 0!==e[++i]){a=h?parseInt(h.substr(1)):void 0;var w,_=g?parseInt(g.substr(1)):void 0;switch(y){case"s":w=e[i];break;case"c":w=e[i][0];break;case"f":w=parseFloat(e[i]).toFixed(a);break;case"p":w=parseFloat(e[i]).toPrecision(a);break;case"e":w=parseFloat(e[i]).toExponential(a);break;case"x":w=parseInt(e[i]).toString(_||16);break;case"d":w=parseFloat(parseInt(e[i],_||10).toPrecision(a)).toFixed(0)}w="object"==typeof w?JSON.stringify(w):(+w).toString(_);for(var C=parseInt(l),D=l&&l[0]+""=="0"?"0":" ";w.length<C;)w=void 0!==c?w+D:D+w;return w}})},n.getBytes=function(t,e){return Js.encode(t,e)},n.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},n.getCharAt=function(t){return String.fromCharCode(t)},n.SHIFT_JIS=ki.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=ki.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=ki.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}();const Wn=Uae;var jae=function(){function n(t){void 0===t&&(t=""),this.value=t}return n.prototype.enableDecoding=function(t){return this.encoding=t,this},n.prototype.append=function(t){return this.value+="string"==typeof t?t.toString():this.encoding?Wn.castAsNonUtf8Char(t,this.encoding):String.fromCharCode(t),this},n.prototype.appendChars=function(t,e,r){for(var i=e;e<e+r;i++)this.append(t[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(t){return this.value.charAt(t)},n.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},n.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},n.prototype.substring=function(t,e){return this.value.substring(t,e)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(t,e){this.value=this.value.substring(0,t)+e+this.value.substring(t)},n}();const Cn=jae;var Hae=function(){function n(t,e,r,i){if(this.width=t,this.height=e,this.rowSize=r,this.bits=i,null==e&&(e=t),this.height=e,t<1||e<1)throw new zt("Both dimensions must be greater than 0");null==r&&(r=Math.floor((t+31)/32)),this.rowSize=r,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(t){for(var e=t.length,r=t[0].length,i=new n(r,e),o=0;o<e;o++)for(var s=t[o],a=0;a<r;a++)s[a]&&i.set(a,o);return i},n.parseFromString=function(t,e,r){if(null===t)throw new zt("stringRepresentation cannot be null");for(var i=new Array(t.length),o=0,s=0,a=-1,c=0,l=0;l<t.length;)if("\n"===t.charAt(l)||"\r"===t.charAt(l)){if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new zt("row lengths do not match");s=o,c++}l++}else if(t.substring(l,l+e.length)===e)l+=e.length,i[o]=!0,o++;else{if(t.substring(l,l+r.length)!==r)throw new zt("illegal character encountered: "+t.substring(l));l+=r.length,i[o]=!1,o++}if(o>s){if(-1===a)a=o-s;else if(o-s!==a)throw new zt("row lengths do not match");c++}for(var h=new n(a,c),g=0;g<o;g++)i[g]&&h.set(Math.floor(g%a),Math.floor(g/a));return h},n.prototype.get=function(t,e){var r=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[r]>>>(31&t)&1)},n.prototype.set=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(31&t)&4294967295},n.prototype.unset=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(31&t)&4294967295)},n.prototype.flip=function(t,e){var r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(31&t)&4294967295},n.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new zt("input matrix dimensions do not match");for(var e=new zi(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,s=this.height;o<s;o++)for(var a=o*r,c=t.getRow(o,e).getBitArray(),l=0;l<r;l++)i[a+l]^=c[l]},n.prototype.clear=function(){for(var t=this.bits,e=t.length,r=0;r<e;r++)t[r]=0},n.prototype.setRegion=function(t,e,r,i){if(e<0||t<0)throw new zt("Left and top must be nonnegative");if(i<1||r<1)throw new zt("Height and width must be at least 1");var o=t+r,s=e+i;if(s>this.height||o>this.width)throw new zt("The region must fit inside the matrix");for(var a=this.rowSize,c=this.bits,l=e;l<s;l++)for(var h=l*a,g=t;g<o;g++)c[h+Math.floor(g/32)]|=1<<(31&g)&4294967295},n.prototype.getRow=function(t,e){null==e||e.getSize()<this.width?e=new zi(this.width):e.clear();for(var r=this.rowSize,i=this.bits,o=t*r,s=0;s<r;s++)e.setBulk(32*s,i[o+s]);return e},n.prototype.setRow=function(t,e){Nr.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),r=new zi(t),i=new zi(t),o=0,s=Math.floor((e+1)/2);o<s;o++)r=this.getRow(o,r),i=this.getRow(e-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(e-1-o,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.height,r=this.rowSize,i=this.bits,o=this.width,s=e,a=-1,c=-1,l=0;l<e;l++)for(var h=0;h<r;h++){var g=i[l*r+h];if(0!==g){if(l<s&&(s=l),l>c&&(c=l),32*h<o){for(var y=0;!(g<<31-y&4294967295);)y++;32*h+y<o&&(o=32*h+y)}if(32*h+31>a){for(y=31;!(g>>>y);)y--;32*h+y>a&&(a=32*h+y)}}}return a<o||c<s?null:Int32Array.from([o,s,a-o+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,r=0;r<e.length&&0===e[r];)r++;if(r===e.length)return null;for(var i=r/t,o=r%t*32,s=e[r],a=0;!(s<<31-a&4294967295);)a++;return Int32Array.from([o+=a,i])},n.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,r=e.length-1;r>=0&&0===e[r];)r--;if(r<0)return null;for(var i=Math.floor(r/t),o=32*Math.floor(r%t),s=e[r],a=31;!(s>>>a);)a--;return Int32Array.from([o+=a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(t){return t instanceof n&&(this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Ai.equals(this.bits,t.bits))},n.prototype.hashCode=function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+Ai.hashCode(this.bits)},n.prototype.toString=function(t,e,r){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===r&&(r="\n"),this.buildToString(t,e,r)},n.prototype.buildToString=function(t,e,r){for(var i=new Cn,o=0,s=this.height;o<s;o++){for(var a=0,c=this.width;a<c;a++)i.append(this.get(a,o)?t:e);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}();const us=Hae;var zae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wae=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return zae(t,n),t.getNotFoundInstance=function(){return new t},t.kind="NotFoundException",t}(ls);const Ke=Wae;var Gae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xae=function(n){function t(e){var r=n.call(this,e)||this;return r.luminances=t.EMPTY,r.buckets=new Int32Array(t.LUMINANCE_BUCKETS),r}return Gae(t,n),t.prototype.getBlackRow=function(e,r){var i=this.getLuminanceSource(),o=i.getWidth();null==r||r.getSize()<o?r=new zi(o):r.clear(),this.initArrays(o);for(var s=i.getRow(e,this.luminances),a=this.buckets,c=0;c<o;c++)a[(255&s[c])>>t.LUMINANCE_SHIFT]++;var l=t.estimateBlackPoint(a);if(o<3)for(c=0;c<o;c++)(255&s[c])<l&&r.set(c);else{var h=255&s[0],g=255&s[1];for(c=1;c<o-1;c++){var y=255&s[c+1];(4*g-h-y)/2<l&&r.set(c),h=g,g=y}}return r},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight(),o=new us(r,i);this.initArrays(r);for(var s=this.buckets,a=1;a<5;a++)for(var c=Math.floor(i*a/5),l=e.getRow(c,this.luminances),h=Math.floor(4*r/5),g=Math.floor(r/5);g<h;g++)s[(255&l[g])>>t.LUMINANCE_SHIFT]++;var _=t.estimateBlackPoint(s),w=e.getMatrix();for(a=0;a<i;a++){var C=a*r;for(g=0;g<r;g++)(255&w[C+g])<_&&o.set(g,a)}return o},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var r=this.buckets,i=0;i<t.LUMINANCE_BUCKETS;i++)r[i]=0},t.estimateBlackPoint=function(e){for(var r=e.length,i=0,o=0,s=0,a=0;a<r;a++)e[a]>s&&(o=a,s=e[a]),e[a]>i&&(i=e[a]);var c=0,l=0;for(a=0;a<r;a++){var h=a-o;(g=e[a]*h*h)>l&&(c=a,l=g)}if(o>c){var y=o;o=c,c=y}if(c-o<=r/16)throw new Ke;var _=c-1,w=-1;for(a=c-1;a>o;a--){var g,C=a-o;(g=C*C*(c-a)*(i-e[a]))>w&&(_=a,w=g)}return _<<t.LUMINANCE_SHIFT},t.LUMINANCE_SHIFT=8-(t.LUMINANCE_BITS=5),t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(Cae);const $ae=Xae;var Yae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zae=function(n){function t(e){var r=n.call(this,e)||this;return r.matrix=null,r}return Yae(t,n),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var e=this.getLuminanceSource(),r=e.getWidth(),i=e.getHeight();if(r>=t.MINIMUM_DIMENSION&&i>=t.MINIMUM_DIMENSION){var o=e.getMatrix(),s=r>>t.BLOCK_SIZE_POWER;r&t.BLOCK_SIZE_MASK&&s++;var a=i>>t.BLOCK_SIZE_POWER;i&t.BLOCK_SIZE_MASK&&a++;var c=t.calculateBlackPoints(o,s,a,r,i),l=new us(r,i);t.calculateThresholdForBlock(o,s,a,r,i,c,l),this.matrix=l}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,r,i,o,s,a,c){for(var l=s-t.BLOCK_SIZE,h=o-t.BLOCK_SIZE,g=0;g<i;g++){var y=g<<t.BLOCK_SIZE_POWER;y>l&&(y=l);for(var _=t.cap(g,2,i-3),w=0;w<r;w++){var C=w<<t.BLOCK_SIZE_POWER;C>h&&(C=h);for(var D=t.cap(w,2,r-3),P=0,O=-2;O<=2;O++){var G=a[_+O];P+=G[D-2]+G[D-1]+G[D]+G[D+1]+G[D+2]}t.thresholdBlock(e,C,y,P/25,o,c)}}},t.cap=function(e,r,i){return e<r?r:e>i?i:e},t.thresholdBlock=function(e,r,i,o,s,a){for(var c=0,l=i*s+r;c<t.BLOCK_SIZE;c++,l+=s)for(var h=0;h<t.BLOCK_SIZE;h++)(255&e[l+h])<=o&&a.set(r+h,i+c)},t.calculateBlackPoints=function(e,r,i,o,s){for(var a=s-t.BLOCK_SIZE,c=o-t.BLOCK_SIZE,l=new Array(i),h=0;h<i;h++){l[h]=new Int32Array(r);var g=h<<t.BLOCK_SIZE_POWER;g>a&&(g=a);for(var y=0;y<r;y++){var _=y<<t.BLOCK_SIZE_POWER;_>c&&(_=c);for(var w=0,C=255,D=0,P=0,O=g*o+_;P<t.BLOCK_SIZE;P++,O+=o){for(var G=0;G<t.BLOCK_SIZE;G++){var Z=255&e[O+G];w+=Z,Z<C&&(C=Z),Z>D&&(D=Z)}if(D-C>t.MIN_DYNAMIC_RANGE)for(P++,O+=o;P<t.BLOCK_SIZE;P++,O+=o)for(G=0;G<t.BLOCK_SIZE;G++)w+=255&e[O+G]}var oe=w>>2*t.BLOCK_SIZE_POWER;if(D-C<=t.MIN_DYNAMIC_RANGE&&(oe=C/2,h>0&&y>0)){var fe=(l[h-1][y]+2*l[h][y-1]+l[h-1][y-1])/4;C<fe&&(oe=fe)}l[h][y]=oe}}return l},t.BLOCK_SIZE_MASK=(t.BLOCK_SIZE=1<<(t.BLOCK_SIZE_POWER=3))-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}($ae);const FN=Zae;var qae=function(){function n(t,e){this.width=t,this.height=e}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(t,e,r,i){throw new dm("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new dm("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new dm("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new Cn,r=0;r<this.height;r++){for(var i=this.getRow(r,t),o=0;o<this.width;o++){var s=255&i[o];e.append(s<64?"#":s<128?"+":s<192?".":" ")}e.append("\n")}return e.toString()},n}();const Rp=qae;var Kae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qae=function(n){function t(e){var r=n.call(this,e.getWidth(),e.getHeight())||this;return r.delegate=e,r}return Kae(t,n),t.prototype.getRow=function(e,r){for(var i=this.delegate.getRow(e,r),o=this.getWidth(),s=0;s<o;s++)i[s]=255-(255&i[s]);return i},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(255&e[o]);return i},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,r,i,o){return new t(this.delegate.crop(e,r,i,o))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(Rp);const fm=Qae;var Jae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ece=function(n){function t(e,r){void 0===r&&(r=!1);var i=n.call(this,e.width,e.height)||this;return i.canvas=e,i.tempCanvasElement=null,i.buffer=t.makeBufferFromCanvasImageData(e,r),i}return Jae(t,n),t.makeBufferFromCanvasImageData=function(e,r){void 0===r&&(r=!1);var i=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(i.data,e.width,e.height,r)},t.toGrayscaleBuffer=function(e,r,i,o){void 0===o&&(o=!1);var s=new Uint8ClampedArray(r*i);if((t.FRAME_INDEX=!t.FRAME_INDEX)||!o)for(var a=0,c=0,l=e.length;a<l;a+=4,c++){s[c]=0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10}else{a=0,c=0;for(var C=e.length;a<C;a+=4,c++)void 0,s[c]=255-(0===e[a+3]?255:306*e[a]+601*e[a+1]+117*e[a+2]+512>>10)}return s},t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new zt("Requested row is outside the image: "+e);var i=this.getWidth(),o=e*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return n.prototype.crop.call(this,e,r,i,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=e*t.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),l=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return r.width=c,r.height=l,i.translate(c/2,l/2),i.rotate(o),i.drawImage(this.canvas,s/-2,a/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new fm(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t.FRAME_INDEX=!0,t}(Rp),tce=function(){function n(t,e,r){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),Uo=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},jo=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},sf=function(){function n(t,e,r){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return Uo(this,void 0,void 0,function(){var t,e,r,i,o,s,g,y;return jo(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=_.sent(),e=[];try{for(r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=r.next();!i.done;i=r.next())"videoinput"===(s="video"===(o=i.value).kind?"videoinput":o.kind)&&e.push({deviceId:o.deviceId||o.id,label:o.label||"Video device "+(e.length+1),kind:s,groupId:o.groupId})}catch(w){g={error:w}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,e]}})})},n.prototype.getVideoInputDevices=function(){return Uo(this,void 0,void 0,function(){return jo(this,function(e){switch(e.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,e.sent().map(function(r){return new tce(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(t){return Uo(this,void 0,void 0,function(){var e;return jo(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(e=r.sent())?[2,e.find(function(i){return i.deviceId===t})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(t,e){return Uo(this,void 0,void 0,function(){return jo(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(t,e){return Uo(this,void 0,void 0,function(){return jo(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e)];case 1:return[2,o.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(t,e){return Uo(this,void 0,void 0,function(){var r;return jo(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(t,e){return Uo(this,void 0,void 0,function(){var r;return jo(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return[2,o.sent()]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,r){return Uo(this,void 0,void 0,function(){return jo(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(t,e,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(t,e,r){return Uo(this,void 0,void 0,function(){return jo(this,function(s){switch(s.label){case 0:return[4,this.decodeFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(t,e,r){return Uo(this,void 0,void 0,function(){var i;return jo(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,e,r)];case 2:return[2,o.sent()]}})})},n.prototype.decodeFromStream=function(t,e,r){return Uo(this,void 0,void 0,function(){var i;return jo(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(t,e){return Uo(this,void 0,void 0,function(){var r;return jo(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(e),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise(function(r,i){return e.playVideoOnLoad(t,function(){return r()})})},n.prototype.playVideoOnLoad=function(t,e){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},n.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},n.prototype.tryPlayVideo=function(t){return Uo(this,void 0,void 0,function(){return jo(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new vi("element with id '"+t+"' not found");if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new vi("element with id '"+t+"' must be an "+e+" element");return r},n.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new vi("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},n.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new vi("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},n.prototype.decodeFromVideoContinuously=function(t,e,r){if(void 0===t&&void 0===e)throw new vi("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)},n.prototype.decodeFromImageElement=function(t){if(!t)throw new vi("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},n.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},n.prototype.decodeFromVideoElementContinuously=function(t,e){var r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)},n.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new vi("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},n.prototype.decodeFromImageUrl=function(t){if(!t)throw new vi("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var r=this._decodeOnLoadImage(e);return e.src=t,r},n.prototype.decodeFromVideoUrl=function(t){if(!t)throw new vi("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r},n.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new vi("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,e);return r.src=t,i},n.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise(function(r,i){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(r,i)},t.addEventListener("load",e.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(t){return Uo(this,void 0,void 0,function(){return jo(this,function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(t,e){return Uo(this,void 0,void 0,function(){return jo(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return r.sent(),this.decodeContinuously(t,e),[2]}})})},n.prototype.isImageLoaded=function(t){return!(!t.complete||0===t.naturalWidth)},n.prototype.prepareImageElement=function(t){var e;return typeof t>"u"&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},n.prototype.prepareVideoElement=function(t){var e;return!t&&typeof document<"u"&&((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},n.prototype.decodeOnce=function(t,e,r){var i=this;void 0===e&&(e=!0),void 0===r&&(r=!0),this._stopAsyncDecode=!1;var o=function(s,a){if(i._stopAsyncDecode)return a(new Ke("Video stream has ended before any code could be detected.")),void(i._stopAsyncDecode=void 0);try{s(i.decode(t))}catch(y){if(e&&y instanceof Ke||(y instanceof Ei||y instanceof Et)&&r)return setTimeout(o,i._timeBetweenDecodingAttempts,s,a);a(y)}};return new Promise(function(s,a){return o(s,a)})},n.prototype.decodeContinuously=function(t,e){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode)r._stopContinuousDecode=void 0;else try{var o=r.decode(t);e(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){e(null,c),(c instanceof Ei||c instanceof Et||c instanceof Ke)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},n.prototype.createBinaryBitmap=function(t){this.getCaptureCanvasContext(t);var r=!1;t instanceof HTMLVideoElement?(this.drawFrameOnCanvas(t),r=!0):this.drawImageOnCanvas(t);var i=this.getCaptureCanvas(t),o=new ece(i,r),s=new FN(o);return new NN(s)},n.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t),r=void 0;try{r=e.getContext("2d",{willReadFrequently:!0})}catch{r=e.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.drawImageOnCanvas=function(t,e,r){void 0===e&&(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),void 0===r&&(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)},n.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},n.prototype.createCaptureCanvas=function(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r,i,e=document.createElement("canvas");return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,i=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,i=t.naturalHeight||t.height)),e.style.width=r+"px",e.style.height=i+"px",e.width=r,e.height=i,e},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch{t.src=URL.createObjectURL(e)}},n.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")},n}(),rce=function(){function n(t,e,r,i,o,s){void 0===r&&(r=null==e?0:8*e.length),void 0===s&&(s=Nr.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=s,this.text=t,this.rawBytes=e,this.numBits=null==r?null==e?0:8*e.length:r,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==s?Nr.currentTimeMillis():s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},n.prototype.putAllMetadata=function(t){null!==t&&(this.resultMetadata=null===this.resultMetadata?t:new Map(t))},n.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var r=new Array(e.length+t.length);Nr.arraycopy(e,0,r,0,e.length),Nr.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}();const wo=rce;var LN=function(n){return n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",n}(LN||{});const Kt=LN;var BN=function(n){return n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",n}(BN||{});const so=BN;var ice=function(){function n(t,e,r,i,o,s){void 0===o&&(o=-1),void 0===s&&(s=-1),this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=s,this.numBits=null==t?0:8*t.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(t){this.numBits=t},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(t){this.erasures=t},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(t){this.other=t},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}();const hm=ice;var oce=function(){function n(){}return n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(0===t)throw new zt;return this.logTable[t]},n.addOrSubtract=function(t,e){return t^e},n}();const Np=oce;var sce=function(){function n(t,e){if(0===e.length)throw new zt;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var i=1;i<r&&0===e[i];)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Nr.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var r,e=this.coefficients;if(1===t){r=0;for(var i=0,o=e.length;i!==o;i++)r=Np.addOrSubtract(r,e[i]);return r}r=e[0];var a=e.length,c=this.field;for(i=1;i<a;i++)r=Np.addOrSubtract(c.multiply(t,r),e[i]);return r},n.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new zt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var i=e;e=r,r=i}var o=new Int32Array(r.length),s=r.length-e.length;Nr.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=Np.addOrSubtract(e[a-s],r[a]);return new n(this.field,o)},n.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new zt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var e=this.coefficients,r=e.length,i=t.coefficients,o=i.length,s=new Int32Array(r+o-1),a=this.field,c=0;c<r;c++)for(var l=e[c],h=0;h<o;h++)s[c+h]=Np.addOrSubtract(s[c+h],a.multiply(l,i[h]));return new n(a,s)},n.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var e=this.coefficients.length,r=this.field,i=new Int32Array(e),o=this.coefficients,s=0;s<e;s++)i[s]=r.multiply(o[s],t);return new n(r,i)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new zt;if(0===e)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+t),s=this.field,a=0;a<i;a++)o[a]=s.multiply(r[a],e);return new n(s,o)},n.prototype.divide=function(t){if(!this.field.equals(t.field))throw new zt("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new zt("Divide by 0");for(var e=this.field,r=e.getZero(),i=this,o=t.getCoefficient(t.getDegree()),s=e.inverse(o);i.getDegree()>=t.getDegree()&&!i.isZero();){var a=i.getDegree()-t.getDegree(),c=e.multiply(i.getCoefficient(i.getDegree()),s),l=t.multiplyByMonomial(a,c),h=e.buildMonomial(a,c);r=r.addOrSubtract(h),i=i.addOrSubtract(l)}return[r,i]},n.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);if(0!==r){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),0===e||1!==r){var i=this.field.log(r);0===i?t+="1":1===i?t+="a":(t+="a^",t+=i)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},n}();const gl=sce;var ace=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ace(t,n),t.kind="ArithmeticException",t}(ls);const VN=cce;var lce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uce=function(n){function t(e,r,i){var o=n.call(this)||this;o.primitive=e,o.size=r,o.generatorBase=i;for(var s=new Int32Array(r),a=1,c=0;c<r;c++)s[c]=a,(a*=2)>=r&&(a^=e,a&=r-1);o.expTable=s;var l=new Int32Array(r);for(c=0;c<r-1;c++)l[s[c]]=c;return o.logTable=l,o.zero=new gl(o,Int32Array.from([0])),o.one=new gl(o,Int32Array.from([1])),o}return lce(t,n),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new zt;if(0===r)return this.zero;var i=new Int32Array(e+1);return i[0]=r,new gl(this,i)},t.prototype.inverse=function(e){if(0===e)throw new VN;return this.expTable[this.size-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return 0===e||0===r?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]},t.prototype.getSize=function(){return this.size},t.prototype.getGeneratorBase=function(){return this.generatorBase},t.prototype.toString=function(){return"GF(0x"+wn.toHexString(this.primitive)+","+this.size+")"},t.prototype.equals=function(e){return e===this},t.AZTEC_DATA_12=new t(4201,4096,1),t.AZTEC_DATA_10=new t(1033,1024,1),t.AZTEC_DATA_6=new t(67,64,1),t.AZTEC_PARAM=new t(19,16,1),t.QR_CODE_FIELD_256=new t(285,256,0),t.DATA_MATRIX_FIELD_256=new t(301,256,1),t.AZTEC_DATA_8=t.DATA_MATRIX_FIELD_256,t.MAXICODE_FIELD_64=t.AZTEC_DATA_6,t}(Np);const ds=uce;var dce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return dce(t,n),t.kind="ReedSolomonException",t}(ls);const pm=fce;var hce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return hce(t,n),t.kind="IllegalStateException",t}(ls);const Qa=pce;var gce=function(){function n(t){this.field=t}return n.prototype.decode=function(t,e){for(var r=this.field,i=new gl(r,t),o=new Int32Array(e),s=!0,a=0;a<e;a++){var c=i.evaluateAt(r.exp(a+r.getGeneratorBase()));o[o.length-1-a]=c,0!==c&&(s=!1)}if(!s){var l=new gl(r,o),h=this.runEuclideanAlgorithm(r.buildMonomial(e,1),l,e),y=h[1],_=this.findErrorLocations(h[0]),w=this.findErrorMagnitudes(y,_);for(a=0;a<_.length;a++){var C=t.length-1-r.log(_[a]);if(C<0)throw new pm("Bad error location");t[C]=ds.addOrSubtract(t[C],w[a])}}},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var i=t;t=e,e=i}for(var o=this.field,s=t,a=e,c=o.getZero(),l=o.getOne();a.getDegree()>=(r/2|0);){var h=s,g=c;if(c=l,(s=a).isZero())throw new pm("r_{i-1} was zero");a=h;for(var y=o.getZero(),_=s.getCoefficient(s.getDegree()),w=o.inverse(_);a.getDegree()>=s.getDegree()&&!a.isZero();){var C=a.getDegree()-s.getDegree(),D=o.multiply(a.getCoefficient(a.getDegree()),w);y=y.addOrSubtract(o.buildMonomial(C,D)),a=a.addOrSubtract(s.multiplyByMonomial(C,D))}if(l=y.multiply(c).addOrSubtract(g),a.getDegree()>=s.getDegree())throw new Qa("Division algorithm failed to reduce polynomial?")}var P=l.getCoefficient(0);if(0===P)throw new pm("sigmaTilde(0) was zero");var O=o.inverse(P);return[l.multiplyScalar(O),a.multiplyScalar(O)]},n.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var r=new Int32Array(e),i=0,o=this.field,s=1;s<o.getSize()&&i<e;s++)0===t.evaluateAt(s)&&(r[i]=o.inverse(s),i++);if(i!==e)throw new pm("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(t,e){for(var r=e.length,i=new Int32Array(r),o=this.field,s=0;s<r;s++){for(var a=o.inverse(e[s]),c=1,l=0;l<r;l++)if(s!==l){var h=o.multiply(e[l],a);c=o.multiply(c,1&h?-2&h:1|h)}i[s]=o.multiply(t.evaluateAt(a),o.inverse(c)),0!==o.getGeneratorBase()&&(i[s]=o.multiply(i[s],a))}return i},n}();const gm=gce;var Co=function(n){return n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY",n}(Co||{}),mce=function(){function n(){}return n.prototype.decode=function(t){this.ddata=t;var e=t.getBits(),r=this.extractBits(e),i=this.correctBits(r),o=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),a=new hm(o,s,null,null);return a.setNumBits(i.length),a},n.highLevelDecode=function(t){return this.getEncodedData(t)},n.getEncodedData=function(t){for(var e=t.length,r=Co.UPPER,i=Co.UPPER,o="",s=0;s<e;)if(i===Co.BINARY){if(e-s<5)break;var a=n.readCode(t,s,5);if(s+=5,0===a){if(e-s<11)break;a=n.readCode(t,s,11)+31,s+=11}for(var c=0;c<a;c++){if(e-s<8){s=e;break}var l=n.readCode(t,s,8);o+=Wn.castAsNonUtf8Char(l),s+=8}i=r}else{var h=i===Co.DIGIT?4:5;if(e-s<h)break;l=n.readCode(t,s,h),s+=h;var g=n.getCharacter(i,l);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),"L"===g.charAt(6)&&(r=i)):(o+=g,i=r)}return o},n.getTable=function(t){switch(t){case"L":return Co.LOWER;case"P":return Co.PUNCT;case"M":return Co.MIXED;case"D":return Co.DIGIT;case"B":return Co.BINARY;default:return Co.UPPER}},n.getCharacter=function(t,e){switch(t){case Co.UPPER:return n.UPPER_TABLE[e];case Co.LOWER:return n.LOWER_TABLE[e];case Co.MIXED:return n.MIXED_TABLE[e];case Co.PUNCT:return n.PUNCT_TABLE[e];case Co.DIGIT:return n.DIGIT_TABLE[e];default:throw new Qa("Bad table")}},n.prototype.correctBits=function(t){var e,r;this.ddata.getNbLayers()<=2?(r=6,e=ds.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,e=ds.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,e=ds.AZTEC_DATA_10):(r=12,e=ds.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=t.length/r;if(o<i)throw new Et;for(var s=t.length%r,a=new Int32Array(o),c=0;c<o;c++,s+=r)a[c]=n.readCode(t,s,r);try{new gm(e).decode(a,o-i)}catch(D){throw new Et(D)}var h=(1<<r)-1,g=0;for(c=0;c<i;c++){if(0===(y=a[c])||y===h)throw new Et;(1===y||y===h-1)&&g++}var _=new Array(i*r-g),w=0;for(c=0;c<i;c++){var y;if(1===(y=a[c])||y===h-1)_.fill(y>1,w,w+r-1),w+=r-1;else for(var C=r-1;C>=0;--C)_[w++]=0!=(y&1<<C)}return _},n.prototype.extractBits=function(t){var e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(e?11:14)+4*r,o=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,e));if(e)for(var a=0;a<o.length;a++)o[a]=a;else{var c=i+1+2*wn.truncDivision(wn.truncDivision(i,2)-1,15),l=i/2,h=wn.truncDivision(c,2);for(a=0;a<l;a++){var g=a+wn.truncDivision(a,15);o[l-a-1]=h-g-1,o[l+a]=h+g+1}}a=0;for(var y=0;a<r;a++){for(var _=4*(r-a)+(e?9:12),w=2*a,C=i-1-w,D=0;D<_;D++)for(var P=2*D,O=0;O<2;O++)s[y+P+O]=t.get(o[w+O],o[w+D]),s[y+2*_+P+O]=t.get(o[w+D],o[C-O]),s[y+4*_+P+O]=t.get(o[C-O],o[C-D]),s[y+6*_+P+O]=t.get(o[C-D],o[w+O]);y+=8*_}return s},n.readCode=function(t,e,r){for(var i=0,o=e;o<e+r;o++)i<<=1,t[o]&&(i|=1);return i},n.readByte=function(t,e){var r=t.length-e;return r>=8?n.readCode(t,e,8):n.readCode(t,e,r)<<8-r},n.convertBoolArrayToByteArray=function(t){for(var e=new Uint8Array((t.length+7)/8),r=0;r<e.length;r++)e[r]=n.readByte(t,8*r);return e},n.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}();const UN=mce;var vce=function(){function n(){}return n.round=function(t){return isNaN(t)?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},n.distance=function(t,e,r,i){var o=t-r,s=e-i;return Math.sqrt(o*o+s*s)},n.sum=function(t){for(var e=0,r=0,i=t.length;r!==i;r++)e+=t[r];return e},n}();const er=vce;var yce=function(){function n(){}return n.floatToIntBits=function(t){return t},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}();const I2=yce;var _ce=function(){function n(t,e){this.x=t,this.y=e}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(t){return t instanceof n&&(this.x===t.x&&this.y===t.y)},n.prototype.hashCode=function(){return 31*I2.floatToIntBits(this.x)+I2.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(t){var o,s,a,e=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),i=this.distance(t[0],t[2]);if(r>=e&&r>=i?(s=t[0],o=t[1],a=t[2]):i>=r&&i>=e?(s=t[1],o=t[0],a=t[2]):(s=t[2],o=t[0],a=t[1]),this.crossProductZ(o,s,a)<0){var c=o;o=a,a=c}t[0]=o,t[1]=s,t[2]=a},n.distance=function(t,e){return er.distance(t.x,t.y,e.x,e.y)},n.crossProductZ=function(t,e,r){var i=e.x,o=e.y;return(r.x-i)*(t.y-o)-(r.y-o)*(t.x-i)},n}();const qt=_ce;var xce=function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const D2=xce;var bce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wce=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r)||this;return a.compact=i,a.nbDatablocks=o,a.nbLayers=s,a}return bce(t,n),t.prototype.getNbLayers=function(){return this.nbLayers},t.prototype.getNbDatablocks=function(){return this.nbDatablocks},t.prototype.isCompact=function(){return this.compact},t}(D2);const Cce=wce;var Ece=function(){function n(t,e,r,i){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),null==e&&(e=n.INIT_SIZE),null==r&&(r=t.getWidth()/2|0),null==i&&(i=t.getHeight()/2|0);var o=e/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ke}return n.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,r=this.upInit,i=this.downInit,o=!1,s=!0,a=!1,c=!1,l=!1,h=!1,g=!1,y=this.width,_=this.height;s;){s=!1;for(var w=!0;(w||!c)&&e<y;)(w=this.containsBlackPoint(r,i,e,!1))?(e++,s=!0,c=!0):c||e++;if(e>=y){o=!0;break}for(var C=!0;(C||!l)&&i<_;)(C=this.containsBlackPoint(t,e,i,!0))?(i++,s=!0,l=!0):l||i++;if(i>=_){o=!0;break}for(var D=!0;(D||!h)&&t>=0;)(D=this.containsBlackPoint(r,i,t,!1))?(t--,s=!0,h=!0):h||t--;if(t<0){o=!0;break}for(var P=!0;(P||!g)&&r>=0;)(P=this.containsBlackPoint(t,e,r,!0))?(r--,s=!0,g=!0):g||r--;if(r<0){o=!0;break}s&&(a=!0)}if(!o&&a){for(var O=e-t,G=null,Z=1;null===G&&Z<O;Z++)G=this.getBlackPointOnSegment(t,i-Z,t+Z,i);if(null==G)throw new Ke;var oe=null;for(Z=1;null===oe&&Z<O;Z++)oe=this.getBlackPointOnSegment(t,r+Z,t+Z,r);if(null==oe)throw new Ke;var fe=null;for(Z=1;null===fe&&Z<O;Z++)fe=this.getBlackPointOnSegment(e,r+Z,e-Z,r);if(null==fe)throw new Ke;var Ie=null;for(Z=1;null===Ie&&Z<O;Z++)Ie=this.getBlackPointOnSegment(e,i-Z,e-Z,i);if(null==Ie)throw new Ke;return this.centerEdges(Ie,G,fe,oe)}throw new Ke},n.prototype.getBlackPointOnSegment=function(t,e,r,i){for(var o=er.round(er.distance(t,e,r,i)),s=(r-t)/o,a=(i-e)/o,c=this.image,l=0;l<o;l++){var h=er.round(t+l*s),g=er.round(e+l*a);if(c.get(h,g))return new qt(h,g)}return null},n.prototype.centerEdges=function(t,e,r,i){var o=t.getX(),s=t.getY(),a=e.getX(),c=e.getY(),l=r.getX(),h=r.getY(),g=i.getX(),y=i.getY(),_=n.CORR;return o<this.width/2?[new qt(g-_,y+_),new qt(a+_,c+_),new qt(l-_,h-_),new qt(o+_,s-_)]:[new qt(g+_,y+_),new qt(a+_,c-_),new qt(l-_,h+_),new qt(o-_,s-_)]},n.prototype.containsBlackPoint=function(t,e,r,i){var o=this.image;if(i){for(var s=t;s<=e;s++)if(o.get(s,r))return!0}else for(var a=t;a<=e;a++)if(o.get(r,a))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}();const M2=Ece;var Ace=function(){function n(){}return n.checkAndNudgePoints=function(t,e){for(var r=t.getWidth(),i=t.getHeight(),o=!0,s=0;s<e.length&&o;s+=2){var a=Math.floor(e[s]),c=Math.floor(e[s+1]);if(a<-1||a>r||c<-1||c>i)throw new Ke;o=!1,-1===a?(e[s]=0,o=!0):a===r&&(e[s]=r-1,o=!0),-1===c?(e[s+1]=0,o=!0):c===i&&(e[s+1]=i-1,o=!0)}for(o=!0,s=e.length-2;s>=0&&o;s-=2){if(a=Math.floor(e[s]),c=Math.floor(e[s+1]),a<-1||a>r||c<-1||c>i)throw new Ke;o=!1,-1===a?(e[s]=0,o=!0):a===r&&(e[s]=r-1,o=!0),-1===c?(e[s+1]=0,o=!0):c===i&&(e[s+1]=i-1,o=!0)}},n}();const jN=Ace;var Sce=function(){function n(t,e,r,i,o,s,a,c,l){this.a11=t,this.a21=e,this.a31=r,this.a12=i,this.a22=o,this.a32=s,this.a13=a,this.a23=c,this.a33=l}return n.quadrilateralToQuadrilateral=function(t,e,r,i,o,s,a,c,l,h,g,y,_,w,C,D){var P=n.quadrilateralToSquare(t,e,r,i,o,s,a,c);return n.squareToQuadrilateral(l,h,g,y,_,w,C,D).times(P)},n.prototype.transformPoints=function(t){for(var e=t.length,r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,c=this.a23,l=this.a31,h=this.a32,g=this.a33,y=0;y<e;y+=2){var _=t[y],w=t[y+1],C=o*_+c*w+g;t[y]=(r*_+s*w+l)/C,t[y+1]=(i*_+a*w+h)/C}},n.prototype.transformPointsWithValues=function(t,e){for(var r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,c=this.a23,l=this.a31,h=this.a32,g=this.a33,y=t.length,_=0;_<y;_++){var w=t[_],C=e[_],D=o*w+c*C+g;t[_]=(r*w+s*C+l)/D,e[_]=(i*w+a*C+h)/D}},n.squareToQuadrilateral=function(t,e,r,i,o,s,a,c){var l=t-r+o-a,h=e-i+s-c;if(0===l&&0===h)return new n(r-t,o-r,t,i-e,s-i,e,0,0,1);var g=r-o,y=a-o,_=i-s,w=c-s,C=g*w-y*_,D=(l*w-y*h)/C,P=(g*h-l*_)/C;return new n(r-t+D*r,a-t+P*a,t,i-e+D*i,c-e+P*c,e,D,P,1)},n.quadrilateralToSquare=function(t,e,r,i,o,s,a,c){return n.squareToQuadrilateral(t,e,r,i,o,s,a,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(t){return new n(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},n}();const HN=Sce;var Ice=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ice(t,n),t.prototype.sampleGrid=function(e,r,i,o,s,a,c,l,h,g,y,_,w,C,D,P,O,G,Z){var oe=HN.quadrilateralToQuadrilateral(o,s,a,c,l,h,g,y,_,w,C,D,P,O,G,Z);return this.sampleGridWithTransform(e,r,i,oe)},t.prototype.sampleGridWithTransform=function(e,r,i,o){if(r<=0||i<=0)throw new Ke;for(var s=new us(r,i),a=new Float32Array(2*r),c=0;c<i;c++){for(var l=a.length,h=c+.5,g=0;g<l;g+=2)a[g]=g/2+.5,a[g+1]=h;o.transformPoints(a),jN.checkAndNudgePoints(e,a);try{for(g=0;g<l;g+=2)e.get(Math.floor(a[g]),Math.floor(a[g+1]))&&s.set(g/2,c)}catch{throw new Ke}}return s},t}(jN);const Mce=Dce;var Tce=function(){function n(){}return n.setGridSampler=function(t){n.gridSampler=t},n.getInstance=function(){return n.gridSampler},n.gridSampler=new Mce,n}();const T2=Tce;var fs=function(){function n(t,e){this.x=t,this.y=e}return n.prototype.toResultPoint=function(){return new qt(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),Oce=function(){function n(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),r=this.getBullsEyeCorners(e);if(t){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Cce(o,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new Ke;var e=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(r,e);for(var i=0,o=0;o<4;o++){var s=r[(this.shift+o)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},n.prototype.getRotation=function(t,e){var r=0;t.forEach(function(o,s,a){r=(o>>e-2<<1)+(1&o)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(var i=0;i<4;i++)if(wn.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new Ke},n.prototype.getCorrectedParameterData=function(t,e){var r,i;e?(r=7,i=2):(r=10,i=4);for(var o=r-i,s=new Int32Array(r),a=r-1;a>=0;--a)s[a]=15&t,t>>=4;try{new gm(ds.AZTEC_PARAM).decode(s,o)}catch{throw new Ke}var l=0;for(a=0;a<i;a++)l=(l<<4)+s[a];return l},n.prototype.getBullsEyeCorners=function(t){var e=t,r=t,i=t,o=t,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(e,s,1,-1),c=this.getFirstDifferent(r,s,1,1),l=this.getFirstDifferent(i,s,-1,1),h=this.getFirstDifferent(o,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(h,a)*this.nbCenterLayers/(this.distancePoint(o,e)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(a,c,l,h))break}e=a,r=c,i=l,o=h,s=!s}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Ke;this.compact=5===this.nbCenterLayers;var y=new qt(e.getX()+.5,e.getY()-.5),_=new qt(r.getX()+.5,r.getY()+.5),w=new qt(i.getX()-.5,i.getY()+.5),C=new qt(o.getX()-.5,o.getY()-.5);return this.expandSquare([y,_,w,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var t,e,r,i;try{t=(o=new M2(this.image).detect())[0],e=o[1],r=o[2],i=o[3]}catch{var s=this.image.getWidth()/2,a=this.image.getHeight()/2;t=this.getFirstDifferent(new fs(s+7,a-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new fs(s+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fs(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new fs(s-7,a-7),!1,-1,-1).toResultPoint()}var c=er.round((t.getX()+i.getX()+e.getX()+r.getX())/4),l=er.round((t.getY()+i.getY()+e.getY()+r.getY())/4);try{var o;t=(o=new M2(this.image,15,c,l).detect())[0],e=o[1],r=o[2],i=o[3]}catch{t=this.getFirstDifferent(new fs(c+7,l-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new fs(c+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new fs(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new fs(c-7,l-7),!1,-1,-1).toResultPoint()}return c=er.round((t.getX()+i.getX()+e.getX()+r.getX())/4),l=er.round((t.getY()+i.getY()+e.getY()+r.getY())/4),new fs(c,l)},n.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(t,e,r,i,o){var s=T2.getInstance(),a=this.getDimension(),c=a/2-this.nbCenterLayers,l=a/2+this.nbCenterLayers;return s.sampleGrid(t,a,a,c,c,l,c,l,l,c,l,e.getX(),e.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},n.prototype.sampleLine=function(t,e,r){for(var i=0,o=this.distanceResultPoint(t,e),s=o/r,a=t.getX(),c=t.getY(),l=s*(e.getX()-t.getX())/o,h=s*(e.getY()-t.getY())/o,g=0;g<r;g++)this.image.get(er.round(a+g*l),er.round(c+g*h))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(t,e,r,i){t=new fs(t.getX()-3,t.getY()+3),e=new fs(e.getX()-3,e.getY()-3),r=new fs(r.getX()+3,r.getY()-3),i=new fs(i.getX()+3,i.getY()+3);var s=this.getColor(i,t);if(0===s)return!1;var a=this.getColor(t,e);return a===s&&(a=this.getColor(e,r))===s&&(a=this.getColor(r,i))===s},n.prototype.getColor=function(t,e){for(var r=this.distancePoint(t,e),i=(e.getX()-t.getX())/r,o=(e.getY()-t.getY())/r,s=0,a=t.getX(),c=t.getY(),l=this.image.get(t.getX(),t.getY()),h=Math.ceil(r),g=0;g<h;g++)c+=o,this.image.get(er.round(a+=i),er.round(c))!==l&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===l?1:-1},n.prototype.getFirstDifferent=function(t,e,r,i){for(var o=t.getX()+r,s=t.getY()+i;this.isValid(o,s)&&this.image.get(o,s)===e;)o+=r,s+=i;for(o-=r,s-=i;this.isValid(o,s)&&this.image.get(o,s)===e;)o+=r;for(o-=r;this.isValid(o,s)&&this.image.get(o,s)===e;)s+=i;return new fs(o,s-=i)},n.prototype.expandSquare=function(t,e,r){var i=r/(2*e),o=t[0].getX()-t[2].getX(),s=t[0].getY()-t[2].getY(),a=(t[0].getX()+t[2].getX())/2,c=(t[0].getY()+t[2].getY())/2,l=new qt(a+i*o,c+i*s),h=new qt(a-i*o,c-i*s);return o=t[1].getX()-t[3].getX(),s=t[1].getY()-t[3].getY(),a=(t[1].getX()+t[3].getX())/2,c=(t[1].getY()+t[3].getY())/2,[l,new qt(a+i*o,c+i*s),h,new qt(a-i*o,c-i*s)]},n.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},n.prototype.isValidPoint=function(t){var e=er.round(t.getX()),r=er.round(t.getY());return this.isValid(e,r)},n.prototype.distancePoint=function(t,e){return er.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.distanceResultPoint=function(t,e){return er.distance(t.getX(),t.getY(),e.getX(),e.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(wn.truncDivision(this.nbLayers-4,8)+1)+15},n}();const Rce=Oce;var Nce=function(){function n(){}return n.prototype.decode=function(t,e){void 0===e&&(e=null);var r=null,i=new Rce(t.getBlackMatrix()),o=null,s=null;try{o=(a=i.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(e,o),s=(new UN).decode(a)}catch(g){r=g}if(null==s)try{var a;o=(a=i.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(e,o),s=(new UN).decode(a)}catch(g){throw r??g}var c=new wo(s.getText(),s.getRawBytes(),s.getNumBits(),o,Kt.AZTEC,Nr.currentTimeMillis()),l=s.getByteSegments();null!=l&&c.putMetadata(so.BYTE_SEGMENTS,l);var h=s.getECLevel();return null!=h&&c.putMetadata(so.ERROR_CORRECTION_LEVEL,h),c},n.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var r=t.get(Pr.NEED_RESULT_POINT_CALLBACK);null!=r&&e.forEach(function(i,o,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}();const mm=Nce;var Pce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kce=(function(n){Pce(function t(e){return void 0===e&&(e=500),n.call(this,new mm,e)||this},n)}(sf),function(){function n(){}return n.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch{if(e&&!0===e.get(Pr.TRY_HARDER)&&t.isRotateSupported()){var i=t.rotateCounterClockwise(),o=this.doDecode(i,e),s=o.getResultMetadata(),a=270;null!==s&&!0===s.get(so.ORIENTATION)&&(a+=s.get(so.ORIENTATION)%360),o.putMetadata(so.ORIENTATION,a);var c=o.getResultPoints();if(null!==c)for(var l=i.getHeight(),h=0;h<c.length;h++)c[h]=new qt(l-c[h].getY()-1,c[h].getX());return o}throw new Ke}},n.prototype.reset=function(){},n.prototype.doDecode=function(t,e){var c,r=t.getWidth(),i=t.getHeight(),o=new zi(r),s=e&&!0===e.get(Pr.TRY_HARDER),a=Math.max(1,i>>(s?8:5));c=s?i:15;for(var l=Math.trunc(i/2),h=0;h<c;h++){var g=Math.trunc((h+1)/2),_=l+a*(0==(1&h)?g:-g);if(_<0||_>=i)break;try{o=t.getBlackRow(_,o)}catch{continue}for(var w=function(O){if(1===O&&(o.reverse(),e&&!0===e.get(Pr.NEED_RESULT_POINT_CALLBACK))){var G=new Map;e.forEach(function(fe,Ie){return G.set(Ie,fe)}),G.delete(Pr.NEED_RESULT_POINT_CALLBACK),e=G}try{var Z=C.decodeRow(_,o,e);if(1===O){Z.putMetadata(so.ORIENTATION,180);var oe=Z.getResultPoints();null!==oe&&(oe[0]=new qt(r-oe[0].getX()-1,oe[0].getY()),oe[1]=new qt(r-oe[1].getX()-1,oe[1].getY()))}return{value:Z}}catch{}},C=this,D=0;D<2;D++){var P=w(D);if("object"==typeof P)return P.value}}throw new Ke},n.recordPattern=function(t,e,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var s=t.getSize();if(e>=s)throw new Ke;for(var a=!t.get(e),c=0,l=e;l<s;){if(t.get(l)!==a)r[c]++;else{if(++c===i)break;r[c]=1,a=!a}l++}if(c!==i&&(c!==i-1||l!==s))throw new Ke},n.recordPatternInReverse=function(t,e,r){for(var i=r.length,o=t.get(e);e>0&&i>=0;)t.get(--e)!==o&&(i--,o=!o);if(i>=0)throw new Ke;n.recordPattern(t,e+1,r)},n.patternMatchVariance=function(t,e,r){for(var i=t.length,o=0,s=0,a=0;a<i;a++)o+=t[a],s+=e[a];if(o<s)return Number.POSITIVE_INFINITY;var c=o/s;r*=c;for(var l=0,h=0;h<i;h++){var g=t[h],y=e[h]*c,_=g>y?g-y:y-g;if(_>r)return Number.POSITIVE_INFINITY;l+=_}return l/o},n}());const Fi=kce;var Fce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lce=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Fce(t,n),t.findStartPattern=function(e){for(var r=e.getSize(),i=e.getNextSet(0),o=0,s=Int32Array.from([0,0,0,0,0,0]),a=i,c=!1,h=i;h<r;h++)if(e.get(h)!==c)s[o]++;else{if(5===o){for(var g=t.MAX_AVG_VARIANCE,y=-1,_=t.CODE_START_A;_<=t.CODE_START_C;_++){var w=Fi.patternMatchVariance(s,t.CODE_PATTERNS[_],t.MAX_INDIVIDUAL_VARIANCE);w<g&&(g=w,y=_)}if(y>=0&&e.isRange(Math.max(0,a-(h-a)/2),a,!1))return Int32Array.from([a,h,y]);a+=s[0]+s[1],(s=s.slice(2,s.length))[o-1]=0,s[o]=0,o--}else o++;s[o]=1,c=!c}throw new Ke},t.decodeCode=function(e,r,i){Fi.recordPattern(e,i,r);for(var o=t.MAX_AVG_VARIANCE,s=-1,a=0;a<t.CODE_PATTERNS.length;a++){var l=this.patternMatchVariance(r,t.CODE_PATTERNS[a],t.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,s=a)}if(s>=0)return s;throw new Ke},t.prototype.decodeRow=function(e,r,i){var h,o=i&&!0===i.get(Pr.ASSUME_GS1),s=t.findStartPattern(r),a=s[2],c=0,l=new Uint8Array(20);switch(l[c++]=a,a){case t.CODE_START_A:h=t.CODE_CODE_A;break;case t.CODE_START_B:h=t.CODE_CODE_B;break;case t.CODE_START_C:h=t.CODE_CODE_C;break;default:throw new Et}for(var g=!1,y=!1,_="",w=s[0],C=s[1],D=Int32Array.from([0,0,0,0,0,0]),P=0,O=0,G=a,Z=0,oe=!0,fe=!1,Ie=!1;!g;){var Re=y;switch(y=!1,P=O,O=t.decodeCode(r,D,C),l[c++]=O,O!==t.CODE_STOP&&(oe=!0),O!==t.CODE_STOP&&(G+=++Z*O),w=C,C+=D.reduce(function(Mt,jt){return Mt+jt},0),O){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new Et}switch(h){case t.CODE_CODE_A:if(O<64)_+=String.fromCharCode(Ie===fe?" ".charCodeAt(0)+O:" ".charCodeAt(0)+O+128),Ie=!1;else if(O<96)_+=String.fromCharCode(Ie===fe?O-64:O+64),Ie=!1;else switch(O!==t.CODE_STOP&&(oe=!1),O){case t.CODE_FNC_1:o&&(_+=0===_.length?"]C1":String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!fe&&Ie?(fe=!0,Ie=!1):fe&&Ie?(fe=!1,Ie=!1):Ie=!0;break;case t.CODE_SHIFT:y=!0,h=t.CODE_CODE_B;break;case t.CODE_CODE_B:h=t.CODE_CODE_B;break;case t.CODE_CODE_C:h=t.CODE_CODE_C;break;case t.CODE_STOP:g=!0}break;case t.CODE_CODE_B:if(O<96)_+=String.fromCharCode(Ie===fe?" ".charCodeAt(0)+O:" ".charCodeAt(0)+O+128),Ie=!1;else switch(O!==t.CODE_STOP&&(oe=!1),O){case t.CODE_FNC_1:o&&(_+=0===_.length?"]C1":String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!fe&&Ie?(fe=!0,Ie=!1):fe&&Ie?(fe=!1,Ie=!1):Ie=!0;break;case t.CODE_SHIFT:y=!0,h=t.CODE_CODE_A;break;case t.CODE_CODE_A:h=t.CODE_CODE_A;break;case t.CODE_CODE_C:h=t.CODE_CODE_C;break;case t.CODE_STOP:g=!0}break;case t.CODE_CODE_C:if(O<100)O<10&&(_+="0"),_+=O;else switch(O!==t.CODE_STOP&&(oe=!1),O){case t.CODE_FNC_1:o&&(_+=0===_.length?"]C1":String.fromCharCode(29));break;case t.CODE_CODE_A:h=t.CODE_CODE_A;break;case t.CODE_CODE_B:h=t.CODE_CODE_B;break;case t.CODE_STOP:g=!0}}Re&&(h=h===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var et=C-w;if(C=r.getNextUnset(C),!r.isRange(C,Math.min(r.getSize(),C+(C-w)/2),!1))throw new Ke;if((G-=Z*P)%103!==P)throw new Ei;var dt=_.length;if(0===dt)throw new Ke;dt>0&&oe&&(_=_.substring(0,h===t.CODE_CODE_C?dt-2:dt-1));for(var Vt=(s[1]+s[0])/2,Nt=w+et/2,sn=l.length,yr=new Uint8Array(sn),Sn=0;Sn<sn;Sn++)yr[Sn]=l[Sn];var _t=[new qt(Vt,e),new qt(Nt,e)];return new wo(_,yr,0,_t,Kt.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(Fi);const zN=Lce;var Bce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),O2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vce=function(n){function t(e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=e,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return Bce(t,n),t.prototype.decodeRow=function(e,r,i){var o,s,a,c,l=this.counters;l.fill(0),this.decodeRowResult="";var _,w,h=t.findAsteriskPattern(r,l),g=r.getNextSet(h[1]),y=r.getSize();do{t.recordPattern(r,g,l);var C=t.toNarrowWidePattern(l);if(C<0)throw new Ke;_=t.patternToChar(C),this.decodeRowResult+=_,w=g;try{for(var D=(o=void 0,O2(l)),P=D.next();!P.done;P=D.next())g+=P.value}catch(sn){o={error:sn}}finally{try{P&&!P.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}g=r.getNextSet(g)}while("*"!==_);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var dt,G=0;try{for(var Z=O2(l),oe=Z.next();!oe.done;oe=Z.next())G+=oe.value}catch(sn){a={error:sn}}finally{try{oe&&!oe.done&&(c=Z.return)&&c.call(Z)}finally{if(a)throw a.error}}if(g!==y&&2*(g-w-G)<G)throw new Ke;if(this.usingCheckDigit){for(var Ie=this.decodeRowResult.length-1,Re=0,et=0;et<Ie;et++)Re+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(et));if(this.decodeRowResult.charAt(Ie)!==t.ALPHABET_STRING.charAt(Re%43))throw new Ei;this.decodeRowResult=this.decodeRowResult.substring(0,Ie)}if(0===this.decodeRowResult.length)throw new Ke;dt=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var Nt=w+G/2;return new wo(dt,null,0,[new qt((h[1]+h[0])/2,e),new qt(Nt,e)],Kt.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,r){for(var i=e.getSize(),o=e.getNextSet(0),s=0,a=o,c=!1,l=r.length,h=o;h<i;h++)if(e.get(h)!==c)r[s]++;else{if(s===l-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((h-a)/2)),a,!1))return[a,h];a+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new Ke},t.toNarrowWidePattern=function(e){var r,i,a,o=e.length,s=0;do{var c=2147483647;try{for(var l=(r=void 0,O2(e)),h=l.next();!h.done;h=l.next())(g=h.value)<c&&g>s&&(c=g)}catch(C){r={error:C}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}s=c,a=0;for(var y=0,_=0,w=0;w<o;w++)(g=e[w])>s&&(_|=1<<o-1-w,a++,y+=g);if(3===a){for(w=0;w<o&&a>0;w++){var g;if((g=e[w])>s&&(a--,2*g>=y))return-1}return _}}while(a>3);return-1},t.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);if(e===t.ASTERISK_ENCODING)return"*";throw new Ke},t.decodeExtended=function(e){for(var r=e.length,i="",o=0;o<r;o++){var s=e.charAt(o);if("+"===s||"$"===s||"%"===s||"/"===s){var a=e.charAt(o+1),c="\0";switch(s){case"+":if(!(a>="A"&&a<="Z"))throw new Et;c=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new Et;c=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)c="\0";else if("V"===a)c="@";else if("W"===a)c="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new Et;c="\x7f"}break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new Et;c=":"}}i+=c,o++}else i+=s}return i},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(Fi);const WN=Vce;var Uce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jce=function(n){function t(){var e=n.call(this)||this;return e.decodeRowResult="",e.counters=new Int32Array(6),e}return Uce(t,n),t.prototype.decodeRow=function(e,r,i){var o,s,a,c,_,w,l=this.findAsteriskPattern(r),h=r.getNextSet(l[1]),g=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";do{t.recordPattern(r,h,y);var C=this.toPattern(y);if(C<0)throw new Ke;_=this.patternToChar(C),this.decodeRowResult+=_,w=h;try{for(var D=(o=void 0,R2(y)),P=D.next();!P.done;P=D.next())h+=P.value}catch(et){o={error:et}}finally{try{P&&!P.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}h=r.getNextSet(h)}while("*"!==_);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var G=0;try{for(var Z=R2(y),oe=Z.next();!oe.done;oe=Z.next())G+=oe.value}catch(et){a={error:et}}finally{try{oe&&!oe.done&&(c=Z.return)&&c.call(Z)}finally{if(a)throw a.error}}if(h===g||!r.get(h))throw new Ke;if(this.decodeRowResult.length<2)throw new Ke;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var fe=this.decodeExtended(this.decodeRowResult),Re=w+G/2;return new wo(fe,null,0,[new qt((l[1]+l[0])/2,e),new qt(Re,e)],Kt.CODE_93,(new Date).getTime())},t.prototype.findAsteriskPattern=function(e){var r=e.getSize(),i=e.getNextSet(0);this.counters.fill(0);for(var o=this.counters,s=i,a=!1,c=o.length,l=0,h=i;h<r;h++)if(e.get(h)!==a)o[l]++;else{if(l===c-1){if(this.toPattern(o)===t.ASTERISK_ENCODING)return new Int32Array([s,h]);s+=o[0]+o[1],o.copyWithin(0,2,2+l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,a=!a}throw new Ke},t.prototype.toPattern=function(e){var r,i,o=0;try{for(var s=R2(e),a=s.next();!a.done;a=s.next())o+=a.value}catch(w){r={error:w}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var l=0,h=e.length,g=0;g<h;g++){var y=Math.round(9*e[g]/o);if(y<1||y>4)return-1;if(1&g)l<<=y;else for(var _=0;_<y;_++)l=l<<1|1}return l},t.prototype.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);throw new Ke},t.prototype.decodeExtended=function(e){for(var r=e.length,i="",o=0;o<r;o++){var s=e.charAt(o);if(s>="a"&&s<="d"){if(o>=r-1)throw new Et;var a=e.charAt(o+1),c="\0";switch(s){case"d":if(!(a>="A"&&a<="Z"))throw new Et;c=String.fromCharCode(a.charCodeAt(0)+32);break;case"a":if(!(a>="A"&&a<="Z"))throw new Et;c=String.fromCharCode(a.charCodeAt(0)-64);break;case"b":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)c="\0";else if("V"===a)c="@";else if("W"===a)c="`";else{if(!(a>="X"&&a<="Z"))throw new Et;c=String.fromCharCode(127)}break;case"c":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new Et;c=":"}}i+=c,o++}else i+=s}return i},t.prototype.checkChecksums=function(e){var r=e.length;this.checkOneChecksum(e,r-2,20),this.checkOneChecksum(e,r-1,15)},t.prototype.checkOneChecksum=function(e,r,i){for(var o=1,s=0,a=r-1;a>=0;a--)s+=o*t.ALPHABET_STRING.indexOf(e.charAt(a)),++o>i&&(o=1);if(e.charAt(r)!==t.ALPHABET_STRING[s%47])throw new Ei},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",t.ASTERISK_ENCODING=(t.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350])[47],t}(Fi);const GN=jce;var Hce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wce=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return Hce(t,n),t.prototype.decodeRow=function(e,r,i){var o,s,a=this.decodeStart(r),c=this.decodeEnd(r),l=new Cn;t.decodeMiddle(r,a[1],c[0],l);var h=l.toString(),g=null;null!=i&&(g=i.get(Pr.ALLOWED_LENGTHS)),null==g&&(g=t.DEFAULT_ALLOWED_LENGTHS);var y=h.length,_=!1,w=0;try{for(var C=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),D=C.next();!D.done;D=C.next()){var P=D.value;if(y===P){_=!0;break}P>w&&(w=P)}}catch(Z){o={error:Z}}finally{try{D&&!D.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}if(!_&&y>w&&(_=!0),!_)throw new Et;var O=[new qt(a[1],e),new qt(c[0],e)];return new wo(h,null,0,O,Kt.ITF,(new Date).getTime())},t.decodeMiddle=function(e,r,i,o){var s=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),a.fill(0),c.fill(0);r<i;){Fi.recordPattern(e,r,s);for(var l=0;l<5;l++){var h=2*l;a[l]=s[h],c[l]=s[h+1]}var g=t.decodeDigit(a);o.append(g.toString()),g=this.decodeDigit(c),o.append(g.toString()),s.forEach(function(y){r+=y})}},t.prototype.decodeStart=function(e){var r=t.skipWhiteSpace(e),i=t.findGuardPattern(e,r,t.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i},t.prototype.validateQuietZone=function(e,r){var i=10*this.narrowLineWidth;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!e.get(o);o--)i--;if(0!==i)throw new Ke},t.skipWhiteSpace=function(e){var r=e.getSize(),i=e.getNextSet(0);if(i===r)throw new Ke;return i},t.prototype.decodeEnd=function(e){e.reverse();try{var r=t.skipWhiteSpace(e),i=void 0;try{i=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[0])}catch(s){s instanceof Ke&&(i=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);var o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}},t.findGuardPattern=function(e,r,i){var o=i.length,s=new Int32Array(o),a=e.getSize(),c=!1,l=0,h=r;s.fill(0);for(var g=r;g<a;g++)if(e.get(g)!==c)s[l]++;else{if(l===o-1){if(Fi.patternMatchVariance(s,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[h,g];h+=s[0]+s[1],Nr.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new Ke},t.decodeDigit=function(e){for(var r=t.MAX_AVG_VARIANCE,i=-1,o=t.PATTERNS.length,s=0;s<o;s++){var c=Fi.patternMatchVariance(e,t.PATTERNS[s],t.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new Ke},t.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=Int32Array.from([1,1,1,1]),t.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],t}(Fi);const XN=Wce;var Gce=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xce=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return Gce(t,n),t.findStartGuardPattern=function(e){for(var i,r=!1,o=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]);var a=(i=t.findGuardPattern(e,o,!1,this.START_END_PATTERN,s))[0],c=a-((o=i[1])-a);c>=0&&(r=e.isRange(c,a,!1))}return i},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var i=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===i},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,i=0,o=r-1;o>=0;o-=2){if((s=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new Et;i+=s}for(i*=3,o=r-2;o>=0;o-=2){var s;if((s=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new Et;i+=s}return(1e3-i)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPatternWithoutCounters=function(e,r,i,o){return this.findGuardPattern(e,r,i,o,new Int32Array(o.length))},t.findGuardPattern=function(e,r,i,o,s){for(var a=e.getSize(),c=0,l=r=i?e.getNextUnset(r):e.getNextSet(r),h=o.length,g=i,y=r;y<a;y++)if(e.get(y)!==g)s[c]++;else{if(c===h-1){if(Fi.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return Int32Array.from([l,y]);l+=s[0]+s[1];for(var _=s.slice(2,s.length),w=0;w<c-1;w++)s[w]=_[w];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new Ke},t.decodeDigit=function(e,r,i,o){this.recordPattern(e,i,r);for(var s=this.MAX_AVG_VARIANCE,a=-1,c=o.length,l=0;l<c;l++){var g=Fi.patternMatchVariance(r,o[l],t.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,a=l)}if(a>=0)return a;throw new Ke},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=Int32Array.from([1,1,1]),t.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),t.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],t}(Fi);const af=Xce;var $ce=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yce=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(e,r,i),s=i.toString(),a=n.parseExtensionString(s),c=[new qt((r[0]+r[1])/2,t),new qt(o,t)],l=new wo(s,null,0,c,Kt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l},n.prototype.decodeMiddle=function(t,e,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=t.getSize(),c=e[1],l=0,h=0;h<5&&c<a;h++){var g=af.decodeDigit(t,s,c,af.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var y=(i=void 0,$ce(s)),_=y.next();!_.done;_=y.next())c+=_.value}catch(D){i={error:D}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}g>=10&&(l|=1<<4-h),4!==h&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(5!==r.length)throw new Ke;var C=this.determineCheckDigit(l);if(n.extensionChecksum(r.toString())!==C)throw new Ke;return c},n.extensionChecksum=function(t){for(var e=t.length,r=0,i=e-2;i>=0;i-=2)r+=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);for(r*=3,i=e-1;i>=0;i-=2)r+=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},n.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new Ke},n.parseExtensionString=function(t){if(5!==t.length)return null;var e=n.parseExtension5String(t);return null==e?null:new Map([[so.SUGGESTED_PRICE,e]])},n.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var r=parseInt(t.substring(1)),o=r%100;return e+(r/100).toString()+"."+(o<10?"0"+o:o.toString())},n}();const Zce=Yce;var qce=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Kce=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(t,e,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(e,r,i),s=i.toString(),a=n.parseExtensionString(s),c=[new qt((r[0]+r[1])/2,t),new qt(o,t)],l=new wo(s,null,0,c,Kt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=a&&l.putAllMetadata(a),l},n.prototype.decodeMiddle=function(t,e,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=t.getSize(),c=e[1],l=0,h=0;h<2&&c<a;h++){var g=af.decodeDigit(t,s,c,af.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var y=(i=void 0,qce(s)),_=y.next();!_.done;_=y.next())c+=_.value}catch(C){i={error:C}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}g>=10&&(l|=1<<1-h),1!==h&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(2!==r.length)throw new Ke;if(parseInt(r.toString())%4!==l)throw new Ke;return c},n.parseExtensionString=function(t){return 2!==t.length?null:new Map([[so.ISSUE_NUMBER,parseInt(t)]])},n}();const Qce=Kce;var Jce=function(){function n(){}return n.decodeRow=function(t,e,r){var i=af.findGuardPattern(e,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Zce).decodeRow(t,e,i)}catch{return(new Qce).decodeRow(t,e,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}();const ele=Jce;var tle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nle=function(n){function t(){var e=n.call(this)||this;e.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var r=10;r<20;r++){for(var i=t.L_PATTERNS[r-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];t.L_AND_G_PATTERNS[r]=o}return e}return tle(t,n),t.prototype.decodeRow=function(e,r,i){var o=t.findStartGuardPattern(r),s=null==i?null:i.get(Pr.NEED_RESULT_POINT_CALLBACK);if(null!=s){var a=new qt((o[0]+o[1])/2,e);s.foundPossibleResultPoint(a)}var c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),l=c.rowOffset,h=c.resultString;if(null!=s){var g=new qt(l,e);s.foundPossibleResultPoint(g)}var y=t.decodeEnd(r,l);if(null!=s){var _=new qt((y[0]+y[1])/2,e);s.foundPossibleResultPoint(_)}var w=y[1],C=w+(w-y[0]);if(C>=r.getSize()||!r.isRange(w,C,!1))throw new Ke;var D=h.toString();if(D.length<8)throw new Et;if(!t.checkChecksum(D))throw new Ei;var P=(o[1]+o[0])/2,O=(y[1]+y[0])/2,G=this.getBarcodeFormat(),Z=[new qt(P,e),new qt(O,e)],oe=new wo(D,null,0,Z,G,(new Date).getTime()),fe=0;try{var Ie=ele.decodeRow(e,r,y[1]);oe.putMetadata(so.UPC_EAN_EXTENSION,Ie.getText()),oe.putAllMetadata(Ie.getResultMetadata()),oe.addResultPoints(Ie.getResultPoints()),fe=Ie.getText().length}catch{}var Re=null==i?null:i.get(Pr.ALLOWED_EAN_EXTENSIONS);if(null!=Re){var et=!1;for(var dt in Re)if(fe.toString()===dt){et=!0;break}if(!et)throw new Ke}return oe},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var i=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===i},t.getStandardUPCEANChecksum=function(e){for(var r=e.length,i=0,o=r-1;o>=0;o-=2){if((s=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new Et;i+=s}for(i*=3,o=r-2;o>=0;o-=2){var s;if((s=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0))<0||s>9)throw new Et;i+=s}return(1e3-i)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Int32Array(t.START_END_PATTERN.length).fill(0))},t}(af);const Li=nle;var rle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$N=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ile=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return rle(t,n),t.prototype.decodeMiddle=function(e,r,i){var o,s,a,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var h=e.getSize(),g=r[1],y=0,_=0;_<6&&g<h;_++){var w=Li.decodeDigit(e,l,g,Li.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w%10);try{for(var C=(o=void 0,$N(l)),D=C.next();!D.done;D=C.next())g+=D.value}catch(oe){o={error:oe}}finally{try{D&&!D.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}w>=10&&(y|=1<<5-_)}for(i=t.determineFirstDigit(i,y),g=Li.findGuardPattern(e,g,!0,Li.MIDDLE_PATTERN,new Int32Array(Li.MIDDLE_PATTERN.length).fill(0))[1],_=0;_<6&&g<h;_++){w=Li.decodeDigit(e,l,g,Li.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+w);try{for(var G=(a=void 0,$N(l)),Z=G.next();!Z.done;Z=G.next())g+=Z.value}catch(Ie){a={error:Ie}}finally{try{Z&&!Z.done&&(c=G.return)&&c.call(G)}finally{if(a)throw a.error}}}return{rowOffset:g,resultString:i}},t.prototype.getBarcodeFormat=function(){return Kt.EAN_13},t.determineFirstDigit=function(e,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return String.fromCharCode("0".charCodeAt(0)+i)+e;throw new Ke},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(Li);const N2=ile;var ole=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),YN=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sle=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return ole(t,n),t.prototype.decodeMiddle=function(e,r,i){var o,s,a,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var h=e.getSize(),g=r[1],y=0;y<4&&g<h;y++){var _=Li.decodeDigit(e,l,g,Li.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_);try{for(var w=(o=void 0,YN(l)),C=w.next();!C.done;C=w.next())g+=C.value}catch(Z){o={error:Z}}finally{try{C&&!C.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}}for(g=Li.findGuardPattern(e,g,!0,Li.MIDDLE_PATTERN,new Int32Array(Li.MIDDLE_PATTERN.length).fill(0))[1],y=0;y<4&&g<h;y++){_=Li.decodeDigit(e,l,g,Li.L_PATTERNS),i+=String.fromCharCode("0".charCodeAt(0)+_);try{for(var O=(a=void 0,YN(l)),G=O.next();!G.done;G=O.next())g+=G.value}catch(fe){a={error:fe}}finally{try{G&&!G.done&&(c=O.return)&&c.call(O)}finally{if(a)throw a.error}}}return{rowOffset:g,resultString:i}},t.prototype.getBarcodeFormat=function(){return Kt.EAN_8},t}(Li);const ZN=sle;var ale=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cle=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ean13Reader=new N2,e}return ale(t,n),t.prototype.getBarcodeFormat=function(){return Kt.UPC_A},t.prototype.decode=function(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))},t.prototype.decodeRow=function(e,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,i))},t.prototype.decodeMiddle=function(e,r,i){return this.ean13Reader.decodeMiddle(e,r,i)},t.prototype.maybeReturnResult=function(e){var r=e.getText();if("0"===r.charAt(0)){var i=new wo(r.substring(1),null,null,e.getResultPoints(),Kt.UPC_A);return null!=e.getResultMetadata()&&i.putAllMetadata(e.getResultMetadata()),i}throw new Ke},t.prototype.reset=function(){this.ean13Reader.reset()},t}(Li);const qN=cle;var lle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ule=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dle=function(n){function t(){var e=n.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return lle(t,n),t.prototype.decodeMiddle=function(e,r,i){var o,s,a=this.decodeMiddleCounters.map(function(D){return D});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var c=e.getSize(),l=r[1],h=0,g=0;g<6&&l<c;g++){var y=t.decodeDigit(e,a,l,t.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y%10);try{for(var _=(o=void 0,ule(a)),w=_.next();!w.done;w=_.next())l+=w.value}catch(D){o={error:D}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}y>=10&&(h|=1<<5-g)}return t.determineNumSysAndCheckDigit(new Cn(i),h),l},t.prototype.decodeEnd=function(e,r){return t.findGuardPatternWithoutCounters(e,r,!0,t.MIDDLE_END_PATTERN)},t.prototype.checkChecksum=function(e){return Li.checkChecksum(t.convertUPCEtoUPCA(e))},t.determineNumSysAndCheckDigit=function(e,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o])return e.insert(0,"0"+i),void e.append("0"+o);throw Ke.getNotFoundInstance()},t.prototype.getBarcodeFormat=function(){return Kt.UPC_E},t.convertUPCEtoUPCA=function(e){var r=e.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Cn;i.append(e.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o)}return e.length>=8&&i.append(e.charAt(7)),i.toString()},t.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),t.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],t}(Li);const KN=dle;var fle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),QN=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hle=function(n){function t(e){var r=n.call(this)||this,i=null==e?null:e.get(Pr.POSSIBLE_FORMATS),o=[];return null!=i&&(i.indexOf(Kt.EAN_13)>-1&&o.push(new N2),i.indexOf(Kt.UPC_A)>-1&&o.push(new qN),i.indexOf(Kt.EAN_8)>-1&&o.push(new ZN),i.indexOf(Kt.UPC_E)>-1&&o.push(new KN)),0===o.length&&(o.push(new N2),o.push(new qN),o.push(new ZN),o.push(new KN)),r.readers=o,r}return fle(t,n),t.prototype.decodeRow=function(e,r,i){var o,s;try{for(var a=QN(this.readers),c=a.next();!c.done;c=a.next()){var l=c.value;try{var h=l.decodeRow(e,r,i),g=h.getBarcodeFormat()===Kt.EAN_13&&"0"===h.getText().charAt(0),y=null==i?null:i.get(Pr.POSSIBLE_FORMATS),_=null==y||y.includes(Kt.UPC_A);if(g&&_){var w=h.getRawBytes(),C=new wo(h.getText().substring(1),w,w?w.length:null,h.getResultPoints(),Kt.UPC_A);return C.putAllMetadata(h.getResultMetadata()),C}return h}catch{}}}catch(D){o={error:D}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}throw new Ke},t.prototype.reset=function(){var e,r;try{for(var i=QN(this.readers),o=i.next();!o.done;o=i.next())o.value.reset()}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t}(Fi);const P2=hle;var ple=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gle=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},e}return ple(t,n),t.prototype.decodeRow=function(e,r,i){var o=this.getValidRowData(r);if(!o)throw new Ke;var s=this.codaBarDecodeRow(o.row);if(!s)throw new Ke;return new wo(s,null,0,[new qt(o.left,e),new qt(o.right,e)],Kt.CODABAR,(new Date).getTime())},t.prototype.getValidRowData=function(e){var r=e.toArray(),i=r.indexOf(!0);if(-1===i)return null;var o=r.lastIndexOf(!0);if(o<=i)return null;for(var s=[],a=(r=r.slice(i,o+1))[0],c=1,l=1;l<r.length;l++)r[l]===a?c++:(a=r[l],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!=0?null:{row:s,left:i,right:o}},t.prototype.codaBarDecodeRow=function(e){for(var r=[],i=Math.ceil(e.reduce(function(c,l){return(c+l)/2},0));e.length>0;){var s=e.splice(0,8).splice(0,7).map(function(c){return c<i?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[s])return null;r.push(this.CODA_BAR_CHAR_SET[s])}var a=r.join("");return this.validCodaBarString(a)?a:null},t.prototype.validCodaBarString=function(e){return/^[A-D].{1,}[A-D]$/.test(e)},t}(Fi);const mle=gle;var vle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_le=function(n){function t(){var e=n.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return vle(t,n),t.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},t.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},t.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},t.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},t.prototype.getOddCounts=function(){return this.oddCounts},t.prototype.getEvenCounts=function(){return this.evenCounts},t.prototype.parseFinderValue=function(e,r){for(var i=0;i<r.length;i++)if(Fi.patternMatchVariance(e,r[i],t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return i;throw new Ke},t.count=function(e){return er.sum(new Int32Array(e))},t.increment=function(e,r){for(var i=0,o=r[0],s=1;s<e.length;s++)r[s]>o&&(o=r[s],i=s);e[i]++},t.decrement=function(e,r){for(var i=0,o=r[0],s=1;s<e.length;s++)r[s]<o&&(o=r[s],i=s);e[i]--},t.isFinderPattern=function(e){var r,i,o=e[0]+e[1],a=o/(o+e[2]+e[3]);if(a>=t.MIN_FINDER_PATTERN_RATIO&&a<=t.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),g=h.next();!g.done;g=h.next()){var y=g.value;y>l&&(l=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return l<10*c}return!1},t.MAX_AVG_VARIANCE=.2,t.MAX_INDIVIDUAL_VARIANCE=.45,t.MIN_FINDER_PATTERN_RATIO=9.5/12,t.MAX_FINDER_PATTERN_RATIO=12.5/14,t}(Fi);const vu=_le;var xle=function(){function n(t,e){this.value=t,this.checksumPortion=e}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(t){return t instanceof n&&(this.value===t.value&&this.checksumPortion===t.checksumPortion)},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}();const vm=xle;var ble=function(){function n(t,e,r,i,o){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new qt(r,o)),this.resultPoints.push(new qt(i,o))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.prototype.hashCode=function(){return this.value},n}();const JN=ble;var Cle=function(){function n(){}return n.getRSSvalue=function(t,e,r){var i,o,s=0;try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),c=a.next();!c.done;c=a.next())s+=c.value}catch(O){i={error:O}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var h=0,g=0,y=t.length,_=0;_<y-1;_++){var w=void 0;for(w=1,g|=1<<_;w<t[_];w++,g&=~(1<<_)){var C=n.combins(s-w-1,y-_-2);if(r&&0===g&&s-w-(y-_-1)>=y-_-1&&(C-=n.combins(s-w-(y-_),y-_-2)),y-_-1>1){for(var D=0,P=s-w-(y-_-2);P>e;P--)D+=n.combins(s-w-P-1,y-_-3);C-=D*(y-1-_)}else s-w>e&&C--;h+=C}s-=w}return h},n.combins=function(t,e){var r,i;t-e>e?(i=e,r=t-e):(i=t-e,r=e);for(var o=1,s=1,a=t;a>r;a--)o*=a,s<=i&&(o/=s,s++);for(;s<=i;)o/=s,s++;return o},n}();const cf=Cle;var Ele=function(){function n(){}return n.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var i=new zi(12*e),o=0,a=t[0].getRightChar().getValue(),c=11;c>=0;--c)a&1<<c&&i.set(o),o++;for(c=1;c<t.length;++c){for(var l=t[c],h=l.getLeftChar().getValue(),g=11;g>=0;--g)h&1<<g&&i.set(o),o++;if(null!==l.getRightChar()){var y=l.getRightChar().getValue();for(g=11;g>=0;--g)y&1<<g&&i.set(o),o++}}return i},n}();const Ale=Ele;var Sle=function(){function n(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}();const yu=Sle;var Ile=function(){function n(t){this.newPosition=t}return n.prototype.getNewPosition=function(){return this.newPosition},n}();const k2=Ile;var Dle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mle=function(n){function t(e,r){var i=n.call(this,e)||this;return i.value=r,i}return Dle(t,n),t.prototype.getValue=function(){return this.value},t.prototype.isFNC1=function(){return this.value===t.FNC1},t.FNC1="$",t}(k2);const Ca=Mle;var Tle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ole=function(n){function t(e,r,i){var o=n.call(this,e)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return Tle(t,n),t.prototype.getNewString=function(){return this.newString},t.prototype.isRemaining=function(){return this.remaining},t.prototype.getRemainingValue=function(){return this.remainingValue},t}(k2);const _u=Ole;var Rle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nle=function(n){function t(e,r,i){var o=n.call(this,e)||this;if(r<0||r>10||i<0||i>10)throw new Et;return o.firstDigit=r,o.secondDigit=i,o}return Rle(t,n),t.prototype.getFirstDigit=function(){return this.firstDigit},t.prototype.getSecondDigit=function(){return this.secondDigit},t.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},t.prototype.isFirstDigitFNC1=function(){return this.firstDigit===t.FNC1},t.prototype.isSecondDigitFNC1=function(){return this.secondDigit===t.FNC1},t.prototype.isAnyFNC1=function(){return this.firstDigit===t.FNC1||this.secondDigit===t.FNC1},t.FNC1=10,t}(k2);const lf=Nle;var ym=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ple=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(t){var e,r,i,o,s,a,c,l;if(!t)return null;if(t.length<2)throw new Ke;var h=t.substring(0,2);try{for(var g=ym(n.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next())if((_=y.value)[0]===h)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],t):n.processFixedAI(2,_[1],t)}catch(fe){e={error:fe}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(e)throw e.error}}if(t.length<3)throw new Ke;var w=t.substring(0,3);try{for(var C=ym(n.THREE_DIGIT_DATA_LENGTH),D=C.next();!D.done;D=C.next())if((_=D.value)[0]===w)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],t):n.processFixedAI(3,_[1],t)}catch(fe){i={error:fe}}finally{try{D&&!D.done&&(o=C.return)&&o.call(C)}finally{if(i)throw i.error}}try{for(var P=ym(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=P.next();!O.done;O=P.next())if((_=O.value)[0]===w)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],t):n.processFixedAI(4,_[1],t)}catch(fe){s={error:fe}}finally{try{O&&!O.done&&(a=P.return)&&a.call(P)}finally{if(s)throw s.error}}if(t.length<4)throw new Ke;var G=t.substring(0,4);try{for(var Z=ym(n.FOUR_DIGIT_DATA_LENGTH),oe=Z.next();!oe.done;oe=Z.next()){var _;if((_=oe.value)[0]===G)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],t):n.processFixedAI(4,_[1],t)}}catch(fe){c={error:fe}}finally{try{oe&&!oe.done&&(l=Z.return)&&l.call(Z)}finally{if(c)throw c.error}}throw new Ke},n.processFixedAI=function(t,e,r){if(r.length<t)throw new Ke;var i=r.substring(0,t);if(r.length<t+e)throw new Ke;var o=r.substring(t,t+e),s=r.substring(t+e),a="("+i+")"+o,c=n.parseFieldsInGeneralPurpose(s);return null==c?a:a+c},n.processVariableAI=function(t,e,r){var o,i=r.substring(0,t),s=r.substring(t,o=r.length<t+e?r.length:t+e),a=r.substring(o),c="("+i+")"+s,l=n.parseFieldsInGeneralPurpose(a);return null==l?c:c+l},n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}();const kle=Ple;var Fle=function(){function n(t){this.buffer=new Cn,this.information=t}return n.prototype.decodeAllCodes=function(t,e){for(var r=e,i=null;;){var o=this.decodeGeneralPurposeField(r,i),s=kle.parseFieldsInGeneralPurpose(o.getNewString());if(null!=s&&t.append(s),i=o.isRemaining()?""+o.getRemainingValue():null,r===o.getNewPosition())break;r=o.getNewPosition()}return t.toString()},n.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},n.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new lf(this.information.getSize(),0===e?lf.FNC1:e-1,lf.FNC1)}var r=this.extractNumericValueFromBitArray(t,7);return new lf(t+7,(r-8)/11,(r-8)%11)},n.prototype.extractNumericValueFromBitArray=function(t,e){return n.extractNumericValueFromBitArray(this.information,t,e)},n.extractNumericValueFromBitArray=function(t,e,r){for(var i=0,o=0;o<r;++o)t.get(e+o)&&(i|=1<<r-o-1);return i},n.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var r=this.parseBlocks();return null!=r&&r.isRemaining()?new _u(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new _u(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var t,e;do{var r=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),r===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return e=t.isSecondDigitFNC1()?new _u(this.current.getPosition(),this.buffer.toString()):new _u(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new yu(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1())return e=new _u(this.current.getPosition(),this.buffer.toString()),new yu(!0,e);this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yu(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new _u(this.current.getPosition(),this.buffer.toString());return new yu(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yu(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new _u(this.current.getPosition(),this.buffer.toString());return new yu(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yu(!1)},n.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(t,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ca(t+5,Ca.FNC1);if(e>=5&&e<15)return new Ca(t+5,"0"+(e-5));var o,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Ca(t+7,""+(r+1));if(r>=90&&r<116)return new Ca(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Et}return new Ca(t+8,o)},n.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ca(t+5,Ca.FNC1);if(e>=5&&e<15)return new Ca(t+5,"0"+(e-5));var i,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Ca(t+6,""+(r+33));switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Qa("Decoding invalid alphanumeric value: "+r)}return new Ca(t+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},n}();const _m=Fle;var Lle=function(){function n(t){this.information=t,this.generalDecoder=new _m(t)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}();const eP=Lle;var Ble=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vle=function(n){function t(e){return n.call(this,e)||this}return Ble(t,n),t.prototype.encodeCompressedGtin=function(e,r){e.append("(01)");var i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,i)},t.prototype.encodeCompressedGtinWithoutAI=function(e,r,i){for(var o=0;o<4;++o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);s/100==0&&e.append("0"),s/10==0&&e.append("0"),e.append(s)}t.appendCheckDigit(e,i)},t.appendCheckDigit=function(e,r){for(var i=0,o=0;o<13;o++){var s=e.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);i+=1&o?s:3*s}10==(i=10-i%10)&&(i=0),e.append(i)},t.GTIN_SIZE=40,t}(eP);const Ea=Vle;var Ule=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jle=function(n){function t(e){return n.call(this,e)||this}return Ule(t,n),t.prototype.parseInformation=function(){var e=new Cn;e.append("(01)");var r=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,t.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE+44)},t.HEADER_SIZE=4,t}(Ea);const Hle=jle;var zle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wle=function(n){function t(e){return n.call(this,e)||this}return zle(t,n),t.prototype.parseInformation=function(){var e=new Cn;return this.getGeneralDecoder().decodeAllCodes(e,t.HEADER_SIZE)},t.HEADER_SIZE=5,t}(eP);const Gle=Wle;var Xle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$le=function(n){function t(e){return n.call(this,e)||this}return Xle(t,n),t.prototype.encodeCompressedWeight=function(e,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(e,o);for(var s=this.checkWeight(o),a=1e5,c=0;c<5;++c)s/a==0&&e.append("0"),a/=10;e.append(s)},t}(Ea);const xm=$le;var Yle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zle=function(n){function t(e){return n.call(this,e)||this}return Yle(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+xm.GTIN_SIZE+t.WEIGHT_SIZE)throw new Ke;var e=new Cn;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+xm.GTIN_SIZE,t.WEIGHT_SIZE),e.toString()},t.HEADER_SIZE=5,t.WEIGHT_SIZE=15,t}(xm);const tP=Zle;var qle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kle=function(n){function t(e){return n.call(this,e)||this}return qle(t,n),t.prototype.addWeightCode=function(e,r){e.append("(3103)")},t.prototype.checkWeight=function(e){return e},t}(tP);const Qle=Kle;var Jle=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eue=function(n){function t(e){return n.call(this,e)||this}return Jle(t,n),t.prototype.addWeightCode=function(e,r){e.append(r<1e4?"(3202)":"(3203)")},t.prototype.checkWeight=function(e){return e<1e4?e:e-1e4},t}(tP);const tue=eue;var nue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rue=function(n){function t(e){return n.call(this,e)||this}return nue(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ea.GTIN_SIZE)throw new Ke;var e=new Cn;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ea.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ea.GTIN_SIZE+t.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t}(Ea);const iue=rue;var oue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sue=function(n){function t(e){return n.call(this,e)||this}return oue(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()<t.HEADER_SIZE+Ea.GTIN_SIZE)throw new Ke;var e=new Cn;this.encodeCompressedGtin(e,t.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ea.GTIN_SIZE,t.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(t.HEADER_SIZE+Ea.GTIN_SIZE+t.LAST_DIGIT_SIZE,t.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(t.HEADER_SIZE+Ea.GTIN_SIZE+t.LAST_DIGIT_SIZE+t.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()},t.HEADER_SIZE=8,t.LAST_DIGIT_SIZE=2,t.FIRST_THREE_DIGITS_SIZE=10,t}(Ea);const aue=sue;var cue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lue=function(n){function t(e,r,i){var o=n.call(this,e)||this;return o.dateCode=i,o.firstAIdigits=r,o}return cue(t,n),t.prototype.parseInformation=function(){if(this.getInformation().getSize()!==t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE+t.DATE_SIZE)throw new Ke;var e=new Cn;return this.encodeCompressedGtin(e,t.HEADER_SIZE),this.encodeCompressedWeight(e,t.HEADER_SIZE+t.GTIN_SIZE,t.WEIGHT_SIZE),this.encodeCompressedDate(e,t.HEADER_SIZE+t.GTIN_SIZE+t.WEIGHT_SIZE),e.toString()},t.prototype.encodeCompressedDate=function(e,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,t.DATE_SIZE);if(38400!==i){e.append("("),e.append(this.dateCode),e.append(")");var o=i%32,s=(i/=32)%12+1,a=i/=12;a/10==0&&e.append("0"),e.append(a),s/10==0&&e.append("0"),e.append(s),o/10==0&&e.append("0"),e.append(o)}},t.prototype.addWeightCode=function(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")},t.prototype.checkWeight=function(e){return e%1e5},t.HEADER_SIZE=8,t.WEIGHT_SIZE=20,t.DATE_SIZE=16,t}(xm);const ml=lue;var due=function(){function n(t,e,r,i){this.leftchar=t,this.rightchar=e,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return null==this.rightchar},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},n.equals=function(t,e){return t instanceof n&&n.equalsOrNull(t.leftchar,e.leftchar)&&n.equalsOrNull(t.rightchar,e.rightchar)&&n.equalsOrNull(t.finderpattern,e.finderpattern)},n.equalsOrNull=function(t,e){return null===t?null===e:n.equals(t,e)},n.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},n}();const nP=due;var fue=function(){function n(t,e,r){this.pairs=t,this.rowNumber=e,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(t,e){return t instanceof n&&this.checkEqualitity(t,e)&&t.wasReversed===e.wasReversed},n.prototype.checkEqualitity=function(t,e){var r;if(t&&e)return t.forEach(function(i,o){e.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r},n}();const hue=fue;var pue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vl=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gue=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.pairs=new Array(t.MAX_PAIRS),e.rows=new Array,e.startEnd=[2],e}return pue(t,n),t.prototype.decodeRow=function(e,r,i){this.pairs.length=0,this.startFromEven=!1;try{return t.constructResult(this.decodeRow2pairs(e,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,t.constructResult(this.decodeRow2pairs(e,r))},t.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},t.prototype.decodeRow2pairs=function(e,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(a){if(a instanceof Ke){if(!this.pairs.length)throw new Ke;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(o=!!this.rows.length,this.storeRow(e,!1),o){var s=this.checkRowsBoolean(!1);if(null!=s||null!=(s=this.checkRowsBoolean(!0)))return s}throw new Ke},t.prototype.checkRowsBoolean=function(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return e&&(this.rows=this.rows.reverse()),r},t.prototype.checkRows=function(e,r){for(var i,o,s=r;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,vl(e)),l=c.next();!l.done;l=c.next())this.pairs.push(l.value.getPairs())}catch(y){i={error:y}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(a.getPairs()),t.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(e);g.push(a);try{return this.checkRows(g,s+1)}catch(y){console.log(y)}}}throw new Ke},t.isValidSequence=function(e){var r,i;try{for(var o=vl(t.FINDER_PATTERN_SEQUENCES),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(e.length>a.length)){for(var c=!0,l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!==a[l]){c=!1;break}if(c)return!0}}}catch(h){r={error:h}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},t.prototype.storeRow=function(e,r){for(var i=0,o=!1,s=!1;i<this.rows.length;){var a=this.rows[i];if(a.getRowNumber()>e){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}s||o||t.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new hue(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))},t.prototype.removePartialRows=function(e,r){var i,o,s,a,c,l;try{for(var h=vl(r),g=h.next();!g.done;g=h.next()){var y=g.value;if(y.getPairs().length!==e.length)try{for(var w=(s=void 0,vl(y.getPairs())),C=w.next();!C.done;C=w.next()){var D=C.value;try{for(var O=(c=void 0,vl(e)),G=O.next();!G.done;G=O.next())if(nP.equals(D,G.value)){!0;break}}catch(oe){c={error:oe}}finally{try{G&&!G.done&&(l=O.return)&&l.call(O)}finally{if(c)throw c.error}}}}catch(oe){s={error:oe}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}}}catch(oe){i={error:oe}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}},t.isPartialRow=function(e,r){var i,o,s,a,c,l;try{for(var h=vl(r),g=h.next();!g.done;g=h.next()){var y=g.value,_=!0;try{for(var w=(s=void 0,vl(e)),C=w.next();!C.done;C=w.next()){var D=C.value,P=!1;try{for(var O=(c=void 0,vl(y.getPairs())),G=O.next();!G.done;G=O.next())if(D.equals(G.value)){P=!0;break}}catch(oe){c={error:oe}}finally{try{G&&!G.done&&(l=O.return)&&l.call(O)}finally{if(c)throw c.error}}if(!P){_=!1;break}}}catch(oe){s={error:oe}}finally{try{C&&!C.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}if(_)return!0}}catch(oe){i={error:oe}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return!1},t.prototype.getRows=function(){return this.rows},t.constructResult=function(e){var i=function uue(n){try{if(n.get(1))return new Hle(n);if(!n.get(2))return new Gle(n);switch(_m.extractNumericValueFromBitArray(n,1,4)){case 4:return new Qle(n);case 5:return new tue(n)}switch(_m.extractNumericValueFromBitArray(n,1,5)){case 12:return new iue(n);case 13:return new aue(n)}switch(_m.extractNumericValueFromBitArray(n,1,7)){case 56:return new ml(n,"310","11");case 57:return new ml(n,"320","11");case 58:return new ml(n,"310","13");case 59:return new ml(n,"320","13");case 60:return new ml(n,"310","15");case 61:return new ml(n,"320","15");case 62:return new ml(n,"310","17");case 63:return new ml(n,"320","17")}}catch(i){throw console.log(i),new Qa("unknown decoder: "+n)}}(Ale.buildBitArray(e)),o=i.parseInformation(),s=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints();return new wo(o,null,null,[s[0],s[1],a[0],a[1]],Kt.RSS_EXPANDED,null)},t.prototype.checkChecksum=function(){var e=this.pairs.get(0),r=e.getLeftChar(),i=e.getRightChar();if(null===i)return!1;for(var o=i.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var c=this.pairs.get(a);o+=c.getLeftChar().getChecksumPortion(),s++;var l=c.getRightChar();null!=l&&(o+=l.getChecksumPortion(),s++)}return 211*(s-4)+(o%=211)===r.getValue()},t.getNextSecondBar=function(e,r){var i;return e.get(r)?(i=e.getNextUnset(r),i=e.getNextSet(i)):(i=e.getNextSet(r),i=e.getNextUnset(i)),i},t.prototype.retrieveNextPair=function(e,r,i){var o=r.length%2==0;this.startFromEven&&(o=!o);var s,a=!0,c=-1;do{this.findNextPair(e,r,c),null===(s=this.parseFoundFinderPattern(e,i,o))?c=t.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);var h,l=this.decodeDataCharacter(e,s,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Ke;try{h=this.decodeDataCharacter(e,s,o,!1)}catch(g){h=null,console.log(g)}return new nP(l,h,s,!0)},t.prototype.isEmptyPair=function(e){return 0===e.length},t.prototype.findNextPair=function(e,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a,s=e.getSize();a=i>=0?i:this.isEmptyPair(r)?0:r[r.length-1].getFinderPattern().getStartEnd()[1];var l=r.length%2!=0;this.startFromEven&&(l=!l);for(var h=!1;a<s&&(h=!e.get(a));)a++;for(var g=0,y=a,_=a;_<s;_++)if(e.get(_)!==h)o[g]++;else{if(3===g){if(l&&t.reverseCounters(o),t.isFinderPattern(o))return this.startEnd[0]=y,void(this.startEnd[1]=_);l&&t.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new Ke},t.reverseCounters=function(e){for(var r=e.length,i=0;i<r/2;++i){var o=e[i];e[i]=e[r-i-1],e[r-i-1]=o}},t.prototype.parseFoundFinderPattern=function(e,r,i){var o,s,a;if(i){for(var c=this.startEnd[0]-1;c>=0&&!e.get(c);)c--;c++,o=this.startEnd[0]-c,s=c,a=this.startEnd[1]}else s=this.startEnd[0],o=(a=e.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var h,l=this.getDecodeFinderCounters();Nr.arraycopy(l,0,l,1,l.length-1),l[0]=o;try{h=this.parseFinderValue(l,t.FINDER_PATTERNS)}catch{return null}return new JN(h,[s,a],s,a,r)},t.prototype.decodeDataCharacter=function(e,r,i,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)t.recordPatternInReverse(e,r.getStartEnd()[0],s);else{t.recordPattern(e,r.getStartEnd()[1],s);for(var c=0,l=s.length-1;c<l;c++,l--){var h=s[c];s[c]=s[l],s[l]=h}}var y=er.sum(new Int32Array(s))/17,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new Ke;var w=this.getOddCounts(),C=this.getEvenCounts(),D=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(c=0;c<s.length;c++){var O=1*s[c]/y,G=O+.5;if(G<1){if(O<.3)throw new Ke;G=1}else if(G>8){if(O>8.7)throw new Ke;G=8}var Z=c/2;1&c?(C[Z]=G,P[Z]=O-G):(w[Z]=G,D[Z]=O-G)}this.adjustOddEvenCounts(17);var oe=4*r.getValue()+(i?0:2)+(o?0:1)-1,fe=0,Ie=0;for(c=w.length-1;c>=0;c--)t.isNotA1left(r,i,o)&&(Ie+=w[c]*t.WEIGHTS[oe][2*c]),fe+=w[c];var et=0;for(c=C.length-1;c>=0;c--)t.isNotA1left(r,i,o)&&(et+=C[c]*t.WEIGHTS[oe][2*c+1]);var dt=Ie+et;if(1&fe||fe>13||fe<4)throw new Ke;var Vt=(13-fe)/2,Nt=t.SYMBOL_WIDEST[Vt],sn=9-Nt,yr=cf.getRSSvalue(w,Nt,!0),Sn=cf.getRSSvalue(C,sn,!1);return new vm(yr*t.EVEN_TOTAL_SUBSET[Vt]+Sn+t.GSUM[Vt],dt)},t.isNotA1left=function(e,r,i){return!(0===e.getValue()&&r&&i)},t.prototype.adjustOddEvenCounts=function(e){var r=er.sum(new Int32Array(this.getOddCounts())),i=er.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;r>13?s=!0:r<4&&(o=!0);var a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);var l=r+i-e,h=1==(1&r),g=0==(1&i);if(1===l)if(h){if(g)throw new Ke;s=!0}else{if(!g)throw new Ke;c=!0}else if(-1===l)if(h){if(g)throw new Ke;o=!0}else{if(!g)throw new Ke;a=!0}else{if(0!==l)throw new Ke;if(h){if(!g)throw new Ke;r<i?(o=!0,c=!0):(s=!0,a=!0)}else if(g)throw new Ke}if(o){if(s)throw new Ke;t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new Ke;t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.SYMBOL_WIDEST=[7,5,4,3,1],t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],t.GSUM=[0,348,1388,2948,3988],t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],t.FINDER_PATTERN_SEQUENCES=[[t.FINDER_PAT_A=0,t.FINDER_PAT_A],[t.FINDER_PAT_A,t.FINDER_PAT_B=1,t.FINDER_PAT_B],[t.FINDER_PAT_A,t.FINDER_PAT_C=2,t.FINDER_PAT_B,t.FINDER_PAT_D=3],[t.FINDER_PAT_A,t.FINDER_PAT_E=4,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_C],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_F=5],[t.FINDER_PAT_A,t.FINDER_PAT_E,t.FINDER_PAT_B,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F],[t.FINDER_PAT_A,t.FINDER_PAT_A,t.FINDER_PAT_B,t.FINDER_PAT_B,t.FINDER_PAT_C,t.FINDER_PAT_D,t.FINDER_PAT_D,t.FINDER_PAT_E,t.FINDER_PAT_E,t.FINDER_PAT_F,t.FINDER_PAT_F]],t.MAX_PAIRS=11,t}(vu);const mue=gue;var vue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yue=function(n){function t(e,r,i){var o=n.call(this,e,r)||this;return o.count=0,o.finderPattern=i,o}return vue(t,n),t.prototype.getFinderPattern=function(){return this.finderPattern},t.prototype.getCount=function(){return this.count},t.prototype.incrementCount=function(){this.count++},t}(vm);const _ue=yue;var xue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bue=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return xue(t,n),t.prototype.decodeRow=function(e,r,i){var o,s,a,c,l=this.decodePair(r,!1,e,i);t.addOrTally(this.possibleLeftPairs,l),r.reverse();var h=this.decodePair(r,!0,e,i);t.addOrTally(this.possibleRightPairs,h),r.reverse();try{for(var g=F2(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var _=y.value;if(_.getCount()>1)try{for(var w=(a=void 0,F2(this.possibleRightPairs)),C=w.next();!C.done;C=w.next()){var D=C.value;if(D.getCount()>1&&t.checkChecksum(_,D))return t.constructResult(_,D)}}catch(P){a={error:P}}finally{try{C&&!C.done&&(c=w.return)&&c.call(w)}finally{if(a)throw a.error}}}}catch(P){o={error:P}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}throw new Ke},t.addOrTally=function(e,r){var i,o;if(null!=r){var s=!1;try{for(var a=F2(e),c=a.next();!c.done;c=a.next()){var l=c.value;if(l.getValue()===r.getValue()){l.incrementCount(),s=!0;break}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}s||e.push(r)}},t.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},t.constructResult=function(e,r){for(var i=4537077*e.getValue()+r.getValue(),o=new String(i).toString(),s=new Cn,a=13-o.length;a>0;a--)s.append("0");s.append(o);var c=0;for(a=0;a<13;a++){var l=s.charAt(a).charCodeAt(0)-"0".charCodeAt(0);c+=1&a?l:3*l}10==(c=10-c%10)&&(c=0),s.append(c.toString());var h=e.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new wo(s.toString(),null,0,[h[0],h[1],g[0],g[1]],Kt.RSS_14,(new Date).getTime())},t.checkChecksum=function(e,r){var i=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},t.prototype.decodePair=function(e,r,i,o){try{var s=this.findFinderPattern(e,r),a=this.parseFoundFinderPattern(e,i,r,s),c=null==o?null:o.get(Pr.NEED_RESULT_POINT_CALLBACK);if(null!=c){var l=(s[0]+s[1])/2;r&&(l=e.getSize()-1-l),c.foundPossibleResultPoint(new qt(l,i))}var h=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new _ue(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}},t.prototype.decodeDataCharacter=function(e,r,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)Fi.recordPatternInReverse(e,r.getStartEnd()[0],o);else{Fi.recordPattern(e,r.getStartEnd()[1]+1,o);for(var a=0,c=o.length-1;a<c;a++,c--){var l=o[a];o[a]=o[c],o[c]=l}}var h=i?16:15,g=er.sum(new Int32Array(o))/h,y=this.getOddCounts(),_=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(a=0;a<o.length;a++){var D=o[a]/g,P=Math.floor(D+.5);P<1?P=1:P>8&&(P=8);var O=Math.floor(a/2);1&a?(_[O]=P,C[O]=D-P):(y[O]=P,w[O]=D-P)}this.adjustOddEvenCounts(i,h);var G=0,Z=0;for(a=y.length-1;a>=0;a--)Z*=9,Z+=y[a],G+=y[a];var oe=0,fe=0;for(a=_.length-1;a>=0;a--)oe*=9,oe+=_[a],fe+=_[a];var Re,et,Ie=Z+3*oe;if(i){if(1&G||G>12||G<4)throw new Ke;var dt=9-(et=t.OUTSIDE_ODD_WIDEST[Re=(12-G)/2]),Vt=cf.getRSSvalue(y,et,!1),Nt=cf.getRSSvalue(_,dt,!0);return new vm(Vt*t.OUTSIDE_EVEN_TOTAL_SUBSET[Re]+Nt+t.OUTSIDE_GSUM[Re],Ie)}if(1&fe||fe>10||fe<4)throw new Ke;return dt=9-(et=t.INSIDE_ODD_WIDEST[Re=(10-fe)/2]),Vt=cf.getRSSvalue(y,et,!0),Nt=cf.getRSSvalue(_,dt,!1),new vm(Nt*t.INSIDE_ODD_TOTAL_SUBSET[Re]+Vt+t.INSIDE_GSUM[Re],Ie)},t.prototype.findFinderPattern=function(e,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=e.getSize(),s=!1,a=0;a<o&&r!==(s=!e.get(a));)a++;for(var c=0,l=a,h=a;h<o;h++)if(e.get(h)!==s)i[c]++;else{if(3===c){if(vu.isFinderPattern(i))return[l,h];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new Ke},t.prototype.parseFoundFinderPattern=function(e,r,i,o){for(var s=e.get(o[0]),a=o[0]-1;a>=0&&s!==e.get(a);)a--;a++;var c=o[0]-a,l=this.getDecodeFinderCounters(),h=new Int32Array(l.length);Nr.arraycopy(l,0,h,1,l.length-1),h[0]=c;var g=this.parseFinderValue(h,t.FINDER_PATTERNS),y=a,_=o[1];return i&&(y=e.getSize()-1-y,_=e.getSize()-1-_),new JN(g,[a,o[1]],y,_,r)},t.prototype.adjustOddEvenCounts=function(e,r){var i=er.sum(new Int32Array(this.getOddCounts())),o=er.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,c=!1,l=!1;e?(i>12?a=!0:i<4&&(s=!0),o>12?l=!0:o<4&&(c=!0)):(i>11?a=!0:i<5&&(s=!0),o>10?l=!0:o<4&&(c=!0));var h=i+o-r,g=(1&i)==(e?1:0),y=1==(1&o);if(1===h)if(g){if(y)throw new Ke;a=!0}else{if(!y)throw new Ke;l=!0}else if(-1===h)if(g){if(y)throw new Ke;s=!0}else{if(!y)throw new Ke;c=!0}else{if(0!==h)throw new Ke;if(g){if(!y)throw new Ke;i<o?(s=!0,l=!0):(a=!0,c=!0)}else if(y)throw new Ke}if(s){if(a)throw new Ke;vu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&vu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(l)throw new Ke;vu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&vu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],t.OUTSIDE_GSUM=[0,161,961,2015,2715],t.INSIDE_GSUM=[0,336,1036,1516],t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],t.INSIDE_ODD_WIDEST=[2,4,6,8],t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],t}(vu);const rP=bue;var wue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cue=function(n){function t(e){var r=n.call(this)||this;r.readers=[];var i=e?e.get(Pr.POSSIBLE_FORMATS):null,o=e&&void 0!==e.get(Pr.ASSUME_CODE_39_CHECK_DIGIT),s=e&&void 0!==e.get(Pr.ENABLE_CODE_39_EXTENDED_MODE);return i&&((i.includes(Kt.EAN_13)||i.includes(Kt.UPC_A)||i.includes(Kt.EAN_8)||i.includes(Kt.UPC_E))&&r.readers.push(new P2(e)),i.includes(Kt.CODE_39)&&r.readers.push(new WN(o,s)),i.includes(Kt.CODE_93)&&r.readers.push(new GN),i.includes(Kt.CODE_128)&&r.readers.push(new zN),i.includes(Kt.ITF)&&r.readers.push(new XN),i.includes(Kt.CODABAR)&&r.readers.push(new mle),i.includes(Kt.RSS_14)&&r.readers.push(new rP),i.includes(Kt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new mue))),0===r.readers.length&&(r.readers.push(new P2(e)),r.readers.push(new WN),r.readers.push(new GN),r.readers.push(new P2(e)),r.readers.push(new zN),r.readers.push(new XN),r.readers.push(new rP)),r}return wue(t,n),t.prototype.decodeRow=function(e,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,r,i)}catch{}throw new Ke},t.prototype.reset=function(){this.readers.forEach(function(e){return e.reset()})},t}(Fi);const uf=Cue;var Eue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),iP=(function(n){Eue(function t(e,r){return void 0===e&&(e=500),n.call(this,new uf(r),e,r)||this},n)}(sf),function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),cr=function(){function n(t,e,r){this.ecCodewords=t,this.ecBlocks=[e],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),ir=function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),Aue=function(){function n(t,e,r,i,o,s){var a,c;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=s;var l=0,h=s.getECCodewords(),g=s.getECBlocks();try{for(var y=iP(g),_=y.next();!_.done;_=y.next()){var w=_.value;l+=w.getCount()*(w.getDataCodewords()+h)}}catch(C){a={error:C}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(a)throw a.error}}this.totalCodewords=l}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(t,e){var r,i;if(1&t||1&e)throw new Et;try{for(var o=iP(n.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===t&&a.symbolSizeColumns===e)return a}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new Et},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new cr(5,new ir(1,3))),new n(2,12,12,10,10,new cr(7,new ir(1,5))),new n(3,14,14,12,12,new cr(10,new ir(1,8))),new n(4,16,16,14,14,new cr(12,new ir(1,12))),new n(5,18,18,16,16,new cr(14,new ir(1,18))),new n(6,20,20,18,18,new cr(18,new ir(1,22))),new n(7,22,22,20,20,new cr(20,new ir(1,30))),new n(8,24,24,22,22,new cr(24,new ir(1,36))),new n(9,26,26,24,24,new cr(28,new ir(1,44))),new n(10,32,32,14,14,new cr(36,new ir(1,62))),new n(11,36,36,16,16,new cr(42,new ir(1,86))),new n(12,40,40,18,18,new cr(48,new ir(1,114))),new n(13,44,44,20,20,new cr(56,new ir(1,144))),new n(14,48,48,22,22,new cr(68,new ir(1,174))),new n(15,52,52,24,24,new cr(42,new ir(2,102))),new n(16,64,64,14,14,new cr(56,new ir(2,140))),new n(17,72,72,16,16,new cr(36,new ir(4,92))),new n(18,80,80,18,18,new cr(48,new ir(4,114))),new n(19,88,88,20,20,new cr(56,new ir(4,144))),new n(20,96,96,22,22,new cr(68,new ir(4,174))),new n(21,104,104,24,24,new cr(56,new ir(6,136))),new n(22,120,120,18,18,new cr(68,new ir(6,175))),new n(23,132,132,20,20,new cr(62,new ir(8,163))),new n(24,144,144,22,22,new cr(62,new ir(8,156),new ir(2,155))),new n(25,8,18,6,16,new cr(7,new ir(1,5))),new n(26,8,32,6,14,new cr(11,new ir(1,10))),new n(27,12,26,10,24,new cr(14,new ir(1,16))),new n(28,12,36,10,16,new cr(18,new ir(1,22))),new n(29,16,36,14,16,new cr(24,new ir(1,32))),new n(30,16,48,14,22,new cr(28,new ir(1,49)))]},n.VERSIONS=n.buildVersions(),n}();const Sue=Aue;var Iue=function(){function n(t){var e=t.getHeight();if(e<8||e>144||1&e)throw new Et;this.version=n.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new us(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(t){var e=t.getHeight(),r=t.getWidth();return Sue.getVersionForDimensions(e,r)},n.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,c=!1,l=!1,h=!1;do{if(r!==o||0!==i||a)if(r===o-2&&0===i&&3&s&&!c)t[e++]=255&this.readCorner2(o,s),r-=2,i+=2,c=!0;else if(r!==o+4||2!==i||7&s||l)if(r!==o-2||0!==i||4!=(7&s)||h){do{r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(t[e++]=255&this.readUtah(r,i,o,s)),r-=2,i+=2}while(r>=0&&i<s);r+=1,i+=3;do{r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(t[e++]=255&this.readUtah(r,i,o,s)),r+=2,i-=2}while(r<o&&i>=0);r+=3,i+=1}else t[e++]=255&this.readCorner4(o,s),r-=2,i+=2,h=!0;else t[e++]=255&this.readCorner3(o,s),r-=2,i+=2,l=!0;else t[e++]=255&this.readCorner1(o,s),r-=2,i+=2,a=!0}while(r<o||i<s);if(e!==this.version.getTotalCodewords())throw new Et;return t},n.prototype.readModule=function(t,e,r,i){return t<0&&(t+=r,e+=4-(r+4&7)),e<0&&(e+=i,t+=4-(i+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},n.prototype.readUtah=function(t,e,r,i){var o=0;return this.readModule(t-2,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t-2,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t-1,e,r,i)&&(o|=1),o<<=1,this.readModule(t,e-2,r,i)&&(o|=1),o<<=1,this.readModule(t,e-1,r,i)&&(o|=1),o<<=1,this.readModule(t,e,r,i)&&(o|=1),o},n.prototype.readCorner1=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,1,t,e)&&(r|=1),r<<=1,this.readModule(t-1,2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.readCorner2=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-4,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner3=function(t,e){var r=0;return this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(0,e-3,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-3,t,e)&&(r|=1),r<<=1,this.readModule(1,e-2,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r},n.prototype.readCorner4=function(t,e){var r=0;return this.readModule(t-3,0,t,e)&&(r|=1),r<<=1,this.readModule(t-2,0,t,e)&&(r|=1),r<<=1,this.readModule(t-1,0,t,e)&&(r|=1),r<<=1,this.readModule(0,e-2,t,e)&&(r|=1),r<<=1,this.readModule(0,e-1,t,e)&&(r|=1),r<<=1,this.readModule(1,e-1,t,e)&&(r|=1),r<<=1,this.readModule(2,e-1,t,e)&&(r|=1),r<<=1,this.readModule(3,e-1,t,e)&&(r|=1),r},n.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new zt("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),s=e/i|0,a=r/o|0,h=new us(a*o,s*i),g=0;g<s;++g)for(var y=g*i,_=0;_<a;++_)for(var w=_*o,C=0;C<i;++C)for(var D=g*(i+2)+1+C,P=y+C,O=0;O<o;++O)t.get(_*(o+2)+1+O,D)&&h.set(w+O,P);return h},n}();const Due=Iue;var oP=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mue=function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e){var r,i,o,s,a=e.getECBlocks(),c=0,l=a.getECBlocks();try{for(var h=oP(l),g=h.next();!g.done;g=h.next())c+=(y=g.value).getCount()}catch(yr){r={error:yr}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var _=new Array(c),w=0;try{for(var C=oP(l),D=C.next();!D.done;D=C.next())for(var y=D.value,P=0;P<y.getCount();P++){var O=y.getDataCodewords(),G=a.getECCodewords()+O;_[w++]=new n(O,new Uint8Array(G))}}catch(yr){o={error:yr}}finally{try{D&&!D.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}var oe=_[0].codewords.length-a.getECCodewords(),fe=oe-1,Ie=0;for(P=0;P<fe;P++)for(var Re=0;Re<w;Re++)_[Re].codewords[P]=t[Ie++];var et=24===e.getVersionNumber(),dt=et?8:w;for(Re=0;Re<dt;Re++)_[Re].codewords[oe-1]=t[Ie++];var Vt=_[0].codewords.length;for(P=oe;P<Vt;P++)for(Re=0;Re<w;Re++){var Nt=et?(Re+8)%w:Re;_[Nt].codewords[et&&Nt>7?P-1:P]=t[Ie++]}if(Ie!==t.length)throw new zt;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const Tue=Mue;var Oue=function(){function n(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new zt(""+t);var e=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var s=8-r,a=t<s?t:s;e=(o[i]&255>>8-a<<(c=s-a))>>c,t-=a,8===(r+=a)&&(r=0,i++)}if(t>0){for(;t>=8;)e=e<<8|255&o[i],i++,t-=8;var c;t>0&&(e=e<<t|(o[i]&255>>(c=8-t)<<c)>>c,r+=t)}return this.bitOffset=r,this.byteOffset=i,e},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}();const sP=Oue;var Wi=function(n){return n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE",n}(Wi||{}),Rue=function(){function n(){}return n.decode=function(t){var e=new sP(t),r=new Cn,i=new Cn,o=new Array,s=Wi.ASCII_ENCODE;do{if(s===Wi.ASCII_ENCODE)s=this.decodeAsciiSegment(e,r,i);else{switch(s){case Wi.C40_ENCODE:this.decodeC40Segment(e,r);break;case Wi.TEXT_ENCODE:this.decodeTextSegment(e,r);break;case Wi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,r);break;case Wi.EDIFACT_ENCODE:this.decodeEdifactSegment(e,r);break;case Wi.BASE256_ENCODE:this.decodeBase256Segment(e,r,o);break;default:throw new Et}s=Wi.ASCII_ENCODE}}while(s!==Wi.PAD_ENCODE&&e.available()>0);return i.length()>0&&r.append(i.toString()),new hm(t,r.toString(),0===o.length?null:o,null)},n.decodeAsciiSegment=function(t,e,r){var i=!1;do{var o=t.readBits(8);if(0===o)throw new Et;if(o<=128)return i&&(o+=128),e.append(String.fromCharCode(o-1)),Wi.ASCII_ENCODE;if(129===o)return Wi.PAD_ENCODE;if(o<=229){var s=o-130;s<10&&e.append("0"),e.append(""+s)}else switch(o){case 230:return Wi.C40_ENCODE;case 231:return Wi.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:e.append("[)>\x1e05\x1d"),r.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),r.insert(0,"\x1e\x04");break;case 238:return Wi.ANSIX12_ENCODE;case 239:return Wi.TEXT_ENCODE;case 240:return Wi.EDIFACT_ENCODE;default:if(254!==o||0!==t.available())throw new Et}}while(t.available()>0);return Wi.ASCII_ENCODE},n.decodeC40Segment=function(t,e){var r=!1,i=[],o=0;do{if(8===t.available())return;var s=t.readBits(8);if(254===s)return;this.parseTwoBytes(s,t.readBits(8),i);for(var a=0;a<3;a++){var c=i[a];switch(o){case 0:if(c<3)o=c+1;else{if(!(c<this.C40_BASIC_SET_CHARS.length))throw new Et;var l=this.C40_BASIC_SET_CHARS[c];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}break;case 1:r?(e.append(String.fromCharCode(c+128)),r=!1):e.append(String.fromCharCode(c)),o=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length)l=this.C40_SHIFT2_SET_CHARS[c],r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l);else switch(c){case 27:e.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Et}o=0;break;case 3:r?(e.append(String.fromCharCode(c+224)),r=!1):e.append(String.fromCharCode(c+96)),o=0;break;default:throw new Et}}}while(t.available()>0)},n.decodeTextSegment=function(t,e){var r=!1,i=[],o=0;do{if(8===t.available())return;var s=t.readBits(8);if(254===s)return;this.parseTwoBytes(s,t.readBits(8),i);for(var a=0;a<3;a++){var c=i[a];switch(o){case 0:if(c<3)o=c+1;else{if(!(c<this.TEXT_BASIC_SET_CHARS.length))throw new Et;var l=this.TEXT_BASIC_SET_CHARS[c];r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l)}break;case 1:r?(e.append(String.fromCharCode(c+128)),r=!1):e.append(String.fromCharCode(c)),o=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length)l=this.TEXT_SHIFT2_SET_CHARS[c],r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l);else switch(c){case 27:e.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new Et}o=0;break;case 3:if(!(c<this.TEXT_SHIFT3_SET_CHARS.length))throw new Et;l=this.TEXT_SHIFT3_SET_CHARS[c],r?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),r=!1):e.append(l),o=0;break;default:throw new Et}}}while(t.available()>0)},n.decodeAnsiX12Segment=function(t,e){var r=[];do{if(8===t.available())return;var i=t.readBits(8);if(254===i)return;this.parseTwoBytes(i,t.readBits(8),r);for(var o=0;o<3;o++){var s=r[o];switch(s){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(s<14)e.append(String.fromCharCode(s+44));else{if(!(s<40))throw new Et;e.append(String.fromCharCode(s+51))}}}}while(t.available()>0)},n.parseTwoBytes=function(t,e,r){var i=(t<<8)+e-1,o=Math.floor(i/1600);r[0]=o,i-=1600*o,o=Math.floor(i/40),r[1]=o,r[2]=i-40*o},n.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var r=0;r<4;r++){var i=t.readBits(6);if(31===i){var o=8-t.getBitOffset();return void(8!==o&&t.readBits(o))}32&i||(i|=64),e.append(String.fromCharCode(i))}}while(t.available()>0)},n.decodeBase256Segment=function(t,e,r){var s,i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++);if((s=0===o?t.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(t.readBits(8),i++))<0)throw new Et;for(var a=new Uint8Array(s),c=0;c<s;c++){if(t.available()<8)throw new Et;a[c]=this.unrandomize255State(t.readBits(8),i++)}r.push(a);try{e.append(Js.decode(a,Wn.ISO88591))}catch(l){throw new Qa("Platform does not support required encoding: "+l.message)}},n.unrandomize255State=function(t,e){var i=t-(149*e%255+1);return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],n}();const Nue=Rue;var kue=function(){function n(){this.rsDecoder=new gm(ds.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(t){var e,r,i=new Due(t),o=i.getVersion(),s=i.readCodewords(),a=Tue.getDataBlocks(s,o),c=0;try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),h=l.next();!h.done;h=l.next())c+=h.value.getNumDataCodewords()}catch(G){e={error:G}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}for(var y=new Uint8Array(c),_=a.length,w=0;w<_;w++){var C=a[w],D=C.getCodewords(),P=C.getNumDataCodewords();this.correctErrors(D,P);for(var O=0;O<P;O++)y[O*_+w]=D[O]}return Nue.decode(y)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch{throw new Ei}for(var i=0;i<e;i++)t[i]=r[i]},n}();const Fue=kue;var Lue=function(){function n(t){this.image=t,this.rectangleDetector=new M2(this.image)}return n.prototype.detect=function(){var t=this.rectangleDetector.detect(),e=this.detectSolid1(t);if((e=this.detectSolid2(e))[3]=this.correctTopRight(e),!e[3])throw new Ke;var r=(e=this.shiftToModuleCenter(e))[0],i=e[1],o=e[2],s=e[3],a=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(o,s)+1;1==(1&a)&&(a+=1),1==(1&c)&&(c+=1),4*a<7*c&&4*c<7*a&&(a=c=Math.max(a,c));var l=n.sampleGrid(this.image,r,i,o,s,a,c);return new D2(l,[r,i,o,s])},n.shiftPoint=function(t,e,r){var i=(e.getX()-t.getX())/(r+1),o=(e.getY()-t.getY())/(r+1);return new qt(t.getX()+i,t.getY()+o)},n.moveAway=function(t,e,r){var i=t.getX(),o=t.getY();return i<e?i-=1:i+=1,o<r?o-=1:o+=1,new qt(i,o)},n.prototype.detectSolid1=function(t){var e=t[0],r=t[1],i=t[3],o=t[2],s=this.transitionsBetween(e,r),a=this.transitionsBetween(r,i),c=this.transitionsBetween(i,o),l=this.transitionsBetween(o,e),h=s,g=[o,e,r,i];return h>a&&(h=a,g[0]=e,g[1]=r,g[2]=i,g[3]=o),h>c&&(h=c,g[0]=r,g[1]=i,g[2]=o,g[3]=e),h>l&&(g[0]=i,g[1]=o,g[2]=e,g[3]=r),g},n.prototype.detectSolid2=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],s=this.transitionsBetween(e,o),a=n.shiftPoint(r,i,4*(s+1)),c=n.shiftPoint(i,r,4*(s+1));return this.transitionsBetween(a,e)<this.transitionsBetween(c,o)?(t[0]=e,t[1]=r,t[2]=i,t[3]=o):(t[0]=r,t[1]=i,t[2]=o,t[3]=e),t},n.prototype.correctTopRight=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],s=this.transitionsBetween(e,o),a=this.transitionsBetween(r,o),c=n.shiftPoint(e,r,4*(a+1)),l=n.shiftPoint(i,r,4*(s+1));s=this.transitionsBetween(c,o),a=this.transitionsBetween(l,o);var h=new qt(o.getX()+(i.getX()-r.getX())/(s+1),o.getY()+(i.getY()-r.getY())/(s+1)),g=new qt(o.getX()+(e.getX()-r.getX())/(a+1),o.getY()+(e.getY()-r.getY())/(a+1));return this.isValid(h)?this.isValid(g)?this.transitionsBetween(c,h)+this.transitionsBetween(l,h)>this.transitionsBetween(c,g)+this.transitionsBetween(l,g)?h:g:h:this.isValid(g)?g:null},n.prototype.shiftToModuleCenter=function(t){var e=t[0],r=t[1],i=t[2],o=t[3],s=this.transitionsBetween(e,o)+1,a=this.transitionsBetween(i,o)+1,c=n.shiftPoint(e,r,4*a),l=n.shiftPoint(i,r,4*s);1==(1&(s=this.transitionsBetween(c,o)+1))&&(s+=1),1==(1&(a=this.transitionsBetween(l,o)+1))&&(a+=1);var y,_,h=(e.getX()+r.getX()+i.getX()+o.getX())/4,g=(e.getY()+r.getY()+i.getY()+o.getY())/4;return e=n.moveAway(e,h,g),r=n.moveAway(r,h,g),i=n.moveAway(i,h,g),o=n.moveAway(o,h,g),c=n.shiftPoint(e,r,4*a),c=n.shiftPoint(c,o,4*s),y=n.shiftPoint(r,e,4*a),y=n.shiftPoint(y,i,4*s),l=n.shiftPoint(i,o,4*a),l=n.shiftPoint(l,r,4*s),_=n.shiftPoint(o,i,4*a),[c,y,l,_=n.shiftPoint(_,e,4*s)]},n.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},n.sampleGrid=function(t,e,r,i,o,s,a){return T2.getInstance().sampleGrid(t,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,e.getX(),e.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(t,e){var r=Math.trunc(t.getX()),i=Math.trunc(t.getY()),o=Math.trunc(e.getX()),s=Math.trunc(e.getY()),a=Math.abs(s-i)>Math.abs(o-r);if(a){var c=r;r=i,i=c,c=o,o=s,s=c}for(var l=Math.abs(o-r),h=Math.abs(s-i),g=-l/2,y=i<s?1:-1,_=r<o?1:-1,w=0,C=this.image.get(a?i:r,a?r:i),D=r,P=i;D!==o;D+=_){var O=this.image.get(a?P:D,a?D:P);if(O!==C&&(w++,C=O),(g+=h)>0){if(P===s)break;P+=y,g-=l}}return w},n}();const Bue=Lue;var Vue=function(){function n(){this.decoder=new Fue}return n.prototype.decode=function(t,e){var r,i;if(void 0===e&&(e=null),null!=e&&e.has(Pr.PURE_BARCODE)){var o=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(o),i=n.NO_POINTS}else{var s=new Bue(t.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=r.getRawBytes(),c=new wo(r.getText(),a,8*a.length,i,Kt.DATA_MATRIX,Nr.currentTimeMillis()),l=r.getByteSegments();null!=l&&c.putMetadata(so.BYTE_SEGMENTS,l);var h=r.getECLevel();return null!=h&&c.putMetadata(so.ERROR_CORRECTION_LEVEL,h),c},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null==e||null==r)throw new Ke;var i=this.moduleSize(e,t),o=e[1],a=e[0],l=(r[0]-a+1)/i,h=(r[1]-o+1)/i;if(l<=0||h<=0)throw new Ke;var g=i/2;o+=g,a+=g;for(var y=new us(l,h),_=0;_<h;_++)for(var w=o+_*i,C=0;C<l;C++)t.get(a+C*i,w)&&y.set(C,_);return y},n.moduleSize=function(t,e){for(var r=e.getWidth(),i=t[0],o=t[1];i<r&&e.get(i,o);)i++;if(i===r)throw new Ke;var s=i-t[0];if(0===s)throw new Ke;return s},n.NO_POINTS=[],n}();const bm=Vue;var Uue=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pp=(function(n){Uue(function t(e){return void 0===e&&(e=500),n.call(this,new bm,e)||this},n)}(sf),function(n){return n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H",n}(Pp||{})),jue=function(){function n(t,e,r){this.value=t,this.stringValue=e,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(t,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(t){switch(t){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new vi(t+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.forBits=function(t){if(t<0||t>=n.FOR_BITS.size)throw new zt;return n.FOR_BITS.get(t)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Pp.L,"L",1),n.M=new n(Pp.M,"M",0),n.Q=new n(Pp.Q,"Q",3),n.H=new n(Pp.H,"H",2),n}();const Tc=jue;var zue=function(){function n(t){this.errorCorrectionLevel=Tc.forBits(t>>3&3),this.dataMask=7&t}return n.numBitsDiffering=function(t,e){return wn.bitCount(t^e)},n.decodeFormatInformation=function(t,e){var r=n.doDecodeFormatInformation(t,e);return null!==r?r:n.doDecodeFormatInformation(t^n.FORMAT_INFO_MASK_QR,e^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(t,e){var r,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.FORMAT_INFO_DECODE_LOOKUP),c=a.next();!c.done;c=a.next()){var l=c.value,h=l[0];if(h===t||h===e)return new n(l[1]);var g=n.numBitsDiffering(t,h);g<o&&(s=l[1],o=g),t!==e&&(g=n.numBitsDiffering(e,h))<o&&(s=l[1],o=g)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(t){return t instanceof n&&(this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask)},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}();const aP=zue;var Gue=function(){function n(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var t,e,r=0,i=this.ecBlocks;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=o.next();!s.done;s=o.next())r+=s.value.getCount()}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}();const ke=Gue;var Xue=function(){function n(t,e){this.count=t,this.dataCodewords=e}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}();const ie=Xue;var Yue=function(){function n(t,e){for(var r,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=o;var a=0,c=o[0].getECCodewordsPerBlock(),l=o[0].getECBlocks();try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),g=h.next();!g.done;g=h.next()){var y=g.value;a+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}this.totalCodewords=a}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},n.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw new Et;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Et}},n.getVersionForNumber=function(t){if(t<1||t>40)throw new zt;return n.VERSIONS[t-1]},n.decodeVersionInformation=function(t){for(var e=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var o=n.VERSION_DECODE_INFO[i];if(o===t)return n.getVersionForNumber(i+7);var s=aP.numBitsDiffering(t,o);s<e&&(r=i+7,e=s)}return e<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new us(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)0===i&&(0===s||s===r-1)||i===r-1&&0===s||e.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new ke(7,new ie(1,19)),new ke(10,new ie(1,16)),new ke(13,new ie(1,13)),new ke(17,new ie(1,9))),new n(2,Int32Array.from([6,18]),new ke(10,new ie(1,34)),new ke(16,new ie(1,28)),new ke(22,new ie(1,22)),new ke(28,new ie(1,16))),new n(3,Int32Array.from([6,22]),new ke(15,new ie(1,55)),new ke(26,new ie(1,44)),new ke(18,new ie(2,17)),new ke(22,new ie(2,13))),new n(4,Int32Array.from([6,26]),new ke(20,new ie(1,80)),new ke(18,new ie(2,32)),new ke(26,new ie(2,24)),new ke(16,new ie(4,9))),new n(5,Int32Array.from([6,30]),new ke(26,new ie(1,108)),new ke(24,new ie(2,43)),new ke(18,new ie(2,15),new ie(2,16)),new ke(22,new ie(2,11),new ie(2,12))),new n(6,Int32Array.from([6,34]),new ke(18,new ie(2,68)),new ke(16,new ie(4,27)),new ke(24,new ie(4,19)),new ke(28,new ie(4,15))),new n(7,Int32Array.from([6,22,38]),new ke(20,new ie(2,78)),new ke(18,new ie(4,31)),new ke(18,new ie(2,14),new ie(4,15)),new ke(26,new ie(4,13),new ie(1,14))),new n(8,Int32Array.from([6,24,42]),new ke(24,new ie(2,97)),new ke(22,new ie(2,38),new ie(2,39)),new ke(22,new ie(4,18),new ie(2,19)),new ke(26,new ie(4,14),new ie(2,15))),new n(9,Int32Array.from([6,26,46]),new ke(30,new ie(2,116)),new ke(22,new ie(3,36),new ie(2,37)),new ke(20,new ie(4,16),new ie(4,17)),new ke(24,new ie(4,12),new ie(4,13))),new n(10,Int32Array.from([6,28,50]),new ke(18,new ie(2,68),new ie(2,69)),new ke(26,new ie(4,43),new ie(1,44)),new ke(24,new ie(6,19),new ie(2,20)),new ke(28,new ie(6,15),new ie(2,16))),new n(11,Int32Array.from([6,30,54]),new ke(20,new ie(4,81)),new ke(30,new ie(1,50),new ie(4,51)),new ke(28,new ie(4,22),new ie(4,23)),new ke(24,new ie(3,12),new ie(8,13))),new n(12,Int32Array.from([6,32,58]),new ke(24,new ie(2,92),new ie(2,93)),new ke(22,new ie(6,36),new ie(2,37)),new ke(26,new ie(4,20),new ie(6,21)),new ke(28,new ie(7,14),new ie(4,15))),new n(13,Int32Array.from([6,34,62]),new ke(26,new ie(4,107)),new ke(22,new ie(8,37),new ie(1,38)),new ke(24,new ie(8,20),new ie(4,21)),new ke(22,new ie(12,11),new ie(4,12))),new n(14,Int32Array.from([6,26,46,66]),new ke(30,new ie(3,115),new ie(1,116)),new ke(24,new ie(4,40),new ie(5,41)),new ke(20,new ie(11,16),new ie(5,17)),new ke(24,new ie(11,12),new ie(5,13))),new n(15,Int32Array.from([6,26,48,70]),new ke(22,new ie(5,87),new ie(1,88)),new ke(24,new ie(5,41),new ie(5,42)),new ke(30,new ie(5,24),new ie(7,25)),new ke(24,new ie(11,12),new ie(7,13))),new n(16,Int32Array.from([6,26,50,74]),new ke(24,new ie(5,98),new ie(1,99)),new ke(28,new ie(7,45),new ie(3,46)),new ke(24,new ie(15,19),new ie(2,20)),new ke(30,new ie(3,15),new ie(13,16))),new n(17,Int32Array.from([6,30,54,78]),new ke(28,new ie(1,107),new ie(5,108)),new ke(28,new ie(10,46),new ie(1,47)),new ke(28,new ie(1,22),new ie(15,23)),new ke(28,new ie(2,14),new ie(17,15))),new n(18,Int32Array.from([6,30,56,82]),new ke(30,new ie(5,120),new ie(1,121)),new ke(26,new ie(9,43),new ie(4,44)),new ke(28,new ie(17,22),new ie(1,23)),new ke(28,new ie(2,14),new ie(19,15))),new n(19,Int32Array.from([6,30,58,86]),new ke(28,new ie(3,113),new ie(4,114)),new ke(26,new ie(3,44),new ie(11,45)),new ke(26,new ie(17,21),new ie(4,22)),new ke(26,new ie(9,13),new ie(16,14))),new n(20,Int32Array.from([6,34,62,90]),new ke(28,new ie(3,107),new ie(5,108)),new ke(26,new ie(3,41),new ie(13,42)),new ke(30,new ie(15,24),new ie(5,25)),new ke(28,new ie(15,15),new ie(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new ke(28,new ie(4,116),new ie(4,117)),new ke(26,new ie(17,42)),new ke(28,new ie(17,22),new ie(6,23)),new ke(30,new ie(19,16),new ie(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new ke(28,new ie(2,111),new ie(7,112)),new ke(28,new ie(17,46)),new ke(30,new ie(7,24),new ie(16,25)),new ke(24,new ie(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new ke(30,new ie(4,121),new ie(5,122)),new ke(28,new ie(4,47),new ie(14,48)),new ke(30,new ie(11,24),new ie(14,25)),new ke(30,new ie(16,15),new ie(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new ke(30,new ie(6,117),new ie(4,118)),new ke(28,new ie(6,45),new ie(14,46)),new ke(30,new ie(11,24),new ie(16,25)),new ke(30,new ie(30,16),new ie(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new ke(26,new ie(8,106),new ie(4,107)),new ke(28,new ie(8,47),new ie(13,48)),new ke(30,new ie(7,24),new ie(22,25)),new ke(30,new ie(22,15),new ie(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new ke(28,new ie(10,114),new ie(2,115)),new ke(28,new ie(19,46),new ie(4,47)),new ke(28,new ie(28,22),new ie(6,23)),new ke(30,new ie(33,16),new ie(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new ke(30,new ie(8,122),new ie(4,123)),new ke(28,new ie(22,45),new ie(3,46)),new ke(30,new ie(8,23),new ie(26,24)),new ke(30,new ie(12,15),new ie(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new ke(30,new ie(3,117),new ie(10,118)),new ke(28,new ie(3,45),new ie(23,46)),new ke(30,new ie(4,24),new ie(31,25)),new ke(30,new ie(11,15),new ie(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new ke(30,new ie(7,116),new ie(7,117)),new ke(28,new ie(21,45),new ie(7,46)),new ke(30,new ie(1,23),new ie(37,24)),new ke(30,new ie(19,15),new ie(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new ke(30,new ie(5,115),new ie(10,116)),new ke(28,new ie(19,47),new ie(10,48)),new ke(30,new ie(15,24),new ie(25,25)),new ke(30,new ie(23,15),new ie(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new ke(30,new ie(13,115),new ie(3,116)),new ke(28,new ie(2,46),new ie(29,47)),new ke(30,new ie(42,24),new ie(1,25)),new ke(30,new ie(23,15),new ie(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new ke(30,new ie(17,115)),new ke(28,new ie(10,46),new ie(23,47)),new ke(30,new ie(10,24),new ie(35,25)),new ke(30,new ie(19,15),new ie(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new ke(30,new ie(17,115),new ie(1,116)),new ke(28,new ie(14,46),new ie(21,47)),new ke(30,new ie(29,24),new ie(19,25)),new ke(30,new ie(11,15),new ie(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new ke(30,new ie(13,115),new ie(6,116)),new ke(28,new ie(14,46),new ie(23,47)),new ke(30,new ie(44,24),new ie(7,25)),new ke(30,new ie(59,16),new ie(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new ke(30,new ie(12,121),new ie(7,122)),new ke(28,new ie(12,47),new ie(26,48)),new ke(30,new ie(39,24),new ie(14,25)),new ke(30,new ie(22,15),new ie(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new ke(30,new ie(6,121),new ie(14,122)),new ke(28,new ie(6,47),new ie(34,48)),new ke(30,new ie(46,24),new ie(10,25)),new ke(30,new ie(2,15),new ie(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new ke(30,new ie(17,122),new ie(4,123)),new ke(28,new ie(29,46),new ie(14,47)),new ke(30,new ie(49,24),new ie(10,25)),new ke(30,new ie(24,15),new ie(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new ke(30,new ie(4,122),new ie(18,123)),new ke(28,new ie(13,46),new ie(32,47)),new ke(30,new ie(48,24),new ie(14,25)),new ke(30,new ie(42,15),new ie(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new ke(30,new ie(20,117),new ie(4,118)),new ke(28,new ie(40,47),new ie(7,48)),new ke(30,new ie(43,24),new ie(22,25)),new ke(30,new ie(10,15),new ie(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new ke(30,new ie(19,118),new ie(6,119)),new ke(28,new ie(18,47),new ie(31,48)),new ke(30,new ie(34,24),new ie(34,25)),new ke(30,new ie(20,15),new ie(61,16)))],n}();const xu=Yue;var ao=function(n){return n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111",n}(ao||{}),Zue=function(){function n(t,e){this.value=t,this.isMasked=e}return n.prototype.unmaskBitMatrix=function(t,e){for(var r=0;r<e;r++)for(var i=0;i<e;i++)this.isMasked(r,i)&&t.flip(i,r)},n.values=new Map([[ao.DATA_MASK_000,new n(ao.DATA_MASK_000,function(t,e){return 0==(t+e&1)})],[ao.DATA_MASK_001,new n(ao.DATA_MASK_001,function(t,e){return 0==(1&t)})],[ao.DATA_MASK_010,new n(ao.DATA_MASK_010,function(t,e){return e%3==0})],[ao.DATA_MASK_011,new n(ao.DATA_MASK_011,function(t,e){return(t+e)%3==0})],[ao.DATA_MASK_100,new n(ao.DATA_MASK_100,function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3)&1)})],[ao.DATA_MASK_101,new n(ao.DATA_MASK_101,function(t,e){return t*e%6==0})],[ao.DATA_MASK_110,new n(ao.DATA_MASK_110,function(t,e){return t*e%6<3})],[ao.DATA_MASK_111,new n(ao.DATA_MASK_111,function(t,e){return 0==(t+e+t*e%3&1)})]]),n}();const cP=Zue;var que=function(){function n(t){var e=t.getHeight();if(e<21||1!=(3&e))throw new Et;this.bitMatrix=t}return n.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var r=5;r>=0;r--)t=this.copyBit(8,r,t);var i=this.bitMatrix.getHeight(),o=0,s=i-7;for(r=i-1;r>=s;r--)o=this.copyBit(8,r,o);for(e=i-8;e<i;e++)o=this.copyBit(e,8,o);if(this.parsedFormatInfo=aP.decodeFormatInformation(t,o),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Et},n.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return xu.getVersionForNumber(e);for(var r=0,i=t-11,o=5;o>=0;o--)for(var s=t-9;s>=i;s--)r=this.copyBit(s,o,r);var a=xu.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;for(r=0,s=5;s>=0;s--)for(o=t-9;o>=i;o--)r=this.copyBit(s,o,r);if(null!==(a=xu.decodeVersionInformation(r))&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new Et},n.prototype.copyBit=function(t,e,r){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?r<<1|1:r<<1},n.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),r=cP.values.get(t.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=e.buildFunctionPattern(),s=!0,a=new Uint8Array(e.getTotalCodewords()),c=0,l=0,h=0,g=i-1;g>0;g-=2){6===g&&g--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,w=0;w<2;w++)o.get(g-w,_)||(h++,l<<=1,this.bitMatrix.get(g-w,_)&&(l|=1),8===h&&(a[c++]=l,h=0,l=0));s=!s}if(c!==e.getTotalCodewords())throw new Et;return a},n.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=cP.values.get(this.parsedFormatInfo.getDataMask()),e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},n.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},n.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,r=t.getWidth();e<r;e++)for(var i=e+1,o=t.getHeight();i<o;i++)t.get(e,i)!==t.get(i,e)&&(t.flip(i,e),t.flip(e,i))},n}();const Kue=que;var lP=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Que=function(){function n(t,e){this.numDataCodewords=t,this.codewords=e}return n.getDataBlocks=function(t,e,r){var i,o,s,a;if(t.length!==e.getTotalCodewords())throw new zt;var c=e.getECBlocksForLevel(r),l=0,h=c.getECBlocks();try{for(var g=lP(h),y=g.next();!y.done;y=g.next())l+=(_=y.value).getCount()}catch(sn){i={error:sn}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}var w=new Array(l),C=0;try{for(var D=lP(h),P=D.next();!P.done;P=D.next())for(var _=P.value,O=0;O<_.getCount();O++){var G=_.getDataCodewords(),Z=c.getECCodewordsPerBlock()+G;w[C++]=new n(G,new Uint8Array(Z))}}catch(sn){s={error:sn}}finally{try{P&&!P.done&&(a=D.return)&&a.call(D)}finally{if(s)throw s.error}}for(var oe=w[0].codewords.length,fe=w.length-1;fe>=0&&w[fe].codewords.length!==oe;)fe--;fe++;var Re=oe-c.getECCodewordsPerBlock(),et=0;for(O=0;O<Re;O++)for(var dt=0;dt<C;dt++)w[dt].codewords[O]=t[et++];for(dt=fe;dt<C;dt++)w[dt].codewords[Re]=t[et++];var Vt=w[0].codewords.length;for(O=Re;O<Vt;O++)for(dt=0;dt<C;dt++)w[dt].codewords[dt<fe?O:O+1]=t[et++];return w},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}();const Jue=Que;var Aa=function(n){return n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI",n}(Aa||{}),ede=function(){function n(t,e,r,i){this.value=t,this.stringValue=e,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(t,this)}return n.forBits=function(t){var e=n.FOR_BITS.get(t);if(void 0===e)throw new zt;return e},n.prototype.getCharacterCountBits=function(t){var e=t.getVersionNumber();return this.characterCountBitsForVersions[e<=9?0:e<=26?1:2]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(t){return t instanceof n&&this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Aa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Aa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Aa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Aa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Aa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Aa.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Aa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Aa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Aa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Aa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}();const jr=ede;var tde=function(){function n(){}return n.decode=function(t,e,r,i){var o=new sP(t),s=new Cn,a=new Array,c=-1,l=-1;try{var h=null,g=!1,y=void 0;do{if(o.available()<4)y=jr.TERMINATOR;else{var _=o.readBits(4);y=jr.forBits(_)}switch(y){case jr.TERMINATOR:break;case jr.FNC1_FIRST_POSITION:case jr.FNC1_SECOND_POSITION:g=!0;break;case jr.STRUCTURED_APPEND:if(o.available()<16)throw new Et;c=o.readBits(8),l=o.readBits(8);break;case jr.ECI:var w=n.parseECIValue(o);if(null===(h=ki.getCharacterSetECIByValue(w)))throw new Et;break;case jr.HANZI:var C=o.readBits(4),D=o.readBits(y.getCharacterCountBits(e));C===n.GB2312_SUBSET&&n.decodeHanziSegment(o,s,D);break;default:var P=o.readBits(y.getCharacterCountBits(e));switch(y){case jr.NUMERIC:n.decodeNumericSegment(o,s,P);break;case jr.ALPHANUMERIC:n.decodeAlphanumericSegment(o,s,P,g);break;case jr.BYTE:n.decodeByteSegment(o,s,P,h,a,i);break;case jr.KANJI:n.decodeKanjiSegment(o,s,P);break;default:throw new Et}}}while(y!==jr.TERMINATOR)}catch{throw new Et}return new hm(t,s.toString(),0===a.length?null:a,null===r?null:r.toString(),c,l)},n.decodeHanziSegment=function(t,e,r){if(13*r>t.available())throw new Et;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=t.readBits(13),a=s/96<<8&4294967295|s%96;i[o]=(a+=a<959?41377:42657)>>8&255,i[o+1]=255&a,o+=2,r--}try{e.append(Js.decode(i,Wn.GB2312))}catch(c){throw new Et(c)}},n.decodeKanjiSegment=function(t,e,r){if(13*r>t.available())throw new Et;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=t.readBits(13),a=s/192<<8&4294967295|s%192;i[o]=(a+=a<7936?33088:49472)>>8,i[o+1]=a,o+=2,r--}try{e.append(Js.decode(i,Wn.SHIFT_JIS))}catch(c){throw new Et(c)}},n.decodeByteSegment=function(t,e,r,i,o,s){if(8*r>t.available())throw new Et;for(var a=new Uint8Array(r),c=0;c<r;c++)a[c]=t.readBits(8);var l;l=null===i?Wn.guessEncoding(a,s):i.getName();try{e.append(Js.decode(a,l))}catch(h){throw new Et(h)}o.push(a)},n.toAlphaNumericChar=function(t){if(t>=n.ALPHANUMERIC_CHARS.length)throw new Et;return n.ALPHANUMERIC_CHARS[t]},n.decodeAlphanumericSegment=function(t,e,r,i){for(var o=e.length();r>1;){if(t.available()<11)throw new Et;var s=t.readBits(11);e.append(n.toAlphaNumericChar(Math.floor(s/45))),e.append(n.toAlphaNumericChar(s%45)),r-=2}if(1===r){if(t.available()<6)throw new Et;e.append(n.toAlphaNumericChar(t.readBits(6)))}if(i)for(var a=o;a<e.length();a++)"%"===e.charAt(a)&&(a<e.length()-1&&"%"===e.charAt(a+1)?e.deleteCharAt(a+1):e.setCharAt(a,String.fromCharCode(29)))},n.decodeNumericSegment=function(t,e,r){for(;r>=3;){if(t.available()<10)throw new Et;var i=t.readBits(10);if(i>=1e3)throw new Et;e.append(n.toAlphaNumericChar(Math.floor(i/100))),e.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),e.append(n.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(t.available()<7)throw new Et;var o=t.readBits(7);if(o>=100)throw new Et;e.append(n.toAlphaNumericChar(Math.floor(o/10))),e.append(n.toAlphaNumericChar(o%10))}else if(1===r){if(t.available()<4)throw new Et;var s=t.readBits(4);if(s>=10)throw new Et;e.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(t){var e=t.readBits(8);if(!(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new Et},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}();const nde=tde;var rde=function(){function n(t){this.mirrored=t}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},n}();const uP=rde;var dP=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ide=function(){function n(){this.rsDecoder=new gm(ds.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(us.parseFromBooleanArray(t),e)},n.prototype.decodeBitMatrix=function(t,e){var r=new Kue(t),i=null;try{return this.decodeBitMatrixParser(r,e)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,e);return o.setOther(new uP(!0)),o}catch(s){throw null!==i?i:s}},n.prototype.decodeBitMatrixParser=function(t,e){var r,i,o,s,a=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),h=Jue.getDataBlocks(l,a,c),g=0;try{for(var y=dP(h),_=y.next();!_.done;_=y.next())g+=(w=_.value).getNumDataCodewords()}catch(fe){r={error:fe}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var C=new Uint8Array(g),D=0;try{for(var P=dP(h),O=P.next();!O.done;O=P.next()){var w,G=(w=O.value).getCodewords(),Z=w.getNumDataCodewords();this.correctErrors(G,Z);for(var oe=0;oe<Z;oe++)C[D++]=G[oe]}}catch(fe){o={error:fe}}finally{try{O&&!O.done&&(s=P.return)&&s.call(P)}finally{if(o)throw o.error}}return nde.decode(C,a,c,e)},n.prototype.correctErrors=function(t,e){var r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-e)}catch{throw new Ei}for(var i=0;i<e;i++)t[i]=r[i]},n}();const ode=ide;var sde=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ade=function(n){function t(e,r,i){var o=n.call(this,e,r)||this;return o.estimatedModuleSize=i,o}return sde(t,n),t.prototype.aboutEquals=function(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,i){return new t((this.getX()+r)/2,(this.getY()+e)/2,(this.estimatedModuleSize+i)/2)},t}(qt);const cde=ade;var ude=function(){function n(t,e,r,i,o,s,a){this.image=t,this.startX=e,this.startY=r,this.width=i,this.height=o,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var t=this.startX,e=this.height,i=t+this.width,o=this.startY+e/2,s=new Int32Array(3),a=this.image,c=0;c<e;c++){var l=o+(1&c?-Math.floor((c+1)/2):Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var h=t;h<i&&!a.get(h,l);)h++;for(var g=0;h<i;){if(a.get(h,l))if(1===g)s[1]++;else if(2===g){var y;if(this.foundPatternCross(s)&&null!==(y=this.handlePossibleCenter(s,l,h)))return y;s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else 1===g&&g++,s[g]++;h++}if(this.foundPatternCross(s)&&null!==(y=this.handlePossibleCenter(s,l,i)))return y}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Ke},n.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},n.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,r=e/2,i=0;i<3;i++)if(Math.abs(e-t[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(t,e,r,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var c=t;c>=0&&o.get(e,c)&&a[1]<=r;)a[1]++,c--;if(c<0||a[1]>r)return NaN;for(;c>=0&&!o.get(e,c)&&a[0]<=r;)a[0]++,c--;if(a[0]>r)return NaN;for(c=t+1;c<s&&o.get(e,c)&&a[1]<=r;)a[1]++,c++;if(c===s||a[1]>r)return NaN;for(;c<s&&!o.get(e,c)&&a[2]<=r;)a[2]++,c++;return a[2]>r||5*Math.abs(a[0]+a[1]+a[2]-i)>=2*i?NaN:this.foundPatternCross(a)?n.centerFromEnd(a,c):NaN},n.prototype.handlePossibleCenter=function(t,e,r){var i,o,s=t[0]+t[1]+t[2],a=n.centerFromEnd(t,r),c=this.crossCheckVertical(e,a,2*t[1],s);if(!isNaN(c)){var l=(t[0]+t[1]+t[2])/3;try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),g=h.next();!g.done;g=h.next()){var y=g.value;if(y.aboutEquals(l,c,a))return y.combineEstimate(c,a,l)}}catch(w){i={error:w}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var _=new cde(a,c,l);this.possibleCenters.push(_),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}();const dde=ude;var fde=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hde=function(n){function t(e,r,i,o){var s=n.call(this,e,r)||this;return s.estimatedModuleSize=i,s.count=o,void 0===o&&(s.count=1),s}return fde(t,n),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,r,i){if(Math.abs(r-this.getY())<=e&&Math.abs(i-this.getX())<=e){var o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,i){var o=this.count+1;return new t((this.count*this.getX()+r)/o,(this.count*this.getY()+e)/o,(this.count*this.estimatedModuleSize+i)/o,o)},t}(qt);const pde=hde;var gde=function(){function n(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}();const mde=gde;var kp=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vde=function(){function n(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(t){var e=null!=t&&void 0!==t.get(Pr.TRY_HARDER),r=null!=t&&void 0!==t.get(Pr.PURE_BARCODE),i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*n.MAX_MODULES));(a<n.MIN_SKIP||e)&&(a=n.MIN_SKIP);for(var c=!1,l=new Int32Array(5),h=a-1;h<o&&!c;h+=a){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var g=0,y=0;y<s;y++)if(i.get(y,h))1==(1&g)&&g++,l[g]++;else if(1&g)l[g]++;else if(4===g)if(n.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,h,y,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,g=3;continue}if(a=2,!0===this.hasSkipped)c=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>l[2]&&(h+=w-l[2]-a,y=s-1)}g=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,g=3;else l[++g]++;n.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,h,s,r)&&(a=l[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}var C=this.selectBestPatterns();return qt.orderBestPatterns(C),new mde(C)},n.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},n.foundPatternCross=function(t){for(var e=0,r=0;r<5;r++){var i=t[r];if(0===i)return!1;e+=i}if(e<7)return!1;var o=e/7,s=o/2;return Math.abs(o-t[0])<s&&Math.abs(o-t[1])<s&&Math.abs(3*o-t[2])<3*s&&Math.abs(o-t[3])<s&&Math.abs(o-t[4])<s},n.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},n.prototype.crossCheckDiagonal=function(t,e,r,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;t>=s&&e>=s&&a.get(e-s,t-s);)o[2]++,s++;if(t<s||e<s)return!1;for(;t>=s&&e>=s&&!a.get(e-s,t-s)&&o[1]<=r;)o[1]++,s++;if(t<s||e<s||o[1]>r)return!1;for(;t>=s&&e>=s&&a.get(e-s,t-s)&&o[0]<=r;)o[0]++,s++;if(o[0]>r)return!1;var c=a.getHeight(),l=a.getWidth();for(s=1;t+s<c&&e+s<l&&a.get(e+s,t+s);)o[2]++,s++;if(t+s>=c||e+s>=l)return!1;for(;t+s<c&&e+s<l&&!a.get(e+s,t+s)&&o[3]<r;)o[3]++,s++;if(t+s>=c||e+s>=l||o[3]>=r)return!1;for(;t+s<c&&e+s<l&&a.get(e+s,t+s)&&o[4]<r;)o[4]++,s++;return!(o[4]>=r)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&n.foundPatternCross(o)},n.prototype.crossCheckVertical=function(t,e,r,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),c=t;c>=0&&o.get(e,c);)a[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(e,c)&&a[1]<=r;)a[1]++,c--;if(c<0||a[1]>r)return NaN;for(;c>=0&&o.get(e,c)&&a[0]<=r;)a[0]++,c--;if(a[0]>r)return NaN;for(c=t+1;c<s&&o.get(e,c);)a[2]++,c++;if(c===s)return NaN;for(;c<s&&!o.get(e,c)&&a[3]<r;)a[3]++,c++;if(c===s||a[3]>=r)return NaN;for(;c<s&&o.get(e,c)&&a[4]<r;)a[4]++,c++;return a[4]>=r||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=2*i?NaN:n.foundPatternCross(a)?n.centerFromEnd(a,c):NaN},n.prototype.crossCheckHorizontal=function(t,e,r,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),c=t;c>=0&&o.get(c,e);)a[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(c,e)&&a[1]<=r;)a[1]++,c--;if(c<0||a[1]>r)return NaN;for(;c>=0&&o.get(c,e)&&a[0]<=r;)a[0]++,c--;if(a[0]>r)return NaN;for(c=t+1;c<s&&o.get(c,e);)a[2]++,c++;if(c===s)return NaN;for(;c<s&&!o.get(c,e)&&a[3]<r;)a[3]++,c++;if(c===s||a[3]>=r)return NaN;for(;c<s&&o.get(c,e)&&a[4]<r;)a[4]++,c++;return a[4]>=r||5*Math.abs(a[0]+a[1]+a[2]+a[3]+a[4]-i)>=i?NaN:n.foundPatternCross(a)?n.centerFromEnd(a,c):NaN},n.prototype.handlePossibleCenter=function(t,e,r,i){var o=t[0]+t[1]+t[2]+t[3]+t[4],s=n.centerFromEnd(t,r),a=this.crossCheckVertical(e,Math.floor(s),t[2],o);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),t[2],o),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),t[2],o)))){for(var c=o/7,l=!1,h=this.possibleCenters,g=0,y=h.length;g<y;g++){var _=h[g];if(_.aboutEquals(c,a,s)){h[g]=_.combineEstimate(a,s,c),l=!0;break}}if(!l){var w=new pde(s,a,c);h.push(w),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},n.prototype.findRowSkip=function(){var t,e;if(this.possibleCenters.length<=1)return 0;var i=null;try{for(var o=kp(this.possibleCenters),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getCount()>=n.CENTER_QUORUM){if(null!=i)return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);i=a}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var t,e,r,i,o=0,s=0,a=this.possibleCenters.length;try{for(var c=kp(this.possibleCenters),l=c.next();!l.done;l=c.next())(h=l.value).getCount()>=n.CENTER_QUORUM&&(o++,s+=h.getEstimatedModuleSize())}catch(C){t={error:C}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}if(o<3)return!1;var g=s/a,y=0;try{for(var _=kp(this.possibleCenters),w=_.next();!w.done;w=_.next()){var h=w.value;y+=Math.abs(h.getEstimatedModuleSize()-g)}}catch(C){r={error:C}}finally{try{w&&!w.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var t,e,r,i,o=this.possibleCenters.length;if(o<3)throw new Ke;var a,s=this.possibleCenters;if(o>3){var c=0,l=0;try{for(var h=kp(this.possibleCenters),g=h.next();!g.done;g=h.next()){var _=g.value.getEstimatedModuleSize();c+=_,l+=_*_}}catch(oe){t={error:oe}}finally{try{g&&!g.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}a=c/o;var w=Math.sqrt(l/o-a*a);s.sort(function(oe,fe){var Ie=Math.abs(fe.getEstimatedModuleSize()-a),Re=Math.abs(oe.getEstimatedModuleSize()-a);return Ie<Re?-1:Ie>Re?1:0});for(var C=Math.max(.2*a,w),D=0;D<s.length&&s.length>3;D++)Math.abs(s[D].getEstimatedModuleSize()-a)>C&&(s.splice(D,1),D--)}if(s.length>3){c=0;try{for(var O=kp(s),G=O.next();!G.done;G=O.next())c+=G.value.getEstimatedModuleSize()}catch(fe){r={error:fe}}finally{try{G&&!G.done&&(i=O.return)&&i.call(O)}finally{if(r)throw r.error}}a=c/s.length,s.sort(function(fe,Ie){if(Ie.getCount()===fe.getCount()){var Re=Math.abs(Ie.getEstimatedModuleSize()-a),et=Math.abs(fe.getEstimatedModuleSize()-a);return Re<et?1:Re>et?-1:0}return Ie.getCount()-fe.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}();const yde=vde;var _de=function(){function n(t){this.image=t}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(t){this.resultPointCallback=null==t?null:t.get(Pr.NEED_RESULT_POINT_CALLBACK);var r=new yde(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(t){var e=t.getTopLeft(),r=t.getTopRight(),i=t.getBottomLeft(),o=this.calculateModuleSize(e,r,i);if(o<1)throw new Ke("No pattern found in proccess finder.");var s=n.computeDimension(e,r,i,o),a=xu.getProvisionalVersionForDimension(s),c=a.getDimensionForVersion()-7,l=null;if(a.getAlignmentPatternCenters().length>0)for(var h=r.getX()-e.getX()+i.getX(),g=r.getY()-e.getY()+i.getY(),y=1-3/c,_=Math.floor(e.getX()+y*(h-e.getX())),w=Math.floor(e.getY()+y*(g-e.getY())),C=4;C<=16;C<<=1)try{l=this.findAlignmentInRegion(o,_,w,C);break}catch(G){if(!(G instanceof Ke))throw G}var D=n.createTransform(e,r,i,l,s),P=n.sampleGrid(this.image,D,s);return new D2(P,null===l?[i,e,r]:[i,e,r,l])},n.createTransform=function(t,e,r,i,o){var a,c,l,h,s=o-3.5;return null!==i?(a=i.getX(),c=i.getY(),h=l=s-3):(a=e.getX()-t.getX()+r.getX(),c=e.getY()-t.getY()+r.getY(),l=s,h=s),HN.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,l,h,3.5,s,t.getX(),t.getY(),e.getX(),e.getY(),a,c,r.getX(),r.getY())},n.sampleGrid=function(t,e,r){return T2.getInstance().sampleGridWithTransform(t,r,r,e)},n.computeDimension=function(t,e,r,i){var o=er.round(qt.distance(t,e)/i),s=er.round(qt.distance(t,r)/i),a=Math.floor((o+s)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new Ke("Dimensions could be not found.")}return a},n.prototype.calculateModuleSize=function(t,e,r){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,r))/2},n.prototype.calculateModuleSizeOneWay=function(t,e){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,r,i){var o=this.sizeOfBlackWhiteBlackRun(t,e,r,i),s=1,a=t-(r-t);a<0?(s=t/(t-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-t)/(a-t),a=this.image.getWidth()-1);var c=Math.floor(e-(i-e)*s);return s=1,c<0?(s=e/(e-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-e)/(c-e),c=this.image.getHeight()-1),a=Math.floor(t+(a-t)*s),(o+=this.sizeOfBlackWhiteBlackRun(t,e,a,c))-1},n.prototype.sizeOfBlackWhiteBlackRun=function(t,e,r,i){var o=Math.abs(i-e)>Math.abs(r-t);if(o){var s=t;t=e,e=s,s=r,r=i,i=s}for(var a=Math.abs(r-t),c=Math.abs(i-e),l=-a/2,h=t<r?1:-1,g=e<i?1:-1,y=0,_=r+h,w=t,C=e;w!==_;w+=h){if(1===y===this.image.get(o?C:w,o?w:C)){if(2===y)return er.distance(w,C,t,e);y++}if((l+=c)>0){if(C===i)break;C+=g,l-=a}}return 2===y?er.distance(r+h,i,t,e):NaN},n.prototype.findAlignmentInRegion=function(t,e,r,i){var o=Math.floor(i*t),s=Math.max(0,e-o),a=Math.min(this.image.getWidth()-1,e+o);if(a-s<3*t)throw new Ke("Alignment top exceeds estimated module size.");var c=Math.max(0,r-o),l=Math.min(this.image.getHeight()-1,r+o);if(l-c<3*t)throw new Ke("Alignment bottom exceeds estimated module size.");return new dde(this.image,s,c,a-s,l-c,t,this.resultPointCallback).find()},n}();const xde=_de;var bde=function(){function n(){this.decoder=new ode}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(t,e){var r,i;if(null!=e&&void 0!==e.get(Pr.PURE_BARCODE)){var o=n.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,e),i=n.NO_POINTS}else{var s=new xde(t.getBlackMatrix()).detect(e);r=this.decoder.decodeBitMatrix(s.getBits(),e),i=s.getPoints()}r.getOther()instanceof uP&&r.getOther().applyMirroredCorrection(i);var a=new wo(r.getText(),r.getRawBytes(),void 0,i,Kt.QR_CODE,void 0),c=r.getByteSegments();null!==c&&a.putMetadata(so.BYTE_SEGMENTS,c);var l=r.getECLevel();return null!==l&&a.putMetadata(so.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(a.putMetadata(so.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(so.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a},n.prototype.reset=function(){},n.extractPureBits=function(t){var e=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(null===e||null===r)throw new Ke;var i=this.moduleSize(e,t),o=e[1],s=r[1],a=e[0],c=r[0];if(a>=c||o>=s)throw new Ke;if(s-o!=c-a&&(c=a+(s-o))>=t.getWidth())throw new Ke;var l=Math.round((c-a+1)/i),h=Math.round((s-o+1)/i);if(l<=0||h<=0)throw new Ke;if(h!==l)throw new Ke;var g=Math.floor(i/2);o+=g;var y=(a+=g)+Math.floor((l-1)*i)-c;if(y>0){if(y>g)throw new Ke;a-=y}var _=o+Math.floor((h-1)*i)-s;if(_>0){if(_>g)throw new Ke;o-=_}for(var w=new us(l,h),C=0;C<h;C++)for(var D=o+Math.floor(C*i),P=0;P<l;P++)t.get(a+Math.floor(P*i),D)&&w.set(P,C);return w},n.moduleSize=function(t,e){for(var r=e.getHeight(),i=e.getWidth(),o=t[0],s=t[1],a=!0,c=0;o<i&&s<r;){if(a!==e.get(o,s)){if(5==++c)break;a=!a}o++,s++}if(o===i||s===r)throw new Ke;return(o-t[0])/7},n.NO_POINTS=new Array,n}();const wm=bde;var Cde=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(t){return er.sum(t)},n.toIntArray=function(t){var e,r;if(null==t||!t.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(t.length),o=0;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=s.next();!a.done;a=s.next())i[o++]=a.value}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},n.getCodeword=function(t){var e=Ai.binarySearch(n.SYMBOL_TABLE,262143&t);return e<0?-1:(n.CODEWORD_TABLE[e]-1)%n.NUMBER_OF_CODEWORDS},n.MAX_CODEWORDS_IN_BARCODE=(n.NUMBER_OF_CODEWORDS=929)-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}();const Kn=Cde;var Ede=function(){function n(t,e){this.bits=t,this.points=e}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}();const Ade=Ede;var Sde=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ide=function(){function n(){}return n.detectMultiple=function(t,e,r){var i=t.getBlackMatrix(),o=n.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=n.detect(r,i)),new Ade(i,o)},n.detect=function(t,e){for(var r,i,o=new Array,s=0,a=0,c=!1;s<e.getHeight();){var l=n.findVertices(e,s,a);if(null!=l[0]||null!=l[3]){if(c=!0,o.push(l),!t)break;null!=l[2]?(a=Math.trunc(l[2].getX()),s=Math.trunc(l[2].getY())):(a=Math.trunc(l[4].getX()),s=Math.trunc(l[4].getY()))}else{if(!c)break;c=!1,a=0;try{for(var h=(r=void 0,Sde(o)),g=h.next();!g.done;g=h.next()){var y=g.value;null!=y[1]&&(s=Math.trunc(Math.max(s,y[1].getY()))),null!=y[3]&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s+=n.ROW_STEP}}return o},n.findVertices=function(t,e,r){var i=t.getHeight(),o=t.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(t,i,o,e,r,n.START_PATTERN),n.INDEXES_START_PATTERN),null!=s[4]&&(r=Math.trunc(s[4].getX()),e=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(t,i,o,e,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(t,e,r){for(var i=0;i<r.length;i++)t[r[i]]=e[i]},n.findRowsWithPattern=function(t,e,r,i,o,s){for(var a=new Array(4),c=!1,l=new Int32Array(s.length);i<e;i+=n.ROW_STEP)if(null!=(h=n.findGuardPattern(t,o,i,r,!1,s,l))){for(;i>0;){if(null==(g=n.findGuardPattern(t,o,--i,r,!1,s,l))){i++;break}h=g}a[0]=new qt(h[0],i),a[1]=new qt(h[1],i),c=!0;break}var y=i+1;if(c){for(var _=0,g=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);y<e;y++){var h;if(null!=(h=n.findGuardPattern(t,g[0],y,r,!1,s,l))&&Math.abs(g[0]-h[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-h[1])<n.MAX_PATTERN_DRIFT)g=h,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}a[2]=new qt(g[0],y-=_+1),a[3]=new qt(g[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&Ai.fill(a,null),a},n.findGuardPattern=function(t,e,r,i,o,s,a){Ai.fillWithin(a,0,a.length,0);for(var c=e,l=0;t.get(c,r)&&c>0&&l++<n.MAX_PIXEL_DRIFT;)c--;for(var h=c,g=0,y=s.length,_=o;h<i;h++)if(t.get(h,r)!==_)a[g]++;else{if(g===y-1){if(n.patternMatchVariance(a,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,h]);c+=a[0]+a[1],Nr.arraycopy(a,2,a,0,g-1),a[g-1]=0,a[g]=0,g--}else g++;a[g]=1,_=!_}return g===y-1&&n.patternMatchVariance(a,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,h-1]):null},n.patternMatchVariance=function(t,e,r){for(var i=t.length,o=0,s=0,a=0;a<i;a++)o+=t[a],s+=e[a];if(o<s)return 1/0;var c=o/s;r*=c;for(var l=0,h=0;h<i;h++){var g=t[h],y=e[h]*c,_=g>y?g-y:y-g;if(_>r)return 1/0;l+=_}return l/o},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}();const Dde=Ide;var Tde=function(){function n(t,e){if(0===e.length)throw new zt;this.field=t;var r=e.length;if(r>1&&0===e[0]){for(var i=1;i<r&&0===e[i];)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Nr.arraycopy(e,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return 0===this.coefficients[0]},n.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},n.prototype.evaluateAt=function(t){var e,r;if(0===t)return this.getCoefficient(0);if(1===t){var i=0;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),s=o.next();!s.done;s=o.next())i=this.field.add(i,s.value)}catch(g){e={error:g}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}for(var c=this.coefficients[0],l=this.coefficients.length,h=1;h<l;h++)c=this.field.add(this.field.multiply(t,c),this.coefficients[h]);return c},n.prototype.add=function(t){if(!this.field.equals(t.field))throw new zt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;var e=this.coefficients,r=t.coefficients;if(e.length>r.length){var i=e;e=r,r=i}var o=new Int32Array(r.length),s=r.length-e.length;Nr.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=this.field.add(e[a-s],r[a]);return new n(this.field,o)},n.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new zt("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},n.prototype.multiply=function(t){return t instanceof n?this.multiplyOther(t):this.multiplyScalar(t)},n.prototype.multiplyOther=function(t){if(!this.field.equals(t.field))throw new zt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new n(this.field,new Int32Array([0]));for(var e=this.coefficients,r=e.length,i=t.coefficients,o=i.length,s=new Int32Array(r+o-1),a=0;a<r;a++)for(var c=e[a],l=0;l<o;l++)s[a+l]=this.field.add(s[a+l],this.field.multiply(c,i[l]));return new n(this.field,s)},n.prototype.negative=function(){for(var t=this.coefficients.length,e=new Int32Array(t),r=0;r<t;r++)e[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,e)},n.prototype.multiplyScalar=function(t){if(0===t)return new n(this.field,new Int32Array([0]));if(1===t)return this;for(var e=this.coefficients.length,r=new Int32Array(e),i=0;i<e;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(t,e){if(t<0)throw new zt;if(0===e)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+t),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new n(this.field,i)},n.prototype.toString=function(){for(var t=new Cn,e=this.getDegree();e>=0;e--){var r=this.getCoefficient(e);0!==r&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(0===e||1!==r)&&t.append(r),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},n}();const bu=Tde;var Ode=function(){function n(){}return n.prototype.add=function(t,e){return(t+e)%this.modulus},n.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},n.prototype.exp=function(t){return this.expTable[t]},n.prototype.log=function(t){if(0===t)throw new zt;return this.logTable[t]},n.prototype.inverse=function(t){if(0===t)throw new VN;return this.expTable[this.modulus-this.logTable[t]-1]},n.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(t){return t===this},n}();const Rde=Ode;var Nde=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pde=function(n){function t(e,r){var i=n.call(this)||this;i.modulus=e,i.expTable=new Int32Array(e),i.logTable=new Int32Array(e);for(var o=1,s=0;s<e;s++)i.expTable[s]=o,o=o*r%e;for(s=0;s<e-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new bu(i,new Int32Array([0])),i.one=new bu(i,new Int32Array([1])),i}return Nde(t,n),t.prototype.getZero=function(){return this.zero},t.prototype.getOne=function(){return this.one},t.prototype.buildMonomial=function(e,r){if(e<0)throw new zt;if(0===r)return this.zero;var i=new Int32Array(e+1);return i[0]=r,new bu(this,i)},t.PDF417_GF=new t(Kn.NUMBER_OF_CODEWORDS,3),t}(Rde);const kde=Pde;var Lde=function(){function n(){this.field=kde.PDF417_GF}return n.prototype.decode=function(t,e,r){for(var i,o,s=new bu(this.field,t),a=new Int32Array(e),c=!1,l=e;l>0;l--){var h=s.evaluateAt(this.field.exp(l));a[e-l]=h,0!==h&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(null!=r)try{for(var y=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),_=y.next();!_.done;_=y.next()){var C=this.field.exp(t.length-1-_.value),D=new bu(this.field,new Int32Array([this.field.subtract(0,C),1]));g=g.multiply(D)}}catch(Re){i={error:Re}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}var P=new bu(this.field,a),O=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),P,e),G=O[0],Z=O[1],oe=this.findErrorLocations(G),fe=this.findErrorMagnitudes(Z,G,oe);for(l=0;l<oe.length;l++){var Ie=t.length-1-this.field.log(oe[l]);if(Ie<0)throw Ei.getChecksumInstance();t[Ie]=this.field.subtract(t[Ie],fe[l])}return oe.length},n.prototype.runEuclideanAlgorithm=function(t,e,r){if(t.getDegree()<e.getDegree()){var i=t;t=e,e=i}for(var o=t,s=e,a=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var l=o,h=a;if(a=c,(o=s).isZero())throw Ei.getChecksumInstance();s=l;for(var g=this.field.getZero(),y=o.getCoefficient(o.getDegree()),_=this.field.inverse(y);s.getDegree()>=o.getDegree()&&!s.isZero();){var w=s.getDegree()-o.getDegree(),C=this.field.multiply(s.getCoefficient(s.getDegree()),_);g=g.add(this.field.buildMonomial(w,C)),s=s.subtract(o.multiplyByMonomial(w,C))}c=g.multiply(a).subtract(h).negative()}var D=c.getCoefficient(0);if(0===D)throw Ei.getChecksumInstance();var P=this.field.inverse(D);return[c.multiply(P),s.multiply(P)]},n.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),r=new Int32Array(e),i=0,o=1;o<this.field.getSize()&&i<e;o++)0===t.evaluateAt(o)&&(r[i]=this.field.inverse(o),i++);if(i!==e)throw Ei.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(t,e,r){for(var i=e.getDegree(),o=new Int32Array(i),s=1;s<=i;s++)o[i-s]=this.field.multiply(s,e.getCoefficient(s));var a=new bu(this.field,o),c=r.length,l=new Int32Array(c);for(s=0;s<c;s++){var h=this.field.inverse(r[s]),g=this.field.subtract(0,t.evaluateAt(h)),y=this.field.inverse(a.evaluateAt(h));l[s]=this.field.multiply(g,y)}return l},n}();const Bde=Lde;var Vde=function(){function n(t,e,r,i,o){t instanceof n?this.constructor_2(t):this.constructor_1(t,e,r,i,o)}return n.prototype.constructor_1=function(t,e,r,i,o){var s=null==e||null==r,a=null==i||null==o;if(s&&a)throw new Ke;s?(e=new qt(0,i.getY()),r=new qt(0,o.getY())):a&&(i=new qt(t.getWidth()-1,e.getY()),o=new qt(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=e,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(e.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(e.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},n.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},n.merge=function(t,e){return null==t?e:null==e?t:new n(t.image,t.topLeft,t.bottomLeft,e.topRight,e.bottomRight)},n.prototype.addMissingRows=function(t,e,r){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(t>0){var c=r?this.topLeft:this.topRight,l=Math.trunc(c.getY()-t);l<0&&(l=0);var h=new qt(c.getX(),l);r?i=h:s=h}if(e>0){var g=r?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+e);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new qt(g.getX(),y);r?o=_:a=_}return new n(this.image,i,o,s,a)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}();const L2=Vde;var Ude=function(){function n(t,e,r,i){this.columnCount=t,this.errorCorrectionLevel=i,this.rowCountUpperPart=e,this.rowCountLowerPart=r,this.rowCount=e+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}();const jde=Ude;var Hde=function(){function n(){this.buffer=""}return n.form=function(t,e){var r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function i(s,a,c,l,h,g){if("%%"===s)return"%";if(void 0!==e[++r]){s=l?parseInt(l.substr(1)):void 0;var _,y=h?parseInt(h.substr(1)):void 0;switch(g){case"s":_=e[r];break;case"c":_=e[r][0];break;case"f":_=parseFloat(e[r]).toFixed(s);break;case"p":_=parseFloat(e[r]).toPrecision(s);break;case"e":_=parseFloat(e[r]).toExponential(s);break;case"x":_=parseInt(e[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(e[r],y||10).toPrecision(s)).toFixed(0)}_="object"==typeof _?JSON.stringify(_):(+_).toString(y);for(var w=parseInt(c),C=c&&c[0]+""=="0"?"0":" ";_.length<w;)_=void 0!==a?_+C:C+_;return _}})},n.prototype.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.buffer+=n.form(t,e)},n.prototype.toString=function(){return this.buffer},n}();const B2=Hde;var Wde=function(){function n(t){this.boundingBox=new L2(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return n.prototype.getCodewordNearby=function(t){var e=this.getCodeword(t);if(null!=e)return e;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(t)-r;if(i>=0&&null!=(e=this.codewords[i])||(i=this.imageRowToCodewordIndex(t)+r)<this.codewords.length&&null!=(e=this.codewords[i]))return e}return null},n.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},n.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},n.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var t,e,r=new B2,i=0;try{for(var o=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),s=o.next();!s.done;s=o.next()){var a=s.value;null!=a?r.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue()):r.format("%3d:    |   %n",i++)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}();const fP=Wde;var Xde=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,s,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o},$de=function(){function n(){this.values=new Map}return n.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},n.prototype.getValue=function(){var t,e,r=-1,i=new Array,o=function(g,y){var __getKey=function(){return g},__getValue=function(){return y};__getValue()>r?(r=__getValue(),(i=[]).push(__getKey())):__getValue()===r&&i.push(__getKey())};try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),a=s.next();!a.done;a=s.next()){var c=Xde(a.value,2);o(c[0],c[1])}}catch(g){t={error:g}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return Kn.toIntArray(i)},n.prototype.getConfidence=function(t){return this.values.get(t)},n}();const Fp=$de;var Yde=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),V2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zde=function(n){function t(e,r){var i=n.call(this,e)||this;return i._isLeft=r,i}return Yde(t,n),t.prototype.setRowNumbers=function(){var e,r;try{for(var i=V2(this.getCodewords()),o=i.next();!o.done;o=i.next()){var s=o.value;s?.setRowNumberAsRowIndicatorColumn()}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},t.prototype.adjustCompleteIndicatorColumnRowNumbers=function(e){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=-1,h=1,g=0,y=a;y<c;y++)if(null!=r[y]){var _=r[y],w=_.getRowNumber()-l;if(0===w)g++;else if(1===w)h=Math.max(h,g),g=1,l=_.getRowNumber();else if(w<0||_.getRowNumber()>=e.getRowCount()||w>y)r[y]=null;else{for(var C,D=(C=h>2?(h-2)*w:w)>=y,P=1;P<=C&&!D;P++)D=null!=r[y-P];D?r[y]=null:(l=_.getRowNumber(),g=1)}}},t.prototype.getRowHeights=function(){var e,r,i=this.getBarcodeMetadata();if(null==i)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var s=V2(this.getCodewords()),a=s.next();!a.done;a=s.next()){var c=a.value;if(null!=c){var l=c.getRowNumber();if(l>=o.length)continue;o[l]++}}}catch(h){e={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},t.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(e){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.getCodewords(),l=-1,h=1,g=0,y=s;y<a;y++)if(null!=c[y]){var _=c[y];_.setRowNumberAsRowIndicatorColumn();var w=_.getRowNumber()-l;0===w?g++:1===w?(h=Math.max(h,g),g=1,l=_.getRowNumber()):_.getRowNumber()>=e.getRowCount()?c[y]=null:(l=_.getRowNumber(),g=1)}},t.prototype.getBarcodeMetadata=function(){var e,r,i=this.getCodewords(),o=new Fp,s=new Fp,a=new Fp,c=new Fp;try{for(var l=V2(i),h=l.next();!h.done;h=l.next()){var g=h.value;if(null!=g){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,_=g.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(3*y+1);break;case 1:c.setValue(y/3),a.setValue(y%3);break;case 2:o.setValue(y+1)}}}}catch(C){e={error:C}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(0===o.getValue().length||0===s.getValue().length||0===a.getValue().length||0===c.getValue().length||o.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<Kn.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>Kn.MAX_ROWS_IN_BARCODE)return null;var w=new jde(o.getValue()[0],s.getValue()[0],a.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,w),w},t.prototype.removeIncorrectCodewords=function(e,r){for(var i=0;i<e.length;i++){var o=e[i];if(null!=e[i]){var s=o.getValue()%30,a=o.getRowNumber();if(a>r.getRowCount()){e[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:3*s+1!==r.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(e[i]=null);break;case 2:s+1!==r.getColumnCount()&&(e[i]=null)}}}},t.prototype.isLeft=function(){return this._isLeft},t.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+n.prototype.toString.call(this)},t}(fP);const hP=Zde;var Kde=function(){function n(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e,t=Kn.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var r=this.detectionResultColumns[e].getCodewords(),i=0;i<r.length;i++)null!=r[i]&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(e,i,r));return t},n.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(null!=t[r]&&null!=e[r]&&t[r].getRowNumber()===e[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o&&(o.setRowNumber(t[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}},n.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var t=0,e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(null!=e[r])for(var i=e[r].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[r];null!=a&&(o=n.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||t++)}return t},n.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var t=0,e=this.detectionResultColumns[0].getCodewords(),r=0;r<e.length;r++)if(null!=e[r])for(var i=e[r].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[r];null!=a&&(o=n.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||t++)}return t},n.adjustRowNumberIfValid=function(t,e,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),e=0):++e),e},n.prototype.adjustRowNumbers=function(t,e,r){var i,o;if(null!=this.detectionResultColumns[t-1]){var s=r[e],a=this.detectionResultColumns[t-1].getCodewords(),c=a;null!=this.detectionResultColumns[t+1]&&(c=this.detectionResultColumns[t+1].getCodewords());var l=new Array(14);l[2]=a[e],l[3]=c[e],e>0&&(l[0]=r[e-1],l[4]=a[e-1],l[5]=c[e-1]),e>1&&(l[8]=r[e-2],l[10]=a[e-2],l[11]=c[e-2]),e<r.length-1&&(l[1]=r[e+1],l[6]=a[e+1],l[7]=c[e+1]),e<r.length-2&&(l[9]=r[e+2],l[12]=a[e+2],l[13]=c[e+2]);try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),g=h.next();!g.done;g=h.next())if(n.adjustRowNumber(s,g.value))return}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(t,e){return!(null==e||!e.hasValidRowNumber()||e.getBucket()!==t.getBucket()||(t.setRowNumber(e.getRowNumber()),0))},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(t){this.boundingBox=t},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},n.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},n.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new B2,r=0;r<t.getCodewords().length;r++){e.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++)if(null!=this.detectionResultColumns[i]){var o=this.detectionResultColumns[i].getCodewords()[r];null!=o?e.format(" %3d|%3d",o.getRowNumber(),o.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()},n}();const Qde=Kde;var Jde=function(){function n(t,e,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(e),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(t){return t!==n.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(t){this.rowNumber=t},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}();const efe=Jde;var tfe=function(){function n(){}return n.initialize=function(){for(var t=0;t<Kn.SYMBOL_TABLE.length;t++)for(var e=Kn.SYMBOL_TABLE[t],r=1&e,i=0;i<Kn.BARS_IN_MODULE;i++){for(var o=0;(1&e)===r;)o+=1,e>>=1;r=1&e,n.RATIOS_TABLE[t]||(n.RATIOS_TABLE[t]=new Array(Kn.BARS_IN_MODULE)),n.RATIOS_TABLE[t][Kn.BARS_IN_MODULE-i-1]=Math.fround(o/Kn.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(t){var e=n.getDecodedCodewordValue(n.sampleBitCounts(t));return-1!==e?e:n.getClosestDecodedValue(t)},n.sampleBitCounts=function(t){for(var e=er.sum(t),r=new Int32Array(Kn.BARS_IN_MODULE),i=0,o=0,s=0;s<Kn.MODULES_IN_CODEWORD;s++)o+t[i]<=e/(2*Kn.MODULES_IN_CODEWORD)+s*e/Kn.MODULES_IN_CODEWORD&&(o+=t[i],i++),r[i]++;return r},n.getDecodedCodewordValue=function(t){var e=n.getBitValue(t);return-1===Kn.getCodeword(e)?-1:e},n.getBitValue=function(t){for(var e=0,r=0;r<t.length;r++)for(var i=0;i<t[r];i++)e=e<<1|(r%2==0?1:0);return Math.trunc(e)},n.getClosestDecodedValue=function(t){var e=er.sum(t),r=new Array(Kn.BARS_IN_MODULE);if(e>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(t[i]/e);var o=I2.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var a=0;a<n.RATIOS_TABLE.length;a++){for(var c=0,l=n.RATIOS_TABLE[a],h=0;h<Kn.BARS_IN_MODULE;h++){var g=Math.fround(l[h]-r[h]);if((c+=Math.fround(g*g))>=o)break}c<o&&(o=c,s=Kn.SYMBOL_TABLE[a])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(Kn.SYMBOL_TABLE.length).map(function(t){return new Array(Kn.BARS_IN_MODULE)}),n}();const nfe=tfe;var rfe=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(t){this.segmentIndex=t},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(t){this.fileId=t},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(t){this.optionalData=t},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(t){this.lastSegment=t},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(t){this.segmentCount=t},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(t){this.sender=t},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(t){this.addressee=t},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(t){this.fileName=t},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(t){this.fileSize=t},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(t){this.checksum=t},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(t){this.timestamp=t},n}();const ife=rfe;var ofe=function(){function n(){}return n.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},n}();const pP=ofe;var sfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),afe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return sfe(t,n),t.kind="NullPointerException",t}(ls);const cfe=afe;var lfe=function(){function n(){}return n.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},n.prototype.writeBytesOffset=function(t,e,r){if(null==t)throw new cfe;if(e<0||e>t.length||r<0||e+r>t.length||e+r<0)throw new S2;if(0!==r)for(var i=0;i<r;i++)this.write(t[e+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}();const ufe=lfe;var dfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ffe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return dfe(t,n),t}(ls);const hfe=ffe;var pfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gfe=function(n){function t(e){void 0===e&&(e=32);var r=n.call(this)||this;if(r.count=0,e<0)throw new zt("Negative initial size: "+e);return r.buf=new Uint8Array(e),r}return pfe(t,n),t.prototype.ensureCapacity=function(e){e-this.buf.length>0&&this.grow(e)},t.prototype.grow=function(e){var i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new hfe;i=wn.MAX_VALUE}this.buf=Ai.copyOfUint8Array(this.buf,i)},t.prototype.write=function(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1},t.prototype.writeBytesOffset=function(e,r,i){if(r<0||r>e.length||i<0||r+i-e.length>0)throw new S2;this.ensureCapacity(this.count+i),Nr.arraycopy(e,r,this.buf,this.count,i),this.count+=i},t.prototype.writeTo=function(e){e.writeBytesOffset(this.buf,0,this.count)},t.prototype.reset=function(){this.count=0},t.prototype.toByteArray=function(){return Ai.copyOfUint8Array(this.buf,this.count)},t.prototype.size=function(){return this.count},t.prototype.toString=function(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()},t.prototype.toString_void=function(){return new String(this.buf).toString()},t.prototype.toString_string=function(e){return new String(this.buf).toString()},t.prototype.toString_number=function(e){return new String(this.buf).toString()},t.prototype.close=function(){},t}(ufe);const mfe=gfe;var Cm,Sr=function(n){return n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT",n}(Sr||{});function gP(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function yl(n){if(typeof Cm>"u"&&(Cm=gP()),null===Cm)throw new Error("BigInt is not supported!");return Cm(n)}var yfe=function(){function n(){}return n.decode=function(t,e){var r=new Cn(""),i=ki.ISO8859_1;r.enableDecoding(i);for(var o=1,s=t[o++],a=new ife;o<t[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:o=n.textCompaction(t,o,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:o=n.byteCompaction(s,t,i,o,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:o=n.numericCompaction(t,o,r);break;case n.ECI_CHARSET:ki.getCharacterSetECIByValue(t[o++]);break;case n.ECI_GENERAL_PURPOSE:o+=2;break;case n.ECI_USER_DEFINED:o++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=n.decodeMacroBlock(t,o,a);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new Et;default:o--,o=n.textCompaction(t,o,r)}if(!(o<t.length))throw Et.getFormatInstance();s=t[o++]}if(0===r.length())throw Et.getFormatInstance();var l=new hm(null,r.toString(),null,e);return l.setOther(a),l},n.decodeMacroBlock=function(t,e,r){if(e+n.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Et.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<n.NUMBER_OF_SEQUENCE_CODEWORDS;o++,e++)i[o]=t[e];r.setSegmentIndex(wn.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Cn;e=n.textCompaction(t,e,s),r.setFileId(s.toString());var a=-1;for(t[e]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=e+1);e<t[0];)switch(t[e]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t[++e]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Cn;e=n.textCompaction(t,e+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new Cn;e=n.textCompaction(t,e+1,l),r.setSender(l.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var h=new Cn;e=n.textCompaction(t,e+1,h),r.setAddressee(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new Cn;e=n.numericCompaction(t,e+1,g),r.setSegmentCount(wn.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Cn;e=n.numericCompaction(t,e+1,y),r.setTimestamp(pP.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new Cn;e=n.numericCompaction(t,e+1,_),r.setChecksum(wn.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new Cn;e=n.numericCompaction(t,e+1,w),r.setFileSize(pP.parseLong(w.toString()));break;default:throw Et.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:e++,r.setLastSegment(!0);break;default:throw Et.getFormatInstance()}if(-1!==a){var C=e-a;r.isLastSegment()&&C--,r.setOptionalData(Ai.copyOfRange(t,a,a+C))}return e},n.textCompaction=function(t,e,r){for(var i=new Int32Array(2*(t[0]-e)),o=new Int32Array(2*(t[0]-e)),s=0,a=!1;e<t[0]&&!a;){var c=t[e++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,a=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=t[e++],o[s]=c,s++}}return n.decodeTextCompaction(i,o,s,r),e},n.decodeTextCompaction=function(t,e,r,i){for(var o=Sr.ALPHA,s=Sr.ALPHA,a=0;a<r;){var c=t[a],l="";switch(o){case Sr.ALPHA:if(c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case n.LL:o=Sr.LOWER;break;case n.ML:o=Sr.MIXED;break;case n.PS:s=o,o=Sr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}break;case Sr.LOWER:if(c<26)l=String.fromCharCode(97+c);else switch(c){case 26:l=" ";break;case n.AS:s=o,o=Sr.ALPHA_SHIFT;break;case n.ML:o=Sr.MIXED;break;case n.PS:s=o,o=Sr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}break;case Sr.MIXED:if(c<n.PL)l=n.MIXED_CHARS[c];else switch(c){case n.PL:o=Sr.PUNCT;break;case 26:l=" ";break;case n.LL:o=Sr.LOWER;break;case n.AL:o=Sr.ALPHA;break;case n.PS:s=o,o=Sr.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}break;case Sr.PUNCT:if(c<n.PAL)l=n.PUNCT_CHARS[c];else switch(c){case n.PAL:o=Sr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}break;case Sr.ALPHA_SHIFT:if(o=s,c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}break;case Sr.PUNCT_SHIFT:if(o=s,c<n.PAL)l=n.PUNCT_CHARS[c];else switch(c){case n.PAL:o=Sr.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[a]);break;case n.TEXT_COMPACTION_MODE_LATCH:o=Sr.ALPHA}}""!==l&&i.append(l),a++}},n.byteCompaction=function(t,e,r,i,o){var s=new mfe,a=0,c=0,l=!1;switch(t){case n.BYTE_COMPACTION_MODE_LATCH:for(var h=new Int32Array(6),g=e[i++];i<e[0]&&!l;)switch(h[a++]=g,c=900*c+g,g=e[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(a%5==0&&a>0){for(var y=0;y<6;++y)s.write(Number(yl(c)>>yl(8*(5-y))));c=0,a=0}}i===e[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(h[a++]=g);for(var _=0;_<a;_++)s.write(h[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<e[0]&&!l;){var w=e[i++];if(w<n.TEXT_COMPACTION_MODE_LATCH)a++,c=900*c+w;else switch(w){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,l=!0}if(a%5==0&&a>0){for(y=0;y<6;++y)s.write(Number(yl(c)>>yl(8*(5-y))));c=0,a=0}}}return o.append(Js.decode(s.toByteArray(),r)),i},n.numericCompaction=function(t,e,r){for(var i=0,o=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);e<t[0]&&!o;){var a=t[e++];if(e===t[0]&&(o=!0),a<n.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:e--,o=!0}(i%n.MAX_NUMERIC_CODEWORDS==0||a===n.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return e},n.decodeBase900toBase10=function(t,e){for(var r=yl(0),i=0;i<e;i++)r+=n.EXP900[e-i-1]*yl(t[i]);var o=r.toString();if("1"!==o.charAt(0))throw new Et;return o.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",n.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",n.EXP900=gP()?function vfe(){var n=[];n[0]=yl(1);var t=yl(900);n[1]=t;for(var e=2;e<16;e++)n[e]=n[e-1]*t;return n}():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}();const _fe=yfe;var Lp=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xfe=function(){function n(){}return n.decode=function(t,e,r,i,o,s,a){for(var g,c=new L2(t,e,r,i,o),l=null,h=null,y=!0;;y=!1){if(null!=e&&(l=n.getRowIndicatorColumn(t,c,e,!0,s,a)),null!=i&&(h=n.getRowIndicatorColumn(t,c,i,!1,s,a)),null==(g=n.merge(l,h)))throw Ke.getNotFoundInstance();var _=g.getBoundingBox();if(!y||null==_||!(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))break;c=_}g.setBoundingBox(c);var w=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,l),g.setDetectionResultColumn(w,h);for(var C=null!=l,D=1;D<=w;D++){var P=C?D:w-D;if(void 0===g.getDetectionResultColumn(P)){var O=void 0;O=0===P||P===w?new hP(c,0===P):new fP(c),g.setDetectionResultColumn(P,O);for(var G=-1,Z=G,oe=c.getMinY();oe<=c.getMaxY();oe++){if((G=n.getStartColumn(g,P,oe,C))<0||G>c.getMaxX()){if(-1===Z)continue;G=Z}var fe=n.detectCodeword(t,c.getMinX(),c.getMaxX(),C,G,oe,s,a);null!=fe&&(O.setCodeword(oe,fe),Z=G,s=Math.min(s,fe.getWidth()),a=Math.max(a,fe.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(t,e){if(null==t&&null==e)return null;var r=n.getBarcodeMetadata(t,e);if(null==r)return null;var i=L2.merge(n.adjustBoundingBox(t),n.adjustBoundingBox(e));return new Qde(r,i)},n.adjustBoundingBox=function(t){var e,r;if(null==t)return null;var i=t.getRowHeights();if(null==i)return null;var o=n.getMax(i),s=0;try{for(var a=Lp(i),c=a.next();!c.done;c=a.next()){var l=c.value;if(s+=o-l,l>0)break}}catch(_){e={error:_}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}for(var h=t.getCodewords(),g=0;s>0&&null==h[g];g++)s--;var y=0;for(g=i.length-1;g>=0&&(y+=o-i[g],!(i[g]>0));g--);for(g=h.length-1;y>0&&null==h[g];g--)y--;return t.getBoundingBox().addMissingRows(s,y,t.isLeft())},n.getMax=function(t){var e,r,i=-1;try{for(var o=Lp(t),s=o.next();!s.done;s=o.next())i=Math.max(i,s.value)}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i},n.getBarcodeMetadata=function(t,e){var r,i;return null==t||null==(r=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(i=e.getBarcodeMetadata())?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(t,e,r,i,o,s){for(var a=new hP(e,i),c=0;c<2;c++)for(var l=0===c?1:-1,h=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=e.getMaxY()&&g>=e.getMinY();g+=l){var y=n.detectCodeword(t,0,t.getWidth(),i,h,g,o,s);null!=y&&(a.setCodeword(g,y),h=i?y.getStartX():y.getEndX())}return a},n.adjustCodewordCount=function(t,e){var r=e[0][1],i=r.getValue(),o=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-n.getNumberOfECCodeWords(t.getBarcodeECLevel());if(0===i.length){if(o<1||o>Kn.MAX_CODEWORDS_IN_BARCODE)throw Ke.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},n.createDecoderResult=function(t){var e=n.createBarcodeMatrix(t);n.adjustCodewordCount(t,e);for(var r=new Array,i=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),o=[],s=new Array,a=0;a<t.getBarcodeRowCount();a++)for(var c=0;c<t.getBarcodeColumnCount();c++){var l=e[a][c+1].getValue(),h=a*t.getBarcodeColumnCount()+c;0===l.length?r.push(h):1===l.length?i[h]=l[0]:(s.push(h),o.push(l))}for(var g=new Array(o.length),y=0;y<g.length;y++)g[y]=o[y];return n.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),i,Kn.toIntArray(r),Kn.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(t,e,r,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var c=0;c<s.length;c++)e[i[c]]=o[c][s[c]];try{return n.decodeCodewords(e,t,r)}catch(h){if(!(h instanceof Ei))throw h}if(0===s.length)throw Ei.getChecksumInstance();for(c=0;c<s.length;c++){if(s[c]<o[c].length-1){s[c]++;break}if(s[c]=0,c===s.length-1)throw Ei.getChecksumInstance()}}throw Ei.getChecksumInstance()},n.createBarcodeMatrix=function(t){for(var e,r,i,o,s=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var c=0;c<s[a].length;c++)s[a][c]=new Fp;var l=0;try{for(var h=Lp(t.getDetectionResultColumns()),g=h.next();!g.done;g=h.next()){var y=g.value;if(null!=y)try{for(var _=(i=void 0,Lp(y.getCodewords())),w=_.next();!w.done;w=_.next()){var C=w.value;if(null!=C){var D=C.getRowNumber();if(D>=0){if(D>=s.length)continue;s[D][l].setValue(C.getValue())}}}}catch(P){i={error:P}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}l++}}catch(P){e={error:P}}finally{try{g&&!g.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return s},n.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},n.getStartColumn=function(t,e,r,i){var o,s,a=i?1:-1,c=null;if(n.isValidBarcodeColumn(t,e-a)&&(c=t.getDetectionResultColumn(e-a).getCodeword(r)),null!=c)return i?c.getEndX():c.getStartX();if(null!=(c=t.getDetectionResultColumn(e).getCodewordNearby(r)))return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(t,e-a)&&(c=t.getDetectionResultColumn(e-a).getCodewordNearby(r)),null!=c)return i?c.getEndX():c.getStartX();for(var l=0;n.isValidBarcodeColumn(t,e-a);){e-=a;try{for(var h=(o=void 0,Lp(t.getDetectionResultColumn(e).getCodewords())),g=h.next();!g.done;g=h.next()){var y=g.value;if(null!=y)return(i?y.getEndX():y.getStartX())+a*l*(y.getEndX()-y.getStartX())}}catch(_){o={error:_}}finally{try{g&&!g.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}l++}return i?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()},n.detectCodeword=function(t,e,r,i,o,s,a,c){o=n.adjustCodewordStartColumn(t,e,r,i,o,s);var l=n.getModuleBitCount(t,e,r,i,o,s);if(null==l)return null;var h,g=er.sum(l);if(i)h=o+g;else{for(var y=0;y<l.length/2;y++){var _=l[y];l[y]=l[l.length-1-y],l[l.length-1-y]=_}o=(h=o)-g}if(!n.checkCodewordSkew(g,a,c))return null;var w=nfe.getDecodedValue(l),C=Kn.getCodeword(w);return-1===C?null:new efe(o,h,n.getCodewordBucketNumber(w),C)},n.getModuleBitCount=function(t,e,r,i,o,s){for(var a=o,c=new Int32Array(8),l=0,h=i?1:-1,g=i;(i?a<r:a>=e)&&l<c.length;)t.get(a,s)===g?(c[l]++,a+=h):(l++,g=!g);return l===c.length||a===(i?r:e)&&l===c.length-1?c:null},n.getNumberOfECCodeWords=function(t){return 2<<t},n.adjustCodewordStartColumn=function(t,e,r,i,o,s){for(var a=o,c=i?-1:1,l=0;l<2;l++){for(;(i?a>=e:a<r)&&i===t.get(a,s);){if(Math.abs(o-a)>n.CODEWORD_SKEW_SIZE)return o;a+=c}c=-c,i=!i}return a},n.checkCodewordSkew=function(t,e,r){return e-n.CODEWORD_SKEW_SIZE<=t&&t<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(t,e,r){if(0===t.length)throw Et.getFormatInstance();var i=1<<e+1,o=n.correctErrors(t,r,i);n.verifyCodewordCount(t,i);var s=_fe.decode(t,""+e);return s.setErrorsCorrected(o),s.setErasures(r.length),s},n.correctErrors=function(t,e,r){if(null!=e&&e.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Ei.getChecksumInstance();return n.errorCorrection.decode(t,r,e)},n.verifyCodewordCount=function(t,e){if(t.length<4)throw Et.getFormatInstance();var r=t[0];if(r>t.length)throw Et.getFormatInstance();if(0===r){if(!(e<t.length))throw Et.getFormatInstance();t[0]=t.length-e}},n.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),r=0,i=e.length-1;!((1&t)!==r&&(r=1&t,i--,i<0));)e[i]++,t>>=1;return e},n.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},n.getCodewordBucketNumber_number=function(t){return n.getCodewordBucketNumber(n.getBitCountForCodeword(t))},n.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},n.toString=function(t){for(var e=new B2,r=0;r<t.length;r++){e.format("Row %2d: ",r);for(var i=0;i<t[r].length;i++){var o=t[r][i];0===o.getValue().length?e.format("        ",null):e.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}e.format("%n")}return e.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new Bde,n}();const bfe=xfe;var Cfe=function(){function n(){}return n.prototype.decode=function(t,e){void 0===e&&(e=null);var r=n.decode(t,e,!1);if(null==r||0===r.length||null==r[0])throw Ke.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(t,e){void 0===e&&(e=null);try{return n.decode(t,e,!0)}catch(r){throw r instanceof Et||r instanceof Ei?Ke.getNotFoundInstance():r}},n.decode=function(t,e,r){var i,o,s=new Array,a=Dde.detectMultiple(t,e,r);try{for(var c=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a.getPoints()),l=c.next();!l.done;l=c.next()){var h=l.value,g=bfe.decode(a.getBits(),h[4],h[5],h[6],h[7],n.getMinCodewordWidth(h),n.getMaxCodewordWidth(h)),y=new wo(g.getText(),g.getRawBytes(),void 0,h,Kt.PDF_417);y.putMetadata(so.ERROR_CORRECTION_LEVEL,g.getECLevel());var _=g.getOther();null!=_&&y.putMetadata(so.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(w){i={error:w}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return s.map(function(w){return w})},n.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMinWidth=function(t,e){return null==t||null==e?wn.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},n.getMaxCodewordWidth=function(t){return Math.floor(Math.max(Math.max(n.getMaxWidth(t[0],t[4]),n.getMaxWidth(t[6],t[2])*Kn.MODULES_IN_CODEWORD/Kn.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(t[1],t[5]),n.getMaxWidth(t[7],t[3])*Kn.MODULES_IN_CODEWORD/Kn.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(t){return Math.floor(Math.min(Math.min(n.getMinWidth(t[0],t[4]),n.getMinWidth(t[6],t[2])*Kn.MODULES_IN_CODEWORD/Kn.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(t[1],t[5]),n.getMinWidth(t[7],t[3])*Kn.MODULES_IN_CODEWORD/Kn.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}();const Em=Cfe;var Efe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Afe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Efe(t,n),t.kind="ReaderException",t}(ls);const mP=Afe;var vP=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sfe=function(){function n(){}return n.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},n.prototype.decodeWithState=function(t){return null==this.readers&&this.setHints(null),this.decodeInternal(t)},n.prototype.setHints=function(t){this.hints=t;var e=null!=t&&void 0!==t.get(Pr.TRY_HARDER),r=null==t?null:t.get(Pr.POSSIBLE_FORMATS),i=new Array;if(null!=r){var o=r.some(function(s){return s===Kt.UPC_A||s===Kt.UPC_E||s===Kt.EAN_13||s===Kt.EAN_8||s===Kt.CODABAR||s===Kt.CODE_39||s===Kt.CODE_93||s===Kt.CODE_128||s===Kt.ITF||s===Kt.RSS_14||s===Kt.RSS_EXPANDED});o&&!e&&i.push(new uf(t)),r.includes(Kt.QR_CODE)&&i.push(new wm),r.includes(Kt.DATA_MATRIX)&&i.push(new bm),r.includes(Kt.AZTEC)&&i.push(new mm),r.includes(Kt.PDF_417)&&i.push(new Em),o&&e&&i.push(new uf(t))}0===i.length&&(e||i.push(new uf(t)),i.push(new wm),i.push(new bm),i.push(new mm),i.push(new Em),e&&i.push(new uf(t))),this.readers=i},n.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var r=vP(this.readers),i=r.next();!i.done;i=r.next())i.value.reset()}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},n.prototype.decodeInternal=function(t){var e,r;if(null===this.readers)throw new mP("No readers where selected, nothing can be read.");try{for(var i=vP(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;try{return s.decode(t,this.hints)}catch(a){if(a instanceof mP)continue}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}throw new Ke("No MultiFormat Readers were able to detect the code.")},n}();const yP=Sfe;var Ife=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dfe=(function(n){function t(e,r){void 0===e&&(e=null),void 0===r&&(r=500);var o=new yP;return o.setHints(e),n.call(this,o,r)||this}Ife(t,n),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)}}(sf),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),Mfe=(function(n){Dfe(function t(e){return void 0===e&&(e=500),n.call(this,new Em,e)||this},n)}(sf),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),_P=(function(n){Mfe(function t(e){return void 0===e&&(e=500),n.call(this,new wm,e)||this},n)}(sf),function(n){return n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40",n}(_P||{}));const Vn=_P;var Tfe=function(){function n(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new gl(t,Int32Array.from([1])))}return n.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var r=e[e.length-1],i=this.field,o=e.length;o<=t;o++){var s=r.multiply(new gl(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));e.push(s),r=s}return e[t]},n.prototype.encode=function(t,e){if(0===e)throw new zt("No error correction bytes");var r=t.length-e;if(r<=0)throw new zt("No data bytes provided");var i=this.buildGenerator(e),o=new Int32Array(r);Nr.arraycopy(t,0,o,0,r);for(var s=new gl(this.field,o),c=(s=s.multiplyByMonomial(e,1)).divide(i)[1].getCoefficients(),l=e-c.length,h=0;h<l;h++)t[r+h]=0;Nr.arraycopy(c,0,t,r+l,c.length)},n}();const xP=Tfe;var Ofe=function(){function n(){}return n.applyMaskPenaltyRule1=function(t){return n.applyMaskPenaltyRule1Internal(t,!0)+n.applyMaskPenaltyRule1Internal(t,!1)},n.applyMaskPenaltyRule2=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),s=0;s<o-1;s++)for(var a=r[s],c=0;c<i-1;c++){var l=a[c];l===a[c+1]&&l===r[s+1][c]&&l===r[s+1][c+1]&&e++}return n.N2*e},n.applyMaskPenaltyRule3=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var c=r[s];a+6<i&&1===c[a]&&0===c[a+1]&&1===c[a+2]&&1===c[a+3]&&1===c[a+4]&&0===c[a+5]&&1===c[a+6]&&(n.isWhiteHorizontal(c,a-4,a)||n.isWhiteHorizontal(c,a+7,a+11))&&e++,s+6<o&&1===r[s][a]&&0===r[s+1][a]&&1===r[s+2][a]&&1===r[s+3][a]&&1===r[s+4][a]&&0===r[s+5][a]&&1===r[s+6][a]&&(n.isWhiteVertical(r,a,s-4,s)||n.isWhiteVertical(r,a,s+7,s+11))&&e++}return e*n.N3},n.isWhiteHorizontal=function(t,e,r){e=Math.max(e,0),r=Math.min(r,t.length);for(var i=e;i<r;i++)if(1===t[i])return!1;return!0},n.isWhiteVertical=function(t,e,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(var o=r;o<i;o++)if(1===t[o][e])return!1;return!0},n.applyMaskPenaltyRule4=function(t){for(var e=0,r=t.getArray(),i=t.getWidth(),o=t.getHeight(),s=0;s<o;s++)for(var a=r[s],c=0;c<i;c++)1===a[c]&&e++;var l=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*e-l)/l)*n.N4},n.getDataMaskBit=function(t,e,r){var i,o;switch(t){case 0:i=r+e&1;break;case 1:i=1&r;break;case 2:i=e%3;break;case 3:i=(r+e)%3;break;case 4:i=Math.floor(r/2)+Math.floor(e/3)&1;break;case 5:i=(1&(o=r*e))+o%3;break;case 6:i=(1&(o=r*e))+o%3&1;break;case 7:i=(o=r*e)%3+(r+e&1)&1;break;default:throw new zt("Invalid mask pattern: "+t)}return 0===i},n.applyMaskPenaltyRule1Internal=function(t,e){for(var r=0,i=e?t.getHeight():t.getWidth(),o=e?t.getWidth():t.getHeight(),s=t.getArray(),a=0;a<i;a++){for(var c=0,l=-1,h=0;h<o;h++){var g=e?s[a][h]:s[h][a];g===l?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,l=g)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}();const Bp=Ofe;var Nfe=function(){function n(t,e){this.width=t,this.height=e;for(var r=new Array(e),i=0;i!==e;i++)r[i]=new Uint8Array(t);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(t,e){return this.bytes[e][t]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(t,e,r){this.bytes[e][t]=r},n.prototype.setBoolean=function(t,e,r){this.bytes[e][t]=r?1:0},n.prototype.clear=function(t){var e,r;try{for(var i=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),o=i.next();!o.done;o=i.next())Ai.fill(o.value,t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;if(this.width!==e.width||this.height!==e.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],s=e.bytes[r],a=0,c=this.width;a<c;++a)if(o[a]!==s[a])return!1;return!0},n.prototype.toString=function(){for(var t=new Cn,e=0,r=this.height;e<r;++e){for(var i=this.bytes[e],o=0,s=this.width;o<s;++o)switch(i[o]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},n}();const bP=Nfe;var Pfe=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var t=new Cn;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},n.prototype.setMode=function(t){this.mode=t},n.prototype.setECLevel=function(t){this.ecLevel=t},n.prototype.setVersion=function(t){this.version=t},n.prototype.setMaskPattern=function(t){this.maskPattern=t},n.prototype.setMatrix=function(t){this.matrix=t},n.isValidMaskPattern=function(t){return t>=0&&t<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}();const U2=Pfe;var kfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ffe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kfe(t,n),t.kind="WriterException",t}(ls);const Hr=Ffe;var Lfe=function(){function n(){}return n.clearMatrix=function(t){t.clear(255)},n.buildMatrix=function(t,e,r,i,o){n.clearMatrix(o),n.embedBasicPatterns(r,o),n.embedTypeInfo(e,i,o),n.maybeEmbedVersionInfo(r,o),n.embedDataBits(t,i,o)},n.embedBasicPatterns=function(t,e){n.embedPositionDetectionPatternsAndSeparators(e),n.embedDarkDotAtLeftBottomCorner(e),n.maybeEmbedPositionAdjustmentPatterns(t,e),n.embedTimingPatterns(e)},n.embedTypeInfo=function(t,e,r){var i=new zi;n.makeTypeInfoBits(t,e,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),c=n.TYPE_INFO_COORDINATES[o];if(r.setBoolean(c[0],c[1],a),o<8){var g=r.getWidth()-o-1;r.setBoolean(g,y=8,a)}else{g=8;var y=r.getHeight()-7+(o-8);r.setBoolean(g,y,a)}}},n.maybeEmbedVersionInfo=function(t,e){if(!(t.getVersionNumber()<7)){var r=new zi;n.makeVersionInfoBits(t,r);for(var i=17,o=0;o<6;++o)for(var s=0;s<3;++s){var a=r.get(i);i--,e.setBoolean(o,e.getHeight()-11+s,a),e.setBoolean(e.getHeight()-11+s,o,a)}}},n.embedDataBits=function(t,e,r){for(var i=0,o=-1,s=r.getWidth()-1,a=r.getHeight()-1;s>0;){for(6===s&&(s-=1);a>=0&&a<r.getHeight();){for(var c=0;c<2;++c){var l=s-c;if(n.isEmpty(r.get(l,a))){var h=void 0;i<t.getSize()?(h=t.get(i),++i):h=!1,255!==e&&Bp.getDataMaskBit(e,l,a)&&(h=!h),r.setBoolean(l,a,h)}}a+=o}a+=o=-o,s-=2}if(i!==t.getSize())throw new Hr("Not all bits consumed: "+i+"/"+t.getSize())},n.findMSBSet=function(t){return 32-wn.numberOfLeadingZeros(t)},n.calculateBCHCode=function(t,e){if(0===e)throw new zt("0 polynomial");var r=n.findMSBSet(e);for(t<<=r-1;n.findMSBSet(t)>=r;)t^=e<<n.findMSBSet(t)-r;return t},n.makeTypeInfoBits=function(t,e,r){if(!U2.isValidMaskPattern(e))throw new Hr("Invalid mask pattern");var i=t.getBits()<<3|e;r.appendBits(i,5);var o=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(o,10);var s=new zi;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),15!==r.getSize())throw new Hr("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(t,e){e.appendBits(t.getVersionNumber(),6);var r=n.calculateBCHCode(t.getVersionNumber(),n.VERSION_INFO_POLY);if(e.appendBits(r,12),18!==e.getSize())throw new Hr("should not happen but we got: "+e.getSize())},n.isEmpty=function(t){return 255===t},n.embedTimingPatterns=function(t){for(var e=8;e<t.getWidth()-8;++e){var r=(e+1)%2;n.isEmpty(t.get(e,6))&&t.setNumber(e,6,r),n.isEmpty(t.get(6,e))&&t.setNumber(6,e,r)}},n.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new Hr;t.setNumber(8,t.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(t,e,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(t+i,e)))throw new Hr;r.setNumber(t+i,e,0)}},n.embedVerticalSeparationPattern=function(t,e,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(t,e+i)))throw new Hr;r.setNumber(t,e+i,0)}},n.embedPositionAdjustmentPattern=function(t,e,r){for(var i=0;i<5;++i)for(var o=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(t+s,e+i,o[s])},n.embedPositionDetectionPattern=function(t,e,r){for(var i=0;i<7;++i)for(var o=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(t+s,e+i,o[s])},n.embedPositionDetectionPatternsAndSeparators=function(t){var e=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,t),n.embedPositionDetectionPattern(t.getWidth()-e,0,t),n.embedPositionDetectionPattern(0,t.getWidth()-e,t),n.embedHorizontalSeparationPattern(0,7,t),n.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),n.embedHorizontalSeparationPattern(0,t.getWidth()-8,t),n.embedVerticalSeparationPattern(7,0,t),n.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),n.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},n.maybeEmbedPositionAdjustmentPatterns=function(t,e){if(!(t.getVersionNumber()<2))for(var r=t.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var c=0;c!==s;c++){var l=i[c];l>=0&&n.isEmpty(e.get(l,a))&&n.embedPositionAdjustmentPattern(l-2,a-2,e)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}();const wP=Lfe;var Bfe=function(){function n(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}();const Vfe=Bfe;var CP=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ufe=function(){function n(){}return n.calculateMaskPenalty=function(t){return Bp.applyMaskPenaltyRule1(t)+Bp.applyMaskPenaltyRule2(t)+Bp.applyMaskPenaltyRule3(t)+Bp.applyMaskPenaltyRule4(t)},n.encode=function(t,e,r){void 0===r&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(Vn.CHARACTER_SET);o&&(i=r.get(Vn.CHARACTER_SET).toString());var s=this.chooseMode(t,i),a=new zi;if(s===jr.BYTE&&(o||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=ki.getCharacterSetECIByName(i);void 0!==c&&this.appendECI(c,a)}this.appendModeInfo(s,a);var h,l=new zi;if(this.appendBytes(t,s,l,i),null!==r&&void 0!==r.get(Vn.QR_VERSION)){var g=Number.parseInt(r.get(Vn.QR_VERSION).toString(),10);h=xu.getVersionForNumber(g);var y=this.calculateBitsNeeded(s,a,l,h);if(!this.willFit(y,h,e))throw new Hr("Data too big for requested version")}else h=this.recommendVersion(e,s,a,l);var _=new zi;_.appendBitArray(a);var w=s===jr.BYTE?l.getSizeInBytes():t.length;this.appendLengthInfo(w,h,s,_),_.appendBitArray(l);var C=h.getECBlocksForLevel(e),D=h.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(D,_);var P=this.interleaveWithECBytes(_,h.getTotalCodewords(),D,C.getNumBlocks()),O=new U2;O.setECLevel(e),O.setMode(s),O.setVersion(h);var G=h.getDimensionForVersion(),Z=new bP(G,G),oe=this.chooseMaskPattern(P,e,h,Z);return O.setMaskPattern(oe),wP.buildMatrix(P,e,h,oe,Z),O.setMatrix(Z),O},n.recommendVersion=function(t,e,r,i){var o=this.calculateBitsNeeded(e,r,i,xu.getVersionForNumber(1)),s=this.chooseVersion(o,t),a=this.calculateBitsNeeded(e,r,i,s);return this.chooseVersion(a,t)},n.calculateBitsNeeded=function(t,e,r,i){return e.getSize()+t.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(t){return t<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[t]:-1},n.chooseMode=function(t,e){if(void 0===e&&(e=null),ki.SJIS.getName()===e&&this.isOnlyDoubleByteKanji(t))return jr.KANJI;for(var r=!1,i=!1,o=0,s=t.length;o<s;++o){var a=t.charAt(o);if(n.isDigit(a))r=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return jr.BYTE;i=!0}}return i?jr.ALPHANUMERIC:r?jr.NUMERIC:jr.BYTE},n.isOnlyDoubleByteKanji=function(t){var e;try{e=Js.encode(t,ki.SJIS)}catch{return!1}var r=e.length;if(r%2!=0)return!1;for(var i=0;i<r;i+=2){var o=255&e[i];if((o<129||o>159)&&(o<224||o>235))return!1}return!0},n.chooseMaskPattern=function(t,e,r,i){for(var o=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<U2.NUM_MASK_PATTERNS;a++){wP.buildMatrix(t,e,r,a,i);var c=this.calculateMaskPenalty(i);c<o&&(o=c,s=a)}return s},n.chooseVersion=function(t,e){for(var r=1;r<=40;r++){var i=xu.getVersionForNumber(r);if(n.willFit(t,i,e))return i}throw new Hr("Data too big")},n.willFit=function(t,e,r){return e.getTotalCodewords()-e.getECBlocksForLevel(r).getTotalECCodewords()>=(t+7)/8},n.terminateBits=function(t,e){var r=8*t;if(e.getSize()>r)throw new Hr("data bits cannot fit in the QR Code"+e.getSize()+" > "+r);for(var i=0;i<4&&e.getSize()<r;++i)e.appendBit(!1);var o=7&e.getSize();if(o>0)for(i=o;i<8;i++)e.appendBit(!1);var s=t-e.getSizeInBytes();for(i=0;i<s;++i)e.appendBits(1&i?17:236,8);if(e.getSize()!==r)throw new Hr("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(t,e,r,i,o,s){if(i>=r)throw new Hr("Block ID too large");var a=t%r,c=r-a,l=Math.floor(t/r),h=l+1,g=Math.floor(e/r),y=g+1,_=l-g,w=h-y;if(_!==w)throw new Hr("EC bytes mismatch");if(r!==c+a)throw new Hr("RS blocks mismatch");if(t!==(g+_)*c+(y+w)*a)throw new Hr("Total bytes mismatch");i<c?(o[0]=g,s[0]=_):(o[0]=y,s[0]=w)},n.interleaveWithECBytes=function(t,e,r,i){var o,s,a,c;if(t.getSizeInBytes()!==r)throw new Hr("Number of bits and data bytes does not match");for(var l=0,h=0,g=0,y=new Array,_=0;_<i;++_){var w=new Int32Array(1),C=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(e,r,i,_,w,C);var D=w[0],P=new Uint8Array(D);t.toBytes(8*l,P,0,D);var O=n.generateECBytes(P,C[0]);y.push(new Vfe(P,O)),h=Math.max(h,D),g=Math.max(g,O.length),l+=w[0]}if(r!==l)throw new Hr("Data bytes does not match offset");var G=new zi;for(_=0;_<h;++_)try{for(var Z=(o=void 0,CP(y)),oe=Z.next();!oe.done;oe=Z.next())_<(P=oe.value.getDataBytes()).length&&G.appendBits(P[_],8)}catch(dt){o={error:dt}}finally{try{oe&&!oe.done&&(s=Z.return)&&s.call(Z)}finally{if(o)throw o.error}}for(_=0;_<g;++_)try{for(var Ie=(a=void 0,CP(y)),Re=Ie.next();!Re.done;Re=Ie.next())_<(O=Re.value.getErrorCorrectionBytes()).length&&G.appendBits(O[_],8)}catch(dt){a={error:dt}}finally{try{Re&&!Re.done&&(c=Ie.return)&&c.call(Ie)}finally{if(a)throw a.error}}if(e!==G.getSizeInBytes())throw new Hr("Interleaving error: "+e+" and "+G.getSizeInBytes()+" differ.");return G},n.generateECBytes=function(t,e){for(var r=t.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=255&t[o];new xP(ds.QR_CODE_FIELD_256).encode(i,e);var s=new Uint8Array(e);for(o=0;o<e;o++)s[o]=i[r+o];return s},n.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},n.appendLengthInfo=function(t,e,r,i){var o=r.getCharacterCountBits(e);if(t>=1<<o)throw new Hr(t+" is bigger than "+((1<<o)-1));i.appendBits(t,o)},n.appendBytes=function(t,e,r,i){switch(e){case jr.NUMERIC:n.appendNumericBytes(t,r);break;case jr.ALPHANUMERIC:n.appendAlphanumericBytes(t,r);break;case jr.BYTE:n.append8BitBytes(t,r,i);break;case jr.KANJI:n.appendKanjiBytes(t,r);break;default:throw new Hr("Invalid mode: "+e)}},n.getDigit=function(t){return t.charCodeAt(0)-48},n.isDigit=function(t){var e=n.getDigit(t);return e>=0&&e<=9},n.appendNumericBytes=function(t,e){for(var r=t.length,i=0;i<r;){var o=n.getDigit(t.charAt(i));if(i+2<r){var s=n.getDigit(t.charAt(i+1)),a=n.getDigit(t.charAt(i+2));e.appendBits(100*o+10*s+a,10),i+=3}else i+1<r?(s=n.getDigit(t.charAt(i+1)),e.appendBits(10*o+s,7),i+=2):(e.appendBits(o,4),i++)}},n.appendAlphanumericBytes=function(t,e){for(var r=t.length,i=0;i<r;){var o=n.getAlphanumericCode(t.charCodeAt(i));if(-1===o)throw new Hr;if(i+1<r){var s=n.getAlphanumericCode(t.charCodeAt(i+1));if(-1===s)throw new Hr;e.appendBits(45*o+s,11),i+=2}else e.appendBits(o,6),i++}},n.append8BitBytes=function(t,e,r){var i;try{i=Js.encode(t,r)}catch(c){throw new Hr(c)}for(var o=0,s=i.length;o!==s;o++)e.appendBits(i[o],8)},n.appendKanjiBytes=function(t,e){var r;try{r=Js.encode(t,ki.SJIS)}catch(g){throw new Hr(g)}for(var i=r.length,o=0;o<i;o+=2){var c=(255&r[o])<<8&4294967295|255&r[o+1],l=-1;if(c>=33088&&c<=40956?l=c-33088:c>=57408&&c<=60351&&(l=c-49472),-1===l)throw new Hr("Invalid byte sequence");e.appendBits(192*(l>>8)+(255&l),13)}},n.appendECI=function(t,e){e.appendBits(jr.ECI.getBits(),4),e.appendBits(t.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=ki.UTF8.getName(),n}();const Am=Ufe;!function(){function n(){}n.prototype.write=function(t,e,r,i){if(void 0===i&&(i=null),0===t.length)throw new zt("Found empty contents");if(e<0||r<0)throw new zt("Requested dimensions are too small: "+e+"x"+r);var o=Tc.L,s=n.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(Vn.ERROR_CORRECTION)&&(o=Tc.fromString(i.get(Vn.ERROR_CORRECTION).toString())),void 0!==i.get(Vn.MARGIN)&&(s=Number.parseInt(i.get(Vn.MARGIN).toString(),10)));var a=Am.encode(t,o,i);return this.renderResult(a,e,r,s)},n.prototype.writeToDom=function(t,e,r,i,o){void 0===o&&(o=null),"string"==typeof t&&(t=document.querySelector(t));var s=this.write(e,r,i,o);t&&t.appendChild(s)},n.prototype.renderResult=function(t,e,r,i){var o=t.getMatrix();if(null===o)throw new Qa;for(var s=o.getWidth(),a=o.getHeight(),c=s+2*i,l=a+2*i,h=Math.max(e,c),g=Math.max(r,l),y=Math.min(Math.floor(h/c),Math.floor(g/l)),_=Math.floor((h-s*y)/2),w=Math.floor((g-a*y)/2),C=this.createSVGElement(h,g),D=0,P=w;D<a;D++,P+=y)for(var O=0,G=_;O<s;O++,G+=y)if(1===o.get(O,D)){var Z=this.createSvgRectElement(G,P,y,y);C.appendChild(Z)}return C},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",e.toString()),r},n.prototype.createSvgRectElement=function(t,e,r,i){var o=document.createElementNS(n.SVG_NS,"rect");return o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",e.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function n(){}n.prototype.encode=function(t,e,r,i,o){if(0===t.length)throw new zt("Found empty contents");if(e!==Kt.QR_CODE)throw new zt("Can only encode QR_CODE, but got "+e);if(r<0||i<0)throw new zt("Requested dimensions are too small: "+r+"x"+i);var s=Tc.L,a=n.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(Vn.ERROR_CORRECTION)&&(s=Tc.fromString(o.get(Vn.ERROR_CORRECTION).toString())),void 0!==o.get(Vn.MARGIN)&&(a=Number.parseInt(o.get(Vn.MARGIN).toString(),10)));var c=Am.encode(t,s,o);return n.renderResult(c,r,i,a)},n.renderResult=function(t,e,r,i){var o=t.getMatrix();if(null===o)throw new Qa;for(var s=o.getWidth(),a=o.getHeight(),c=s+2*i,l=a+2*i,h=Math.max(e,c),g=Math.max(r,l),y=Math.min(Math.floor(h/c),Math.floor(g/l)),_=Math.floor((h-s*y)/2),w=Math.floor((g-a*y)/2),C=new us(h,g),D=0,P=w;D<a;D++,P+=y)for(var O=0,G=_;O<s;O++,G+=y)1===o.get(O,D)&&C.setRegion(G,P,y,y);return C},n.QUIET_ZONE_SIZE=4}();var zfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(n){function t(e,r,i,o,s,a,c,l){var h=n.call(this,a,c)||this;if(h.yuvData=e,h.dataWidth=r,h.dataHeight=i,h.left=o,h.top=s,o+a>r||s+c>i)throw new zt("Crop rectangle does not fit within image data.");return l&&h.reverseHorizontal(a,c),h}zfe(t,n),t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new zt("Requested row is outside the image: "+e);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),Nr.arraycopy(this.yuvData,(e+this.top)*this.dataWidth+this.left,r,0,i),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=e*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Nr.arraycopy(this.yuvData,s,o,0,i),o;for(var a=0;a<r;a++)Nr.arraycopy(this.yuvData,s,o,a*e,e),s+=this.dataWidth;return o},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,i,o,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*r),o=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var c=a*e,l=0;l<e;l++)i[c+l]=4278190080|65793*(255&o[s+l*t.THUMBNAIL_SCALE_FACTOR]);s+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return i},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,r){for(var i=this.yuvData,o=0,s=this.top*this.dataWidth+this.left;o<r;o++,s+=this.dataWidth)for(var a=s+e/2,c=s,l=s+e-1;c<a;c++,l--){var h=i[c];i[c]=i[l],i[l]=h}},t.prototype.invert=function(){return new fm(this)},t.THUMBNAIL_SCALE_FACTOR=2}(Rp);var Wfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(n){function t(e,r,i,o,s,a,c){var l=n.call(this,r,i)||this;if(l.dataWidth=o,l.dataHeight=s,l.left=a,l.top=c,4===e.BYTES_PER_ELEMENT){for(var h=r*i,g=new Uint8ClampedArray(h),y=0;y<h;y++){var _=e[y];g[y]=((_>>16&255)+(_>>7&510)+(255&_))/4&255}l.luminances=g}else l.luminances=e;if(void 0===o&&(l.dataWidth=r),void 0===s&&(l.dataHeight=i),void 0===a&&(l.left=0),void 0===c&&(l.top=0),l.left+r>l.dataWidth||l.top+i>l.dataHeight)throw new zt("Crop rectangle does not fit within image data.");return l}Wfe(t,n),t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new zt("Requested row is outside the image: "+e);var i=this.getWidth();return(null==r||r.length<i)&&(r=new Uint8ClampedArray(i)),Nr.arraycopy(this.luminances,(e+this.top)*this.dataWidth+this.left,r,0,i),r},t.prototype.getMatrix=function(){var e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=e*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Nr.arraycopy(this.luminances,s,o,0,i),o;for(var a=0;a<r;a++)Nr.arraycopy(this.luminances,s,o,a*e,e),s+=this.dataWidth;return o},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return new t(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+r)},t.prototype.invert=function(){return new fm(this)}}(Rp);var Gfe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xfe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Gfe(t,n),t.forName=function(e){return this.getCharacterSetECIByName(e)},t}(ki);const j2=Xfe;var $fe=function(){function n(){}return n.ISO_8859_1=ki.ISO8859_1,n}();const EP=$fe;var Yfe=function(){function n(t,e,r){this.codewords=t,this.numcols=e,this.numrows=r,this.bits=new Uint8Array(e*r),Ai.fill(this.bits,2)}return n.prototype.getNumrows=function(){return this.numrows},n.prototype.getNumcols=function(){return this.numcols},n.prototype.getBits=function(){return this.bits},n.prototype.getBit=function(t,e){return 1===this.bits[e*this.numcols+t]},n.prototype.setBit=function(t,e,r){this.bits[e*this.numcols+t]=r?1:0},n.prototype.noBit=function(t,e){return 2===this.bits[e*this.numcols+t]},n.prototype.place=function(){var t=0,e=4,r=0;do{e===this.numrows&&0===r&&this.corner1(t++),e===this.numrows-2&&0===r&&this.numcols%4!=0&&this.corner2(t++),e===this.numrows-2&&0===r&&this.numcols%8==4&&this.corner3(t++),e===this.numrows+4&&2===r&&this.numcols%8==0&&this.corner4(t++);do{e<this.numrows&&r>=0&&this.noBit(r,e)&&this.utah(e,r,t++),e-=2,r+=2}while(e>=0&&r<this.numcols);e++,r+=3;do{e>=0&&r<this.numcols&&this.noBit(r,e)&&this.utah(e,r,t++),e+=2,r-=2}while(e<this.numrows&&r>=0);e+=3,r++}while(e<this.numrows||r<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},n.prototype.module=function(t,e,r,i){t<0&&(t+=this.numrows,e+=4-(this.numrows+4)%8),e<0&&(e+=this.numcols,t+=4-(this.numcols+4)%8);var o=this.codewords.charCodeAt(r);this.setBit(e,t,0!=(o&=1<<8-i))},n.prototype.utah=function(t,e,r){this.module(t-2,e-2,r,1),this.module(t-2,e-1,r,2),this.module(t-1,e-2,r,3),this.module(t-1,e-1,r,4),this.module(t-1,e,r,5),this.module(t,e-2,r,6),this.module(t,e-1,r,7),this.module(t,e,r,8)},n.prototype.corner1=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,1,t,2),this.module(this.numrows-1,2,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},n.prototype.corner2=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-4,t,4),this.module(0,this.numcols-3,t,5),this.module(0,this.numcols-2,t,6),this.module(0,this.numcols-1,t,7),this.module(1,this.numcols-1,t,8)},n.prototype.corner3=function(t){this.module(this.numrows-3,0,t,1),this.module(this.numrows-2,0,t,2),this.module(this.numrows-1,0,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-1,t,6),this.module(2,this.numcols-1,t,7),this.module(3,this.numcols-1,t,8)},n.prototype.corner4=function(t){this.module(this.numrows-1,0,t,1),this.module(this.numrows-1,this.numcols-1,t,2),this.module(0,this.numcols-3,t,3),this.module(0,this.numcols-2,t,4),this.module(0,this.numcols-1,t,5),this.module(1,this.numcols-3,t,6),this.module(1,this.numcols-2,t,7),this.module(1,this.numcols-1,t,8)},n}();const Zfe=Yfe;var H2,AP=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],qfe=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],Sm=(H2=function(n,t){for(var e=1,r=0;r<255;r++)t[r]=e,n[e]=r,(e*=2)>=256&&(e^=301);return{LOG:n,ALOG:t}}([],[]),H2.LOG),SP=H2.ALOG,Im="[)>\x1e05\x1d",Dm="[)>\x1e06\x1d",che=function(){function n(){}return n.encodeECC200=function(t,e){if(t.length!==e.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var r=new Cn;r.append(t);var i=e.getInterleavedBlockCount();if(1===i){var o=this.createECCBlock(t,e.getErrorCodewords());r.append(o)}else{for(var s=[],a=[],c=0;c<i;c++)s[c]=e.getDataLengthForInterleavedBlock(c+1),a[c]=e.getErrorLengthForInterleavedBlock(c+1);for(var l=0;l<i;l++){for(var h=new Cn,g=l;g<e.getDataCapacity();g+=i)h.append(t.charAt(g));o=this.createECCBlock(h.toString(),a[l]);for(var y=0,_=l;_<a[l]*i;_+=i)r.setCharAt(e.getDataCapacity()+_,o.charAt(y++))}}return r.toString()},n.createECCBlock=function(t,e){for(var r=-1,i=0;i<AP.length;i++)if(AP[i]===e){r=i;break}if(r<0)throw new Error("Illegal number of error correction codewords specified: "+e);var o=qfe[r],s=[];for(i=0;i<e;i++)s[i]=0;for(i=0;i<t.length;i++){for(var a=s[e-1]^t.charAt(i).charCodeAt(0),c=e-1;c>0;c--)s[c]=0!==a&&0!==o[c]?s[c-1]^SP[(Sm[a]+Sm[o[c]])%255]:s[c-1];s[0]=0!==a&&0!==o[0]?SP[(Sm[a]+Sm[o[0]])%255]:0}var l=[];for(i=0;i<e;i++)l[i]=s[e-i-1];return l.map(function(h){return String.fromCharCode(h)}).join("")},n}();const lhe=che;var uhe=function(){function n(){}return n.prototype.getEncodingMode=function(){return 0},n.prototype.encode=function(t){if(Un.determineConsecutiveDigitCount(t.getMessage(),t.pos)>=2)t.writeCodeword(this.encodeASCIIDigits(t.getMessage().charCodeAt(t.pos),t.getMessage().charCodeAt(t.pos+1))),t.pos+=2;else{var r=t.getCurrentChar(),i=Un.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case 5:return t.writeCodeword(231),void t.signalEncoderChange(5);case 1:return t.writeCodeword(230),void t.signalEncoderChange(1);case 3:t.writeCodeword(238),t.signalEncoderChange(3);break;case 2:t.writeCodeword(239),t.signalEncoderChange(2);break;case 4:t.writeCodeword(240),t.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+i)}else Un.isExtendedASCII(r)?(t.writeCodeword(235),t.writeCodeword(r-128+1),t.pos++):(t.writeCodeword(r+1),t.pos++)}},n.prototype.encodeASCIIDigits=function(t,e){if(Un.isDigit(t)&&Un.isDigit(e))return 10*(t-48)+(e-48)+130;throw new Error("not digits: "+t+e)},n}(),dhe=function(){function n(){}return n.prototype.getEncodingMode=function(){return 5},n.prototype.encode=function(t){var e=new Cn;for(e.append(0);t.hasMoreCharacters();){var r=t.getCurrentChar();if(e.append(r),t.pos++,Un.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}var o=e.length()-1,a=t.getCodewordCount()+o+1;t.updateSymbolInfo(a);var c=t.getSymbolInfo().getDataCapacity()-a>0;if(t.hasMoreCharacters()||c)if(o<=249)e.setCharAt(0,Wn.getCharAt(o));else{if(!(o<=1555))throw new Error("Message length not in valid ranges: "+o);e.setCharAt(0,Wn.getCharAt(Math.floor(o/250)+249)),e.insert(1,Wn.getCharAt(o%250))}var l=0;for(r=e.length();l<r;l++)t.writeCodeword(this.randomize255State(e.charAt(l).charCodeAt(0),t.getCodewordCount()+1))},n.prototype.randomize255State=function(t,e){var i=t+(149*e%255+1);return i<=255?i:i-256},n}(),W2=function(){function n(){}return n.prototype.getEncodingMode=function(){return 1},n.prototype.encodeMaximal=function(t){for(var e=new Cn,r=0,i=t.pos,o=0;t.hasMoreCharacters();){var s=t.getCurrentChar();t.pos++,r=this.encodeChar(s,e),e.length()%3==0&&(i=t.pos,o=e.length())}if(o!==e.length()){var a=Math.floor(e.length()/3*2),c=Math.floor(t.getCodewordCount()+a+1);t.updateSymbolInfo(c);var l=t.getSymbolInfo().getDataCapacity()-c,h=Math.floor(e.length()%3);(2===h&&2!==l||1===h&&(r>3||1!==l))&&(t.pos=i)}e.length()>0&&t.writeCodeword(230),this.handleEOD(t,e)},n.prototype.encode=function(t){for(var e=new Cn;t.hasMoreCharacters();){var r=t.getCurrentChar();t.pos++;var i=this.encodeChar(r,e),o=2*Math.floor(e.length()/3),s=t.getCodewordCount()+o;t.updateSymbolInfo(s);var a=t.getSymbolInfo().getDataCapacity()-s;if(!t.hasMoreCharacters()){var c=new Cn;for(e.length()%3==2&&2!==a&&(i=this.backtrackOneCharacter(t,e,c,i));e.length()%3==1&&(i>3||1!==a);)i=this.backtrackOneCharacter(t,e,c,i);break}if(e.length()%3==0&&Un.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}this.handleEOD(t,e)},n.prototype.backtrackOneCharacter=function(t,e,r,i){var o=e.length(),s=e.toString().substring(0,o-i);e.setLengthToZero(),e.append(s),t.pos--;var a=t.getCurrentChar();return i=this.encodeChar(a,r),t.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(t,e){t.writeCodewords(this.encodeToCodewords(e.toString()));var r=e.toString().substring(3);e.setLengthToZero(),e.append(r)},n.prototype.handleEOD=function(t,e){var r=Math.floor(e.length()/3*2),i=e.length()%3,o=t.getCodewordCount()+r;t.updateSymbolInfo(o);var s=t.getSymbolInfo().getDataCapacity()-o;if(2===i){for(e.append("\0");e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254)}else if(1===s&&1===i){for(;e.length()>=3;)this.writeNextTriplet(t,e);t.hasMoreCharacters()&&t.writeCodeword(254),t.pos--}else{if(0!==i)throw new Error("Unexpected case. Please report!");for(;e.length()>=3;)this.writeNextTriplet(t,e);(s>0||t.hasMoreCharacters())&&t.writeCodeword(254)}t.signalEncoderChange(0)},n.prototype.encodeChar=function(t,e){return t===" ".charCodeAt(0)?(e.append(3),1):t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)?(e.append(t-48+4),1):t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)?(e.append(t-65+14),1):t<" ".charCodeAt(0)?(e.append(0),e.append(t),2):t<="/".charCodeAt(0)?(e.append(1),e.append(t-33),2):t<="@".charCodeAt(0)?(e.append(1),e.append(t-58+15),2):t<="_".charCodeAt(0)?(e.append(1),e.append(t-91+22),2):t<=127?(e.append(2),e.append(t-96),2):(e.append("1\x1e"),2+this.encodeChar(t-128,e))},n.prototype.encodeToCodewords=function(t){var e=1600*t.charCodeAt(0)+40*t.charCodeAt(1)+t.charCodeAt(2)+1,r=e/256,i=e%256,o=new Cn;return o.append(r),o.append(i),o.toString()},n}(),fhe=function(){function n(){}return n.prototype.getEncodingMode=function(){return 4},n.prototype.encode=function(t){for(var e=new Cn;t.hasMoreCharacters();){var r=t.getCurrentChar();if(this.encodeChar(r,e),t.pos++,e.length()>=4){t.writeCodewords(this.encodeToCodewords(e.toString()));var o=e.toString().substring(4);if(e.setLengthToZero(),e.append(o),Un.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode())!==this.getEncodingMode()){t.signalEncoderChange(0);break}}}e.append(Wn.getCharAt(31)),this.handleEOD(t,e)},n.prototype.handleEOD=function(t,e){try{var r=e.length();if(0===r)return;if(1===r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),o=t.getRemainingCharacters();if(o>i&&(t.updateSymbolInfo(t.getCodewordCount()+1),i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount()),o<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,a=this.encodeToCodewords(e.toString()),l=!t.hasMoreCharacters()&&s<=2;s<=2&&(t.updateSymbolInfo(t.getCodewordCount()+s),(i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount())>=3&&(l=!1,t.updateSymbolInfo(t.getCodewordCount()+a.length))),l?(t.resetSymbolInfo(),t.pos-=s):t.writeCodewords(a)}finally{t.signalEncoderChange(0)}},n.prototype.encodeChar=function(t,e){t>=" ".charCodeAt(0)&&t<="?".charCodeAt(0)?e.append(t):t>="@".charCodeAt(0)&&t<="^".charCodeAt(0)?e.append(Wn.getCharAt(t-64)):Un.illegalCharacter(Wn.getCharAt(t))},n.prototype.encodeToCodewords=function(t){var e=t.length;if(0===e)throw new Error("StringBuilder must not be empty");var a=(t.charAt(0).charCodeAt(0)<<18)+((e>=2?t.charAt(1).charCodeAt(0):0)<<12)+((e>=3?t.charAt(2).charCodeAt(0):0)<<6)+(e>=4?t.charAt(3).charCodeAt(0):0),c=a>>16&255,l=a>>8&255,h=255&a,g=new Cn;return g.append(c),e>=2&&g.append(l),e>=3&&g.append(h),g.toString()},n}(),hhe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),or=function(){function n(t,e,r,i,o,s,a,c){void 0===a&&(a=0),void 0===c&&(c=0),this.rectangular=t,this.dataCapacity=e,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=s,this.rsBlockData=a,this.rsBlockError=c}return n.lookup=function(t,e,r,i,o){var s,a;void 0===e&&(e=0),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=!0);try{for(var c=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(mhe),l=c.next();!l.done;l=c.next()){var h=l.value;if((1!==e||!h.rectangular)&&(2!==e||h.rectangular)&&(null==r||!(h.getSymbolWidth()<r.getWidth()||h.getSymbolHeight()<r.getHeight()))&&(null==i||!(h.getSymbolWidth()>i.getWidth()||h.getSymbolHeight()>i.getHeight()))&&t<=h.dataCapacity)return h}}catch(g){s={error:g}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+t);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(t){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(t){return this.rsBlockError},n}();const MP=or;var ghe=function(n){function t(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return hhe(t,n),t.prototype.getInterleavedBlockCount=function(){return 10},t.prototype.getDataLengthForInterleavedBlock=function(e){return e<=8?156:155},t}(or),mhe=[new or(!1,3,5,8,8,1),new or(!1,5,7,10,10,1),new or(!0,5,7,16,6,1),new or(!1,8,10,12,12,1),new or(!0,10,11,14,6,2),new or(!1,12,12,14,14,1),new or(!0,16,14,24,10,1),new or(!1,18,14,16,16,1),new or(!1,22,18,18,18,1),new or(!0,22,18,16,10,2),new or(!1,30,20,20,20,1),new or(!0,32,24,16,14,2),new or(!1,36,24,22,22,1),new or(!1,44,28,24,24,1),new or(!0,49,28,22,14,2),new or(!1,62,36,14,14,4),new or(!1,86,42,16,16,4),new or(!1,114,48,18,18,4),new or(!1,144,56,20,20,4),new or(!1,174,68,22,22,4),new or(!1,204,84,24,24,4,102,42),new or(!1,280,112,14,14,16,140,56),new or(!1,368,144,16,16,16,92,36),new or(!1,456,192,18,18,16,114,48),new or(!1,576,224,20,20,16,144,56),new or(!1,696,272,22,22,16,174,68),new or(!1,816,336,24,24,16,136,56),new or(!1,1050,408,18,18,36,175,68),new or(!1,1304,496,20,20,36,163,62),new ghe],vhe=function(){function n(t){this.msg=t,this.pos=0,this.skipAtEnd=0;for(var e=t.split("").map(function(a){return a.charCodeAt(0)}),r=new Cn,i=0,o=e.length;i<o;i++){var s=String.fromCharCode(255&e[i]);if("?"===s&&"?"!==t.charAt(i))throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new Cn,this.newEncoding=-1}return n.prototype.setSymbolShape=function(t){this.shape=t},n.prototype.setSizeConstraints=function(t,e){this.minSize=t,this.maxSize=e},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(t){this.skipAtEnd=t},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(t){this.codewords.append(t)},n.prototype.writeCodeword=function(t){this.codewords.append(t)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(t){this.newEncoding=t},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(t){void 0===t&&(t=this.getCodewordCount()),(null==this.symbolInfo||t>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=MP.lookup(t,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),yhe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_he=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return yhe(t,n),t.prototype.getEncodingMode=function(){return 3},t.prototype.encode=function(e){for(var r=new Cn;e.hasMoreCharacters();){var i=e.getCurrentChar();if(e.pos++,this.encodeChar(i,r),r.length()%3==0&&(this.writeNextTriplet(e,r),Un.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode())!==this.getEncodingMode())){e.signalEncoderChange(0);break}}this.handleEOD(e,r)},t.prototype.encodeChar=function(e,r){switch(e){case 13:r.append(0);break;case"*".charCodeAt(0):r.append(1);break;case">".charCodeAt(0):r.append(2);break;case" ".charCodeAt(0):r.append(3);break;default:e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?r.append(e-48+4):e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?r.append(e-65+14):Un.illegalCharacter(Wn.getCharAt(e))}return 1},t.prototype.handleEOD=function(e,r){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=r.length();e.pos-=o,(e.getRemainingCharacters()>1||i>1||e.getRemainingCharacters()!==i)&&e.writeCodeword(254),e.getNewEncoding()<0&&e.signalEncoderChange(0)},t}(W2),xhe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bhe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return xhe(t,n),t.prototype.getEncodingMode=function(){return 2},t.prototype.encodeChar=function(e,r){return e===" ".charCodeAt(0)?(r.append(3),1):e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?(r.append(e-48+4),1):e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?(r.append(e-97+14),1):e<" ".charCodeAt(0)?(r.append(0),r.append(e),2):e<="/".charCodeAt(0)?(r.append(1),r.append(e-33),2):e<="@".charCodeAt(0)?(r.append(1),r.append(e-58+15),2):e>="[".charCodeAt(0)&&e<="_".charCodeAt(0)?(r.append(1),r.append(e-91+22),2):e==="`".charCodeAt(0)?(r.append(2),r.append(0),2):e<="Z".charCodeAt(0)?(r.append(2),r.append(e-65+1),2):e<=127?(r.append(2),r.append(e-123+27),2):(r.append("1\x1e"),2+this.encodeChar(e-128,r))},t}(W2),whe=function(){function n(){}return n.randomize253State=function(t){var r=149*t%253+1+129;return r<=254?r:r-254},n.encodeHighLevel=function(t,e,r,i,o){void 0===e&&(e=0),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=!1);var s=new W2,a=[new uhe,s,new bhe,new _he,new fhe,new dhe],c=new vhe(t);c.setSymbolShape(e),c.setSizeConstraints(r,i),t.startsWith(Im)&&t.endsWith("\x1e\x04")?(c.writeCodeword(236),c.setSkipAtEnd(2),c.pos+=7):t.startsWith(Dm)&&t.endsWith("\x1e\x04")&&(c.writeCodeword(237),c.setSkipAtEnd(2),c.pos+=7);var l=0;for(o&&(s.encodeMaximal(c),l=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)a[l].encode(c),c.getNewEncoding()>=0&&(l=c.getNewEncoding(),c.resetEncoderSignal());var h=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();h<g&&0!==l&&5!==l&&4!==l&&c.writeCodeword("\xfe");var y=c.getCodewords();for(y.length()<g&&y.append(129);y.length()<g;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(t,e,r){var i=this.lookAheadTestIntern(t,e,r);if(3===r&&3===i){for(var o=Math.min(e+3,t.length),s=e;s<o;s++)if(!this.isNativeX12(t.charCodeAt(s)))return 0}else if(4===r&&4===i)for(o=Math.min(e+4,t.length),s=e;s<o;s++)if(!this.isNativeEDIFACT(t.charCodeAt(s)))return 0;return i},n.lookAheadTestIntern=function(t,e,r){if(e>=t.length)return r;var i;0===r?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25])[r]=0;for(var o=0,s=new Uint8Array(6),a=[];;){if(e+o===t.length){Ai.fill(s,0),Ai.fill(a,0);var c=this.findMinimums(i,a,wn.MAX_VALUE,s),l=this.getMinimumCount(s);if(a[0]===c)return 0;if(1===l){if(s[5]>0)return 5;if(s[4]>0)return 4;if(s[2]>0)return 2;if(s[3]>0)return 3}return 1}var h=t.charCodeAt(e+o);if(o++,this.isDigit(h)?i[0]+=.5:this.isExtendedASCII(h)?(i[0]=Math.ceil(i[0]),i[0]+=2):(i[0]=Math.ceil(i[0]),i[0]++),this.isNativeC40(h)?i[1]+=2/3:this.isExtendedASCII(h)?i[1]+=8/3:i[1]+=4/3,this.isNativeText(h)?i[2]+=2/3:this.isExtendedASCII(h)?i[2]+=8/3:i[2]+=4/3,this.isNativeX12(h)?i[3]+=2/3:this.isExtendedASCII(h)?i[3]+=13/3:i[3]+=10/3,this.isNativeEDIFACT(h)?i[4]+=3/4:this.isExtendedASCII(h)?i[4]+=4.25:i[4]+=3.25,this.isSpecialB256(h)?i[5]+=4:i[5]++,o>=4){if(Ai.fill(s,0),Ai.fill(a,0),this.findMinimums(i,a,wn.MAX_VALUE,s),a[0]<this.min(a[5],a[1],a[2],a[3],a[4]))return 0;if(a[5]<a[0]||a[5]+1<this.min(a[1],a[2],a[3],a[4]))return 5;if(a[4]+1<this.min(a[5],a[1],a[2],a[3],a[0]))return 4;if(a[2]+1<this.min(a[5],a[1],a[4],a[3],a[0]))return 2;if(a[3]+1<this.min(a[5],a[1],a[4],a[2],a[0]))return 3;if(a[1]+1<this.min(a[0],a[5],a[4],a[2])){if(a[1]<a[3])return 1;if(a[1]===a[3]){for(var g=e+o+1;g<t.length;){var y=t.charCodeAt(g);if(this.isX12TermSep(y))return 3;if(!this.isNativeX12(y))break;g++}return 1}}}}},n.min=function(t,e,r,i,o){var s=Math.min(t,Math.min(e,Math.min(r,i)));return void 0===o?s:Math.min(s,o)},n.findMinimums=function(t,e,r,i){for(var o=0;o<6;o++){var s=e[o]=Math.ceil(t[o]);r>s&&(r=s,Ai.fill(i,0)),r===s&&(i[o]=i[o]+1)}return r},n.getMinimumCount=function(t){for(var e=0,r=0;r<6;r++)e+=t[r];return e||0},n.isDigit=function(t){return t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)},n.isExtendedASCII=function(t){return t>=128&&t<=255},n.isNativeC40=function(t){return t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)},n.isNativeText=function(t){return t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)},n.isNativeX12=function(t){return this.isX12TermSep(t)||t===" ".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0)},n.isX12TermSep=function(t){return 13===t||t==="*".charCodeAt(0)||t===">".charCodeAt(0)},n.isNativeEDIFACT=function(t){return t>=" ".charCodeAt(0)&&t<="^".charCodeAt(0)},n.isSpecialB256=function(t){return!1},n.determineConsecutiveDigitCount=function(t,e){void 0===e&&(e=0);for(var r=t.length,i=e;i<r&&this.isDigit(t.charCodeAt(i));)i++;return i-e},n.illegalCharacter=function(t){var e=wn.toHexString(t.charCodeAt(0));throw e="0000".substring(0,4-e.length)+e,new Error("Illegal character: "+t+" (0x"+e+")")},n}();const Un=whe;var G2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TP=function(){function n(t){this.charset=t,this.name=t.name}return n.prototype.canEncode=function(t){try{return null!=Js.encode(t,this.charset)}catch{return!1}},n}(),Che=function(){function n(t,e,r){var i,o,s,a,c,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(et){return new TP(j2.forName(et))}),this.encoders=[];var h=[];h.push(new TP(EP.ISO_8859_1));for(var g=null!=e&&e.name.startsWith("UTF"),y=0;y<t.length;y++){var _=!1;try{for(var w=(i=void 0,G2(h)),C=w.next();!C.done;C=w.next()){var D=C.value,P=t.charAt(y);if(P.charCodeAt(0)===r||D.canEncode(P)){_=!0;break}}}catch(et){i={error:et}}finally{try{C&&!C.done&&(o=w.return)&&o.call(w)}finally{if(i)throw i.error}}if(!_)try{for(var G=(s=void 0,G2(this.ENCODERS)),Z=G.next();!Z.done;Z=G.next())if((D=Z.value).canEncode(t.charAt(y))){h.push(D),_=!0;break}}catch(et){s={error:et}}finally{try{Z&&!Z.done&&(a=G.return)&&a.call(G)}finally{if(s)throw s.error}}_||(g=!0)}if(1!==h.length||g){this.encoders=[];var oe=0;try{for(var fe=G2(h),Ie=fe.next();!Ie.done;Ie=fe.next())this.encoders[oe++]=D=Ie.value}catch(et){c={error:et}}finally{try{Ie&&!Ie.done&&(l=fe.return)&&l.call(fe)}finally{if(c)throw c.error}}}else this.encoders=[h[0]];var Re=-1;if(null!=e)for(y=0;y<this.encoders.length;y++)if(null!=this.encoders[y]&&e.name===this.encoders[y].name){Re=y;break}this.priorityEncoderIndex=Re}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].name},n.prototype.getCharset=function(t){if(!(t<this.length()))throw new Error("index must be less than length");return this.encoders[t].charset},n.prototype.getECIValue=function(t){return this.encoders[t].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(t,e){if(!(e<this.length()))throw new Error("index must be less than length");return Js.encode(Wn.getCharAt(t),this.encoders[e].name)},n}(),Ahe=function(){function n(t,e,r){this.fnc1=r;var i=new Che(t,e,r);if(1===i.length())for(var o=0;o<this.bytes.length;o++){var s=t.charAt(o).charCodeAt(0);this.bytes[o]=s===r?1e3:s}else this.bytes=this.encodeMinimally(t,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(t,e){if(t+e-1>=this.bytes.length)return!1;for(var r=0;r<e;r++)if(this.isECI(t+r))return!1;return!0},n.prototype.charAt=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(this.isECI(t))throw new Error("value at "+t+" is not a character but an ECI");return this.isFNC1(t)?this.fnc1:this.bytes[t]},n.prototype.subSequence=function(t,e){if(t<0||t>e||e>this.length())throw new Error(""+t);for(var r=new Cn,i=t;i<e;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(t){if(t<0||t>=this.length())throw new Error(""+t);return this.bytes[t]>255&&this.bytes[t]<=999},n.prototype.isFNC1=function(t){if(t<0||t>=this.length())throw new Error(""+t);return 1e3===this.bytes[t]},n.prototype.getECIValue=function(t){if(t<0||t>=this.length())throw new Error(""+t);if(!this.isECI(t))throw new Error("value at "+t+" is not an ECI but a character");return this.bytes[t]-256},n.prototype.addEdge=function(t,e,r){(null==t[e][r.encoderIndex]||t[e][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(t[e][r.encoderIndex]=r)},n.prototype.addEdges=function(t,e,r,i,o,s){var a=t.charAt(i).charCodeAt(0),c=0,l=e.length();e.getPriorityEncoderIndex()>=0&&(a===s||e.canEncode(a,e.getPriorityEncoderIndex()))&&(l=(c=e.getPriorityEncoderIndex())+1);for(var h=c;h<l;h++)(a===s||e.canEncode(a,h))&&this.addEdge(r,i+1,new OP(a,e,h,o,s))},n.prototype.encodeMinimally=function(t,e,r){var i=t.length,o=new(OP[i+1][e.length()]);this.addEdges(t,e,o,0,null,r);for(var s=1;s<=i;s++){for(var a=0;a<e.length();a++)null!=o[s][a]&&s<i&&this.addEdges(t,e,o,s,o[s][a],r);for(a=0;a<e.length();a++)o[s-1][a]=null}var c=-1,l=wn.MAX_VALUE;for(a=0;a<e.length();a++)if(null!=o[i][a]){var h=o[i][a];h.cachedTotalSize<l&&(l=h.cachedTotalSize,c=a)}if(c<0)throw new Error('Failed to encode "'+t+'"');for(var g=[],y=o[i][c];null!=y;){if(y.isFNC1())g.unshift(1e3);else{var _=e.encode(y.c,y.encoderIndex);for(s=_.length-1;s>=0;s--)g.unshift(255&_[s])}(null===y.previous?0:y.previous.encoderIndex)!==y.encoderIndex&&g.unshift(256+e.getECIValue(y.encoderIndex)),y=y.previous}var C=[];for(s=0;s<C.length;s++)C[s]=g[s];return C},n}(),OP=function(){function n(t,e,r,i,o){this.c=t,this.encoderSet=e,this.encoderIndex=r,this.previous=i,this.fnc1=o,this.c=t===o?1e3:t;var s=this.isFNC1()?1:e.encode(t,r).length;(null===i?0:i.encoderIndex)!==r&&(s+=3),null!=i&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return 1e3===this.c},n}(),She=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vp=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ihe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,s,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o},Tt=function(n){return n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256",n}(Tt||{}),Mhe=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hs=function(){function n(){}return n.isExtendedASCII=function(t,e){return t!==e&&t>=128&&t<=255},n.isInC40Shift1Set=function(t){return t<=31},n.isInC40Shift2Set=function(t,e){var r,i;try{for(var o=Vp(Mhe),s=o.next();!s.done;s=o.next())if(s.value.charCodeAt(0)===t)return!0}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t===e},n.isInTextShift1Set=function(t){return this.isInC40Shift1Set(t)},n.isInTextShift2Set=function(t,e){return this.isInC40Shift2Set(t,e)},n.encodeHighLevel=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=-1),void 0===i&&(i=0);var o=0;return t.startsWith(Im)&&t.endsWith("\x1e\x04")?(o=5,t=t.substring(7,t.length-2)):t.startsWith(Dm)&&t.endsWith("\x1e\x04")&&(o=6,t=t.substring(7,t.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Ihe(arguments[t]));return n}(this.encode(t,e,r,i,o)))))},n.encode=function(t,e,r,i,o){return this.encodeMinimally(new Ohe(t,e,r,i,o)).getBytes()},n.addEdge=function(t,e){var r=e.fromPosition+e.characterLength;(null===t[r][e.getEndMode()]||t[r][e.getEndMode()].cachedTotalSize>e.cachedTotalSize)&&(t[r][e.getEndMode()]=e)},n.getNumberOfC40Words=function(t,e,r,i){for(var o=0,s=e;s<t.length();s++){if(t.isECI(s))return i[0]=0,0;var a=t.charAt(s);if(r&&Un.isNativeC40(a)||!r&&Un.isNativeText(a))o++;else if(n.isExtendedASCII(a,t.getFNC1Character())){var c=255&a;c>=128&&(r&&Un.isNativeC40(c-128)||!r&&Un.isNativeText(c-128))?o+=3:o+=4}else o+=2;if(o%3==0||(o-2)%3==0&&s+1===t.length())return i[0]=s-e+1,Math.ceil(o/3)}return i[0]=0,0},n.addEdges=function(t,e,r,i){var o,s;if(t.isECI(r))this.addEdge(e,new ea(t,Tt.ASCII,r,1,i));else{var _,a=t.charAt(r);if(null===i||i.getEndMode()!==Tt.EDF){Un.isDigit(a)&&t.haveNCharacters(r,2)&&Un.isDigit(t.charAt(r+1))?this.addEdge(e,new ea(t,Tt.ASCII,r,2,i)):this.addEdge(e,new ea(t,Tt.ASCII,r,1,i));var c=[Tt.C40,Tt.TEXT];try{for(var l=Vp(c),h=l.next();!h.done;h=l.next()){var g=h.value,y=[];n.getNumberOfC40Words(t,r,g===Tt.C40,y)>0&&this.addEdge(e,new ea(t,g,r,y[0],i))}}catch(C){o={error:C}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}t.haveNCharacters(r,3)&&Un.isNativeX12(t.charAt(r))&&Un.isNativeX12(t.charAt(r+1))&&Un.isNativeX12(t.charAt(r+2))&&this.addEdge(e,new ea(t,Tt.X12,r,3,i)),this.addEdge(e,new ea(t,Tt.B256,r,1,i))}for(_=0;_<3;_++){var w=r+_;if(!t.haveNCharacters(w,1)||!Un.isNativeEDIFACT(t.charAt(w)))break;this.addEdge(e,new ea(t,Tt.EDF,r,_+1,i))}3===_&&t.haveNCharacters(r,4)&&Un.isNativeEDIFACT(t.charAt(r+3))&&this.addEdge(e,new ea(t,Tt.EDF,r,4,i))}},n.encodeMinimally=function(t){var e=t.length(),r=Array(e+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(t,r,0,null);for(var i=1;i<=e;i++){for(var o=0;o<6;o++)null!==r[i][o]&&i<e&&this.addEdges(t,r,i,r[i][o]);for(o=0;o<6;o++)r[i-1][o]=null}var s=-1,a=wn.MAX_VALUE;for(o=0;o<6;o++)if(null!==r[e][o]){var c=r[e][o],l=o>=1&&o<=3?c.cachedTotalSize+1:c.cachedTotalSize;l<a&&(a=l,s=o)}if(s<0)throw new Error('Failed to encode "'+t+'"');return new The(r[e][s])},n}(),The=function(){function n(t){var e=t.input,r=0,i=[],o=[],s=[];(t.mode===Tt.C40||t.mode===Tt.TEXT||t.mode===Tt.X12)&&t.getEndMode()!==Tt.ASCII&&(r+=this.prepend(ea.getBytes(254),i));for(var a=t;null!==a;)r+=this.prepend(a.getDataBytes(),i),(null===a.previous||a.getPreviousStartMode()!==a.getMode())&&(a.getMode()===Tt.B256&&(r<=249?(i.unshift(r),r++):(i.unshift(r%250),i.unshift(r/250+249),r+=2),o.push(i.length),s.push(r)),this.prepend(a.getLatchBytes(),i),r=0),a=a.previous;5===e.getMacroId()?r+=this.prepend(ea.getBytes(236),i):6===e.getMacroId()&&(r+=this.prepend(ea.getBytes(237),i)),e.getFNC1Character()>0&&(r+=this.prepend(ea.getBytes(232),i));for(var c=0;c<o.length;c++)this.applyRandomPattern(i,i.length-o[c],s[c]);var l=t.getMinSymbolSize(i.length);for(i.length<l&&i.push(129);i.length<l;)i.push(this.randomize253State(i.length+1));for(this.bytes=new Uint8Array(i.length),c=0;c<this.bytes.length;c++)this.bytes[c]=i[c]}return n.prototype.prepend=function(t,e){for(var r=t.length-1;r>=0;r--)e.unshift(t[r]);return t.length},n.prototype.randomize253State=function(t){var r=149*t%253+1+129;return r<=254?r:r-254},n.prototype.applyRandomPattern=function(t,e,r){for(var i=0;i<r;i++){var o=e+i,c=149*(o+1)%255+1+(255&t[o]);t[o]=c<=255?c:c-256}},n.prototype.getBytes=function(){return this.bytes},n}(),ea=function(){function n(t,e,r,i,o){if(this.input=t,this.mode=e,this.fromPosition=r,this.characterLength=i,this.previous=o,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(r+i<=t.length()))throw new Error("Invalid edge");var s=null!==o?o.cachedTotalSize:0,a=this.getPreviousMode();switch(e){case Tt.ASCII:s++,(t.isECI(r)||hs.isExtendedASCII(t.charAt(r),t.getFNC1Character()))&&s++,(a===Tt.C40||a===Tt.TEXT||a===Tt.X12)&&s++;break;case Tt.B256:s++,(a!==Tt.B256||250===this.getB256Size())&&s++,a===Tt.ASCII?s++:(a===Tt.C40||a===Tt.TEXT||a===Tt.X12)&&(s+=2);break;case Tt.C40:case Tt.TEXT:case Tt.X12:s+=e===Tt.X12?2:2*hs.getNumberOfC40Words(t,r,e===Tt.C40,[]),a===Tt.ASCII||a===Tt.B256?s++:a!==e&&(a===Tt.C40||a===Tt.TEXT||a===Tt.X12)&&(s+=2);break;case Tt.EDF:s+=3,a===Tt.ASCII||a===Tt.B256?s++:(a===Tt.C40||a===Tt.TEXT||a===Tt.X12)&&(s+=2)}this.cachedTotalSize=s}return n.prototype.getB256Size=function(){for(var t=0,e=this;null!==e&&e.mode===Tt.B256&&t<=250;)t++,e=e.previous;return t},n.prototype.getPreviousStartMode=function(){return null===this.previous?Tt.ASCII:this.previous.mode},n.prototype.getPreviousMode=function(){return null===this.previous?Tt.ASCII:this.previous.getEndMode()},n.prototype.getEndMode=function(){if(this.mode===Tt.EDF){if(this.characterLength<4)return Tt.ASCII;if((t=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+t)<=2-t)return Tt.ASCII}if(this.mode===Tt.C40||this.mode===Tt.TEXT||this.mode===Tt.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return Tt.ASCII;var t;if(1===(t=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return Tt.ASCII}return this.mode},n.prototype.getMode=function(){return this.mode},n.prototype.getLastASCII=function(){var t=this.input.length(),e=this.fromPosition+this.characterLength;return t-e>4||e>=t?0:t-e==1?hs.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?0:1:t-e==2?hs.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())||hs.isExtendedASCII(this.input.charAt(e+1),this.input.getFNC1Character())?0:Un.isDigit(this.input.charAt(e))&&Un.isDigit(this.input.charAt(e+1))?1:2:t-e==3?Un.isDigit(this.input.charAt(e))&&Un.isDigit(this.input.charAt(e+1))&&!hs.isExtendedASCII(this.input.charAt(e+2),this.input.getFNC1Character())||Un.isDigit(this.input.charAt(e+1))&&Un.isDigit(this.input.charAt(e+2))&&!hs.isExtendedASCII(this.input.charAt(e),this.input.getFNC1Character())?2:0:Un.isDigit(this.input.charAt(e))&&Un.isDigit(this.input.charAt(e+1))&&Un.isDigit(this.input.charAt(e+2))&&Un.isDigit(this.input.charAt(e+3))?2:0},n.prototype.getMinSymbolSize=function(t){var e,r,i,o,s,a;switch(this.input.getShapeHint()){case 1:try{for(var c=Vp(this.squareCodewordCapacities),l=c.next();!l.done;l=c.next())if((h=l.value)>=t)return h}catch(C){e={error:C}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}break;case 2:try{for(var g=Vp(this.rectangularCodewordCapacities),y=g.next();!y.done;y=g.next())if((h=y.value)>=t)return h}catch(C){i={error:C}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}try{for(var _=Vp(this.allCodewordCapacities),w=_.next();!w.done;w=_.next()){var h;if((h=w.value)>=t)return h}}catch(C){s={error:C}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},n.prototype.getCodewordsRemaining=function(t){return this.getMinSymbolSize(t)-t},n.getBytes=function(t,e){var r=new Uint8Array(e?2:1);return r[0]=t,e&&(r[1]=e),r},n.prototype.setC40Word=function(t,e,r,i,o){var s=1600*(255&r)+40*(255&i)+(255&o)+1;t[e]=s/256,t[e+1]=s%256},n.prototype.getX12Value=function(t){return 13===t?0:42===t?1:62===t?2:32===t?3:t>=48&&t<=57?t-44:t>=65&&t<=90?t-51:t},n.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw new Error("X12 words must be a multiple of 3");for(var t=new Uint8Array(this.characterLength/3*2),e=0;e<t.length;e+=2)this.setC40Word(t,e,this.getX12Value(this.input.charAt(this.fromPosition+e/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+e/2*3+2)));return t},n.prototype.getShiftValue=function(t,e,r){return e&&hs.isInC40Shift1Set(t)||!e&&hs.isInTextShift1Set(t)?0:e&&hs.isInC40Shift2Set(t,r)||!e&&hs.isInTextShift2Set(t,r)?1:2},n.prototype.getC40Value=function(t,e,r,i){if(r===i){if(2!==e)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return t?r<=31?r:32===r?3:r<=47?r-33:r<=57?r-44:r<=64?r-43:r<=90?r-51:r<=95?r-69:r<=127?r-96:r:0===r?0:0===e&&r<=3?r-1:1===e&&r<=31?r:32===r?3:r>=33&&r<=47?r-33:r>=48&&r<=57?r-44:r>=58&&r<=64?r-43:r>=65&&r<=90?r-64:r>=91&&r<=95?r-69:96===r?0:r>=97&&r<=122?r-83:r>=123&&r<=127?r-96:r},n.prototype.getC40Words=function(t,e){for(var r=[],i=0;i<this.characterLength;i++){var o=this.input.charAt(this.fromPosition+i);if(t&&Un.isNativeC40(o)||!t&&Un.isNativeText(o))r.push(this.getC40Value(t,0,o,e));else if(hs.isExtendedASCII(o,e)){var a=(255&o)-128;if(t&&Un.isNativeC40(a)||!t&&Un.isNativeText(a))r.push(1),r.push(30),r.push(this.getC40Value(t,0,a,e));else{r.push(1),r.push(30);var s=this.getShiftValue(a,t,e);r.push(s),r.push(this.getC40Value(t,s,a,e))}}else s=this.getShiftValue(o,t,e),r.push(s),r.push(this.getC40Value(t,s,o,e))}if(r.length%3!=0){if((r.length-2)%3!=0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");r.push(0)}var c=new Uint8Array(r.length/3*2),l=0;for(i=0;i<r.length;i+=3)this.setC40Word(c,l,255&r[i],255&r[i+1],255&r[i+2]),l+=2;return c},n.prototype.getEDFBytes=function(){for(var t=Math.ceil(this.characterLength/4),e=new Uint8Array(3*t),r=this.fromPosition,i=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),o=0;o<t;o+=3){for(var s=[],a=0;a<4;a++)s[a]=r<=i?63&this.input.charAt(r++):r===i+1?31:0;var c=s[0]<<18;c|=s[1]<<12,c|=s[2]<<6,e[o]=(c|=s[3])>>16&255,e[o+1]=c>>8&255,e[o+2]=255&c}return e},n.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case Tt.ASCII:case Tt.B256:switch(this.mode){case Tt.B256:return n.getBytes(231);case Tt.C40:return n.getBytes(230);case Tt.TEXT:return n.getBytes(239);case Tt.X12:return n.getBytes(238);case Tt.EDF:return n.getBytes(240)}break;case Tt.C40:case Tt.TEXT:case Tt.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case Tt.ASCII:return n.getBytes(254);case Tt.B256:return n.getBytes(254,231);case Tt.C40:return n.getBytes(254,230);case Tt.TEXT:return n.getBytes(254,239);case Tt.X12:return n.getBytes(254,238);case Tt.EDF:return n.getBytes(254,240)}break;case Tt.EDF:if(this.mode!==Tt.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},n.prototype.getDataBytes=function(){switch(this.mode){case Tt.ASCII:return this.input.isECI(this.fromPosition)?n.getBytes(241,this.input.getECIValue(this.fromPosition)+1):hs.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?n.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?n.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?n.getBytes(232):n.getBytes(this.input.charAt(this.fromPosition)+1);case Tt.B256:return n.getBytes(this.input.charAt(this.fromPosition));case Tt.C40:return this.getC40Words(!0,this.input.getFNC1Character());case Tt.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case Tt.X12:return this.getX12Words();case Tt.EDF:return this.getEDFBytes()}},n}(),Ohe=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r,i)||this;return a.shape=o,a.macroId=s,a}return She(t,n),t.prototype.getMacroId=function(){return this.macroId},t.prototype.getShapeHint=function(){return this.shape},t}(Ahe);!function(){function n(){}n.prototype.encode=function(t,e,r,i,o){if(void 0===o&&(o=null),""===t.trim())throw new Error("Found empty contents");if(e!==Kt.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+e);if(r<0||i<0)throw new Error("Requested dimensions can't be negative: "+r+"x"+i);var y,s=0,a=null,c=null;if(null!=o){var l=o.get(Vn.DATA_MATRIX_SHAPE);null!=l&&(s=l);var h=o.get(Vn.MIN_SIZE);null!=h&&(a=h);var g=o.get(Vn.MAX_SIZE);null!=g&&(c=g)}if(null!=o&&o.has(Vn.DATA_MATRIX_COMPACT)&&o.get(Vn.DATA_MATRIX_COMPACT).toString()){var w=o.has(Vn.GS1_FORMAT)&&!!o.get(Vn.GS1_FORMAT).toString(),C=null;o.has(Vn.CHARACTER_SET)&&(C=j2.forName(o.get(Vn.CHARACTER_SET).toString())),y=hs.encodeHighLevel(t,C,w?29:-1,s)}else{var P=null!=o&&o.has(Vn.FORCE_C40)&&!!o.get(Vn.FORCE_C40).toString();y=Un.encodeHighLevel(t,s,a,c,P)}var O=MP.lookup(y.length,s,a,c,!0),G=lhe.encodeECC200(y,O),Z=new Zfe(G,O.getSymbolDataWidth(),O.getSymbolDataHeight());return Z.place(),this.encodeLowLevel(Z,O,r,i)},n.prototype.encodeLowLevel=function(t,e,r,i){for(var o=e.getSymbolDataWidth(),s=e.getSymbolDataHeight(),a=new bP(e.getSymbolWidth(),e.getSymbolHeight()),c=0,l=0;l<s;l++){var h=void 0;if(l%e.matrixHeight==0){h=0;for(var g=0;g<e.getSymbolWidth();g++)a.setBoolean(h,c,g%2==0),h++;c++}for(h=0,g=0;g<o;g++)g%e.matrixWidth==0&&(a.setBoolean(h,c,!0),h++),a.setBoolean(h,c,t.getBit(g,l)),h++,g%e.matrixWidth==e.matrixWidth-1&&(a.setBoolean(h,c,l%2==0),h++);if(c++,l%e.matrixHeight==e.matrixHeight-1){for(h=0,g=0;g<e.getSymbolWidth();g++)a.setBoolean(h,c,!0),h++;c++}}return this.convertByteMatrixToBitMatrix(a,r,i)},n.prototype.convertByteMatrixToBitMatrix=function(t,e,r){var g,i=t.getWidth(),o=t.getHeight(),s=Math.max(e,i),a=Math.max(r,o),c=Math.min(s/i,a/o),l=(s-i*c)/2,h=(a-o*c)/2;r<o||e<i?(l=0,h=0,g=new us(i,o)):g=new us(e,r),g.clear();for(var y=0,_=h;y<o;y++,_+=c)for(var w=0,C=l;w<i;w++,C+=c)1===t.get(w,y)&&g.setRegion(C,_,c,c);return g}}();var Rhe=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(t){this.compact=t},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(t){this.size=t},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(t){this.layers=t},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(t){this.codeWords=t},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(t){this.matrix=t},n}();const Nhe=Rhe;var Phe=function(){function n(){}return n.singletonList=function(t){return[t]},n.min=function(t,e){return t.sort(e)[0]},n}();const RP=Phe;var khe=function(){function n(t){this.previous=t}return n.prototype.getPrevious=function(){return this.previous},n}();const Fhe=khe;var Lhe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bhe=function(n){function t(e,r,i){var o=n.call(this,e)||this;return o.value=r,o.bitCount=i,o}return Lhe(t,n),t.prototype.appendTo=function(e,r){e.appendBits(this.value,this.bitCount)},t.prototype.add=function(e,r){return new t(this,e,r)},t.prototype.addBinaryShift=function(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new t(this,e,r)},t.prototype.toString=function(){var e=this.value&(1<<this.bitCount)-1;return"<"+wn.toBinaryString((e|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},t}(Fhe);const X2=Bhe;var Vhe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uhe=function(n){function t(e,r,i){var o=n.call(this,e,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return Vhe(t,n),t.prototype.appendTo=function(e,r){for(var i=0;i<this.binaryShiftByteCount;i++)(0===i||31===i&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):e.appendBits(0===i?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+i],8)},t.prototype.addBinaryShift=function(e,r){return new t(this,e,r)},t.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},t}(X2);const jhe=Uhe;function Up(n,t,e){return new X2(n,t,e)}var zhe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Whe=new X2(null,0,0),$2=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],PP=function Xhe(n){var t,e;try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),i=r.next();!i.done;i=r.next())Ai.fill(i.value,-1)}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n[0][4]=0,n[1][4]=0,n[1][0]=28,n[3][4]=0,n[2][4]=0,n[2][0]=15,n}(Ai.createInt32Array(6,6)),Yhe=function(){function n(t,e,r,i){this.token=t,this.mode=e,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(t,e){var r=this.bitCount,i=this.token;if(t!==this.mode){var o=$2[this.mode][t];i=Up(i,65535&o,o>>16),r+=o>>16}var s=2===t?4:5;return new n(i=Up(i,e,s),t,0,r+s)},n.prototype.shiftAndAppend=function(t,e){var r=this.token,i=2===this.mode?4:5;return r=Up(r,PP[this.mode][t],i),new n(r=Up(r,e,5),this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(t){var e=this.token,r=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=$2[r][0];e=Up(e,65535&o,o>>16),i+=o>>16,r=0}var a=new n(e,r,this.binaryShiftByteCount+1,i+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(t+1)),a},n.prototype.endBinaryShift=function(t){if(0===this.binaryShiftByteCount)return this;var e=this.token;return e=function Hhe(n,t,e){return new jhe(n,t,e)}(e,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(e,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(t){var e=this.bitCount+($2[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?e+=n.calculateBinaryShiftCost(t)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(e+=10),e<=t.bitCount},n.prototype.toBitArray=function(t){for(var e,r,i=[],o=this.endBinaryShift(t.length).token;null!==o;o=o.getPrevious())i.unshift(o);var s=new zi;try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=a.next();!c.done;c=a.next())c.value.appendTo(s,t)}catch(h){e={error:h}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return s},n.prototype.toString=function(){return Wn.format("%s bits=%d bytes=%d",zhe[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(Whe,0,0,0),n}();const Zhe=Yhe;var Y2=function qhe(n){var t=Wn.getCharCode(" "),e=Wn.getCharCode("."),r=Wn.getCharCode(",");n[0][t]=1;for(var i=Wn.getCharCode("Z"),o=Wn.getCharCode("A"),s=o;s<=i;s++)n[0][s]=s-o+2;n[1][t]=1;var a=Wn.getCharCode("z"),c=Wn.getCharCode("a");for(s=c;s<=a;s++)n[1][s]=s-c+2;n[2][t]=1;var l=Wn.getCharCode("9"),h=Wn.getCharCode("0");for(s=h;s<=l;s++)n[2][s]=s-h+2;n[2][r]=12,n[2][e]=13;for(var g=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],y=0;y<g.length;y++)n[3][Wn.getCharCode(g[y])]=y;var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(y=0;y<_.length;y++)Wn.getCharCode(_[y])>0&&(n[4][Wn.getCharCode(_[y])]=y);return n}(Ai.createInt32Array(5,256)),Om=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Khe=function(){function n(t){this.text=t}return n.prototype.encode=function(){for(var t=Wn.getCharCode(" "),e=Wn.getCharCode("\n"),r=RP.singletonList(Zhe.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Wn.getCharCode("\r"):o=s===e?2:0;break;case Wn.getCharCode("."):o=s===t?3:0;break;case Wn.getCharCode(","):o=s===t?4:0;break;case Wn.getCharCode(":"):o=s===t?5:0;break;default:o=0}o>0?(r=n.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return RP.min(r,function(c,l){return c.getBitCount()-l.getBitCount()}).toBitArray(this.text)},n.prototype.updateStateListForChar=function(t,e){var r,i,o=[];try{for(var s=Om(t),a=s.next();!a.done;a=s.next())this.updateStateForChar(a.value,e,o)}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(o)},n.prototype.updateStateForChar=function(t,e,r){for(var i=255&this.text[e],o=Y2[t.getMode()][i]>0,s=null,a=0;a<=4;a++){var c=Y2[a][i];if(c>0){if(null==s&&(s=t.endBinaryShift(e)),!o||a===t.getMode()||2===a){var l=s.latchAndAppend(a,c);r.push(l)}if(!o&&PP[t.getMode()][a]>=0){var h=s.shiftAndAppend(a,c);r.push(h)}}}if(t.getBinaryShiftByteCount()>0||0===Y2[t.getMode()][i]){var g=t.addBinaryShiftChar(e);r.push(g)}},n.updateStateListForPair=function(t,e,r){var i,o,s=[];try{for(var a=Om(t),c=a.next();!c.done;c=a.next())this.updateStateForPair(c.value,e,r,s)}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(t,e,r,i){var o=t.endBinaryShift(e);if(i.push(o.latchAndAppend(4,r)),4!==t.getMode()&&i.push(o.shiftAndAppend(4,r)),3===r||4===r){var s=o.latchAndAppend(2,16-r).latchAndAppend(2,1);i.push(s)}if(t.getBinaryShiftByteCount()>0){var a=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);i.push(a)}},n.simplifyStates=function(t){var e,r,i,o,s=[];try{for(var a=Om(t),c=a.next();!c.done;c=a.next()){var l=c.value,h=!0,g=function(D){if(D.isBetterThanOrEqualTo(l))return h=!1,"break";l.isBetterThanOrEqualTo(D)&&(s=s.filter(function(P){return P!==D}))};try{for(var y=(i=void 0,Om(s)),_=y.next();!_.done&&"break"!==g(_.value);_=y.next());}catch(D){i={error:D}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}h&&s.push(l)}}catch(D){e={error:D}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return s},n}();const Qhe=Khe;var epe=function(){function n(){}return n.encodeBytes=function(t){return n.encode(t,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(t,e,r){var a,c,l,h,g,i=new Qhe(t).encode(),o=wn.truncDivision(i.getSize()*e,100)+11,s=i.getSize()+o;if(r!==n.DEFAULT_AZTEC_LAYERS){if(a=r<0,(c=Math.abs(r))>(a?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new zt(Wn.format("Illegal value %s for layers",r));var y=(l=n.totalBitsInLayer(c,a))-l%(h=n.WORD_SIZE[c]);if((g=n.stuffBits(i,h)).getSize()+o>y)throw new zt("Data to large for user specified layer");if(a&&g.getSize()>64*h)throw new zt("Data to large for user specified layer")}else{h=0,g=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new zt("Data too large for an Aztec code");if(!(s>(l=n.totalBitsInLayer(c=(a=_<=3)?_+1:_,a)))&&((null==g||h!==n.WORD_SIZE[c])&&(g=n.stuffBits(i,h=n.WORD_SIZE[c])),y=l-l%h,!(a&&g.getSize()>64*h)&&g.getSize()+o<=y))break}}var G,w=n.generateCheckWords(g,l,h),C=g.getSize()/h,D=n.generateModeMessage(a,c,C),P=(a?11:14)+4*c,O=new Int32Array(P);if(a)for(G=P,_=0;_<O.length;_++)O[_]=_;else{G=P+1+2*wn.truncDivision(wn.truncDivision(P,2)-1,15);var Z=wn.truncDivision(P,2),oe=wn.truncDivision(G,2);for(_=0;_<Z;_++){var fe=_+wn.truncDivision(_,15);O[Z-_-1]=oe-fe-1,O[Z+_]=oe+fe+1}}for(var Ie=new us(G),Re=(_=0,0);_<c;_++){for(var et=4*(c-_)+(a?9:12),dt=0;dt<et;dt++)for(var Vt=2*dt,Nt=0;Nt<2;Nt++)w.get(Re+Vt+Nt)&&Ie.set(O[2*_+Nt],O[2*_+dt]),w.get(Re+2*et+Vt+Nt)&&Ie.set(O[2*_+dt],O[P-1-2*_-Nt]),w.get(Re+4*et+Vt+Nt)&&Ie.set(O[P-1-2*_-Nt],O[P-1-2*_-dt]),w.get(Re+6*et+Vt+Nt)&&Ie.set(O[P-1-2*_-dt],O[2*_+Nt]);Re+=8*et}if(n.drawModeMessage(Ie,a,G,D),a)n.drawBullsEye(Ie,wn.truncDivision(G,2),5);else for(n.drawBullsEye(Ie,wn.truncDivision(G,2),7),_=0,dt=0;_<wn.truncDivision(P,2)-1;_+=15,dt+=16)for(Nt=1&wn.truncDivision(G,2);Nt<G;Nt+=2)Ie.set(wn.truncDivision(G,2)-dt,Nt),Ie.set(wn.truncDivision(G,2)+dt,Nt),Ie.set(Nt,wn.truncDivision(G,2)-dt),Ie.set(Nt,wn.truncDivision(G,2)+dt);var sn=new Nhe;return sn.setCompact(a),sn.setSize(G),sn.setLayers(c),sn.setCodeWords(C),sn.setMatrix(Ie),sn},n.drawBullsEye=function(t,e,r){for(var i=0;i<r;i+=2)for(var o=e-i;o<=e+i;o++)t.set(o,e-i),t.set(o,e+i),t.set(e-i,o),t.set(e+i,o);t.set(e-r,e-r),t.set(e-r+1,e-r),t.set(e-r,e-r+1),t.set(e+r,e-r),t.set(e+r,e-r+1),t.set(e+r,e+r-1)},n.generateModeMessage=function(t,e,r){var i=new zi;return t?(i.appendBits(e-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(e-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(t,e,r,i){var o=wn.truncDivision(r,2);if(e)for(var s=0;s<7;s++){var a=o-3+s;i.get(s)&&t.set(a,o-5),i.get(s+7)&&t.set(o+5,a),i.get(20-s)&&t.set(a,o+5),i.get(27-s)&&t.set(o-5,a)}else for(s=0;s<10;s++)a=o-5+s+wn.truncDivision(s,5),i.get(s)&&t.set(a,o-7),i.get(s+10)&&t.set(o+7,a),i.get(29-s)&&t.set(a,o+7),i.get(39-s)&&t.set(o-7,a)},n.generateCheckWords=function(t,e,r){var i,o,s=t.getSize()/r,a=new xP(n.getGF(r)),c=wn.truncDivision(e,r),l=n.bitsToWords(t,r,c);a.encode(l,c-s);var h=e%r,g=new zi;g.appendBits(0,h);try{for(var y=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(l)),_=y.next();!_.done;_=y.next())g.appendBits(_.value,r)}catch(C){i={error:C}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(t,e,r){var o,s,i=new Int32Array(r);for(o=0,s=t.getSize()/e;o<s;o++){for(var a=0,c=0;c<e;c++)a|=t.get(o*e+c)?1<<e-c-1:0;i[o]=a}return i},n.getGF=function(t){switch(t){case 4:return ds.AZTEC_PARAM;case 6:return ds.AZTEC_DATA_6;case 8:return ds.AZTEC_DATA_8;case 10:return ds.AZTEC_DATA_10;case 12:return ds.AZTEC_DATA_12;default:throw new zt("Unsupported word size "+t)}},n.stuffBits=function(t,e){for(var r=new zi,i=t.getSize(),o=(1<<e)-2,s=0;s<i;s+=e){for(var a=0,c=0;c<e;c++)(s+c>=i||t.get(s+c))&&(a|=1<<e-1-c);(a&o)===o?(r.appendBits(a&o,e),s--):a&o?r.appendBits(a,e):(r.appendBits(1|a,e),s--)}return r},n.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n}();const Z2=epe;!function(){function n(){}n.prototype.encode=function(t,e,r,i){return this.encodeWithHints(t,e,r,i,null)},n.prototype.encodeWithHints=function(t,e,r,i,o){var s=EP.ISO_8859_1,a=Z2.DEFAULT_EC_PERCENT,c=Z2.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(Vn.CHARACTER_SET)&&(s=j2.forName(o.get(Vn.CHARACTER_SET).toString())),o.has(Vn.ERROR_CORRECTION)&&(a=wn.parseInt(o.get(Vn.ERROR_CORRECTION).toString())),o.has(Vn.AZTEC_LAYERS)&&(c=wn.parseInt(o.get(Vn.AZTEC_LAYERS).toString()))),n.encodeLayers(t,e,r,i,s,a,c)},n.encodeLayers=function(t,e,r,i,o,s,a){if(e!==Kt.AZTEC)throw new zt("Can only encode AZTEC, but got "+e);var c=Z2.encode(Wn.getBytes(t,o),s,a);return n.renderResult(c,r,i)},n.renderResult=function(t,e,r){var i=t.getMatrix();if(null==i)throw new Qa;for(var o=i.getWidth(),s=i.getHeight(),a=Math.max(e,o),c=Math.max(r,s),l=Math.min(a/o,c/s),h=(a-o*l)/2,g=(c-s*l)/2,y=new us(a,c),_=0,w=g;_<s;_++,w+=l)for(var C=0,D=h;C<o;C++,D+=l)i.get(C,_)&&y.setRegion(D,w,l,l);return y}}();var tpe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),npe=function(n){function t(e){var r=n.call(this,e.width,e.height)||this;return r.canvas=e,r.tempCanvasElement=null,r.buffer=t.makeBufferFromCanvasImageData(e),r}return tpe(t,n),t.makeBufferFromCanvasImageData=function(e){var r;try{r=e.getContext("2d",{willReadFrequently:!0})}catch{r=e.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(i.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,r,i){for(var o=new Uint8ClampedArray(r*i),s=0,a=0,c=e.length;s<c;s+=4,a++){o[a]=0===e[s+3]?255:306*e[s]+601*e[s+1]+117*e[s+2]+512>>10}return o},t.prototype.getRow=function(e,r){if(e<0||e>=this.getHeight())throw new zt("Requested row is outside the image: "+e);var i=this.getWidth(),o=e*i;return null===r?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,i,o){return n.prototype.crop.call(this,e,r,i,o),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new fm(this)},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=e*t.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);r.width=a,r.height=c;var l=r.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(a/2,c/2),l.rotate(i),l.drawImage(this.canvas,o/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(Rp);function kP(){return typeof navigator<"u"}var df=function(){return df=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},df.apply(this,arguments)},ti=function(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(g){s(g)}}function c(h){try{l(r.throw(h))}catch(g){s(g)}}function l(h){h.done?o(h.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})},ni=function(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}},q2=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ope={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ff=function(){function n(t,e,r){void 0===e&&(e=new Map),void 0===r&&(r={}),this.reader=t,this.hints=e,this.options=df(df({},ope),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(t){this.hints.set(Pr.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),n.addVideoSource=function(t,e){try{t.srcObject=e}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(t,e){return ti(this,void 0,void 0,function(){return ni(this,function(r){switch(r.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(t){var e,r,i=t.getVideoTracks();try{for(var o=q2(i),s=o.next();!s.done;s=o.next())if(n.mediaStreamIsTorchCompatibleTrack(s.value))return!0}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(t){try{return"torch"in t.getCapabilities()}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},n.getMediaElement=function(t,e){var r=document.getElementById(t);if(!r)throw new vi("element with id '".concat(t,"' not found"));if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new vi("element with id '".concat(t,"' must be an ").concat(e," element"));return r},n.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if("string"==typeof t)return n.getMediaElement(t,"video");if(!t&&typeof document<"u"){var e=document.createElement("video");return e.width=200,e.height=200,e}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if("string"==typeof t)return n.getMediaElement(t,"img");if(typeof t>"u"){var e=document.createElement("img");return e.width=200,e.height=200,e}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(t){var e=n.createVideoElement(t);return e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},n.isImageLoaded=function(t){return!(!t.complete||0===t.naturalWidth)},n.createBinaryBitmapFromCanvas=function(t){var e=new npe(t),r=new FN(e);return new NN(r)},n.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},n.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(t){if(!t)throw new vi("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var e=document.createElement("canvas"),r=n.getMediaElementDimensions(t),i=r.width,o=r.height;return e.style.width=i+"px",e.style.height=o+"px",e.width=i,e.height=o,e},n.tryPlayVideo=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(r){switch(r.label){case 0:if(t?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.play()];case 2:return r.sent(),[2,!0];case 3:return e=r.sent(),console.warn("It was not possible to play the video.",e),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(t){var e=n.createCaptureCanvas(t),r=e.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,t),e},n.createBinaryBitmapFromMediaElem=function(t){var e=n.createCanvasFromMediaElement(t);return n.createBinaryBitmapFromCanvas(e)},n.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},n.listVideoInputDevices=function(){return ti(this,void 0,void 0,function(){var t,e,r,i,o,s,a,c,g,y;return ni(this,function(_){switch(_.label){case 0:if(!kP())throw new Error("Can't enumerate devices, navigator is not present.");if(!function ipe(){return!(!function rpe(){return kP()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=_.sent(),e=[];try{for(r=q2(t),i=r.next();!i.done;i=r.next())"videoinput"===(s="video"===(o=i.value).kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,c=o.label||"Video device ".concat(e.length+1),e.push({deviceId:a,label:c,kind:s,groupId:o.groupId}))}catch(w){g={error:w}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,e]}})})},n.findDeviceById=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return(e=r.sent())?[2,e.find(function(i){return i.deviceId===t})]:[2]}})})},n.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch{t.src=""}t&&t.removeAttribute("src")}},n.releaseAllStreams=function(){0!==n.streamTracker.length&&n.streamTracker.forEach(function(t){t.getTracks().forEach(function(e){return e.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(t,e){return ti(this,void 0,void 0,function(){return ni(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(t)];case 1:return i.sent()?[2,!0]:[2,new Promise(function(o,s){var a=setTimeout(function(){n.isVideoPlaying(t)||(s(!1),t.removeEventListener("canplay",c))},e),c=function(){n.tryPlayVideo(t).then(function(l){clearTimeout(a),t.removeEventListener("canplay",c),o(l)})};t.addEventListener("canplay",c)})]}})})},n.attachStreamToVideo=function(t,e,r){return void 0===r&&(r=5e3),ti(this,void 0,void 0,function(){var i;return ni(this,function(o){switch(o.label){case 0:return i=n.prepareVideoElement(e),n.addVideoSource(i,t),[4,n.playVideoOnLoadAsync(i,r)];case 1:return o.sent(),[2,i]}})})},n._waitImageLoad=function(t){return new Promise(function(e,r){var o=setTimeout(function(){n.isImageLoaded(t)||(t.removeEventListener("load",s),r())},1e4),s=function(){clearTimeout(o),t.removeEventListener("load",s),e()};t.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(t){if(!t)throw new vi("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(t){t.getVideoTracks().forEach(function(e){return e.stop()}),t=void 0},n.prototype.decode=function(t){var e=n.createCanvasFromMediaElement(t);return this.decodeFromCanvas(e)},n.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},n.prototype.decodeFromCanvas=function(t){var e=n.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(e)},n.prototype.decodeFromImageElement=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(r){switch(r.label){case 0:if(!t)throw new vi("An image element must be provided.");return e=n.prepareImageElement(t),[4,this._decodeOnLoadImage(e)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(r){switch(r.label){case 0:if(!t)throw new vi("An URL must be provided.");(e=n.prepareImageElement()).src=t,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(e)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(e),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(t,e,r){return ti(this,void 0,void 0,function(){var i,o;return ni(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,e,r)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),n.disposeMediaStream(i),o;case 5:return[2]}})})},n.prototype.decodeFromStream=function(t,e,r){return ti(this,void 0,void 0,function(){var o,a,c,l,g,y,_=this;return ni(this,function(w){switch(w.label){case 0:return n.checkCallbackFnOrThrow(r),[4,n.attachStreamToVideo(t,e,this.options.tryPlayVideoTimeout)];case 1:return o=w.sent(),a=this.scan(o,r,function(){n.disposeMediaStream(t),n.cleanVideoSource(o)}),c=t.getVideoTracks(),l=df(df({},a),{stop:function(){a.stop()},streamVideoConstraintsApply:function(C,D){return ti(this,void 0,void 0,function(){var P,O,G,oe,fe,Ie;return ni(this,function(Re){switch(Re.label){case 0:P=D?c.filter(D):c,Re.label=1;case 1:Re.trys.push([1,6,7,8]),O=q2(P),G=O.next(),Re.label=2;case 2:return G.done?[3,5]:[4,G.value.applyConstraints(C)];case 3:Re.sent(),Re.label=4;case 4:return G=O.next(),[3,2];case 5:return[3,8];case 6:return oe=Re.sent(),fe={error:oe},[3,8];case 7:try{G&&!G.done&&(Ie=O.return)&&Ie.call(O)}finally{if(fe)throw fe.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(C){return c.find(C).getConstraints()},streamVideoSettingsGet:function(C){return c.find(C).getSettings()},streamVideoCapabilitiesGet:function(C){return c.find(C).getCapabilities()}}),n.mediaStreamIsTorchCompatible(t)&&(g=c?.find(function(C){return n.mediaStreamIsTorchCompatibleTrack(C)}),l.switchTorch=y=function(C){return ti(_,void 0,void 0,function(){return ni(this,function(D){switch(D.label){case 0:return[4,n.mediaStreamSetTorch(g,C)];case 1:return D.sent(),[2]}})})},l.stop=function(){return ti(_,void 0,void 0,function(){return ni(this,function(C){switch(C.label){case 0:return a.stop(),[4,y(!1)];case 1:return C.sent(),[2]}})})}),[2,l]}})})},n.prototype.decodeFromVideoDevice=function(t,e,r){return ti(this,void 0,void 0,function(){return ni(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.decodeFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(t,e){return ti(this,void 0,void 0,function(){var r;return ni(this,function(o){switch(o.label){case 0:if(n.checkCallbackFnOrThrow(e),!t)throw new vi("A video element must be provided.");return r=n.prepareVideoElement(t),[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return o.sent(),[2,this.scan(r,e)]}})})},n.prototype.decodeFromVideoUrl=function(t,e){return ti(this,void 0,void 0,function(){var r,i;return ni(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(e),!t)throw new vi("An URL must be provided.");return(r=n.prepareVideoElement()).src=t,i=function(){n.cleanVideoSource(r)},[4,n.playVideoOnLoadAsync(r,this.options.tryPlayVideoTimeout)];case 1:return a.sent(),[2,this.scan(r,e,i)]}})})},n.prototype.decodeOnceFromConstraints=function(t,e){return ti(this,void 0,void 0,function(){var r;return ni(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(t)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,e)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(t,e){return ti(this,void 0,void 0,function(){var r,i;return ni(this,function(s){switch(s.label){case 0:return r=!!e,[4,n.attachStreamToVideo(t,e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,s.sent()];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(t,e){return ti(this,void 0,void 0,function(){return ni(this,function(o){switch(o.label){case 0:return[4,this.decodeOnceFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e)];case 1:return[2,o.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(i){switch(i.label){case 0:if(!t)throw new vi("A video element must be provided.");return e=n.prepareVideoElement(t),[4,n.playVideoOnLoadAsync(e,this.options.tryPlayVideoTimeout)];case 1:return i.sent(),[4,this.scanOneResult(e)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(t){return ti(this,void 0,void 0,function(){var e,r;return ni(this,function(i){switch(i.label){case 0:if(!t)throw new vi("An URL must be provided.");(e=n.prepareVideoElement()).src=t,r=this.decodeOnceFromVideoElement(e),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(e),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(t,e,r,i){var o=this;return void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),new Promise(function(s,a){o.scan(t,function(c,l,h){if(c)return s(c),void h.stop();if(l){if(l instanceof Ke&&e||l instanceof Ei&&r||l instanceof Et&&i)return;h.stop(),a(l)}})})},n.prototype.scan=function(t,e,r){var i=this;n.checkCallbackFnOrThrow(e);var s,o=n.createCaptureCanvas(t);try{s=o.getContext("2d",{willReadFrequently:!0})}catch{s=o.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var l,a=function(){s=void 0,o=void 0},c=!1,g={stop:function(){c=!0,clearTimeout(l),a(),r&&r()}},y=function(){if(!c)try{n.drawImageOnCanvas(s,t);var _=i.decodeFromCanvas(o);e(_,void 0,g),l=setTimeout(y,i.options.delayBetweenScanSuccess)}catch(P){if(e(void 0,P,g),P instanceof Ei||P instanceof Et||P instanceof Ke)return void(l=setTimeout(y,i.options.delayBetweenScanAttempts));a(),r&&r(P)}};return y(),g},n.prototype._decodeOnLoadImage=function(t){return ti(this,void 0,void 0,function(){return ni(this,function(r){switch(r.label){case 0:return n.isImageLoaded(t)?[3,2]:[4,n._waitImageLoad(t)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(t)]}})})},n.prototype.getUserMedia=function(t){return ti(this,void 0,void 0,function(){var e;return ni(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return e=r.sent(),n.streamTracker.push(e),[2,e]}})})},n.streamTracker=[],n}(),spe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ape=(function(n){spe(function t(e,r){return n.call(this,new mm,e,r)||this},n)}(ff),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),cpe=(function(n){ape(function t(e,r){return n.call(this,new uf(e),e,r)||this},n)}(ff),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),lpe=(function(n){cpe(function t(e,r){return n.call(this,new bm,e,r)||this},n)}(ff),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),upe=(function(n){function t(e,r){var i=this,o=new yP;return o.setHints(e),(i=n.call(this,o,e,r)||this).reader=o,i}lpe(t,n),Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Pr.POSSIBLE_FORMATS,e),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t.prototype.setHints=function(e){this.hints=e,this.reader.setHints(this.hints)}}(ff),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),dpe=(function(n){upe(function t(e,r){return n.call(this,new Em,e,r)||this},n)}(ff),function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}()),Oc=(function(n){dpe(function t(e,r){return n.call(this,new wm,e,r)||this},n)}(ff),"http://www.w3.org/2000/svg"),FP=(function(){function n(t){if("string"==typeof t){var e=document.getElementById(t);if(!e)throw new Error("Could not find a Container element with '".concat(t,"'."));this.containerElement=e}else this.containerElement=t}n.prototype.write=function(t,e,r,i){if(0===t.length)throw new zt("Found empty contents");if(e<0||r<0)throw new zt("Requested dimensions are too small: "+e+"x"+r);var o=i&&void 0!==i.get(Vn.MARGIN)?Number.parseInt(i.get(Vn.MARGIN).toString(),10):n.QUIET_ZONE_SIZE,s=this.encode(i,t);return this.renderResult(s,e,r,o)},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"svg");return r.setAttributeNS(Oc,"width",e.toString()),r.setAttributeNS(Oc,"height",t.toString()),r},n.prototype.createSvgPathPlaceholderElement=function(t,e){var r=document.createElementNS(n.SVG_NS,"path");return r.setAttributeNS(Oc,"d","M0 0h".concat(t,"v").concat(e,"H0z")),r.setAttributeNS(Oc,"fill","none"),r},n.prototype.createSvgRectElement=function(t,e,r,i){var o=document.createElementNS(n.SVG_NS,"rect");return o.setAttributeNS(Oc,"x",t.toString()),o.setAttributeNS(Oc,"y",e.toString()),o.setAttributeNS(Oc,"height",r.toString()),o.setAttributeNS(Oc,"width",i.toString()),o.setAttributeNS(Oc,"fill","#000000"),o},n.prototype.encode=function(t,e){var r=Tc.L;if(t&&void 0!==t.get(Vn.ERROR_CORRECTION)){var i=t.get(Vn.ERROR_CORRECTION).toString();r=Tc.fromString(i)}return Am.encode(e,r,t)},n.prototype.renderResult=function(t,e,r,i){var o=t.getMatrix();if(null===o)throw new Qa;var s=o.getWidth(),a=o.getHeight(),c=s+2*i,l=a+2*i,h=Math.max(e,c),g=Math.max(r,l),y=Math.min(Math.floor(h/c),Math.floor(g/l)),_=Math.floor((h-s*y)/2),w=Math.floor((g-a*y)/2),C=this.createSVGElement(h,g),D=this.createSvgPathPlaceholderElement(e,r);C.appendChild(D),this.containerElement.appendChild(C);for(var P=0,O=w;P<a;P++,O+=y)for(var G=0,Z=_;G<s;G++,Z+=y)if(1===o.get(G,P)){var oe=this.createSvgRectElement(Z,O,y,y);C.appendChild(oe)}return C},n.QUIET_ZONE_SIZE=4,n.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function n(){}n.prototype.write=function(t,e,r,i){if(0===t.length)throw new zt("Found empty contents");if(e<0||r<0)throw new zt("Requested dimensions are too small: "+e+"x"+r);var o=Tc.L,s=n.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(Vn.ERROR_CORRECTION)){var a=i.get(Vn.ERROR_CORRECTION).toString();o=Tc.fromString(a)}void 0!==i.get(Vn.MARGIN)&&(s=Number.parseInt(i.get(Vn.MARGIN).toString(),10))}var c=Am.encode(t,o,i);return this.renderResult(c,e,r,s)},n.prototype.writeToDom=function(t,e,r,i,o){if("string"==typeof t){var s=document.querySelector(t);if(!s)throw new Error("Could no find the target HTML element.");t=s}var a=this.write(e,r,i,o);t instanceof HTMLElement&&t.appendChild(a)},n.prototype.renderResult=function(t,e,r,i){var o=t.getMatrix();if(null===o)throw new Qa;for(var s=o.getWidth(),a=o.getHeight(),c=s+2*i,l=a+2*i,h=Math.max(e,c),g=Math.max(r,l),y=Math.min(Math.floor(h/c),Math.floor(g/l)),_=Math.floor((h-s*y)/2),w=Math.floor((g-a*y)/2),C=this.createSVGElement(h,g),D=0,P=w;D<a;D++,P+=y)for(var O=0,G=_;O<s;O++,G+=y)if(1===o.get(O,D)){var Z=this.createSvgRectElement(G,P,y,y);C.appendChild(Z)}return C},n.prototype.createSVGElement=function(t,e){var r=document.createElementNS(FP,"svg"),i=t.toString(),o=e.toString();return r.setAttribute("height",o),r.setAttribute("width",i),r.setAttribute("viewBox","0 0 "+i+" "+o),r},n.prototype.createSvgRectElement=function(t,e,r,i){var o=document.createElementNS(FP,"rect");return o.setAttribute("x",t.toString()),o.setAttribute("y",e.toString()),o.setAttribute("height",r.toString()),o.setAttribute("width",i.toString()),o.setAttribute("fill","#000000"),o},n.QUIET_ZONE_SIZE=4}();let fpe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({imports:[Sg,Tx]})}}return n})();q(389),q(409);let ppe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Fr({type:n}),n.\u0275inj=Ot({imports:[Sg]}),n})();function VP(n){return new Te(3e3,!1)}function xl(n){switch(n.length){case 0:return new rp;case 1:return n[0];default:return new UO(n)}}function UP(n,t,e=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),h=l==s,g=h&&a||new Map;c.forEach((y,_)=>{let w=_,C=y;if("offset"!==_)switch(w=n.normalizePropertyName(w,i),C){case"!":C=e.get(_);break;case _c:C=r.get(_);break;default:C=n.normalizeStyleValue(_,w,C,i)}g.set(w,C)}),h||o.push(g),a=g,s=l}),i.length)throw function Lpe(n){return new Te(3502,!1)}();return o}function K2(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Q2(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Q2(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Q2(e,"destroy",n)))}}function Q2(n,t,e){const o=J2(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function J2(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Os(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function jP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Zpe=(()=>typeof document>"u"?null:document.documentElement)();function ew(n){const t=n.parentNode||n.host||null;return t===Zpe?null:t}let wu=null,HP=!1;function zP(n,t){for(;t;){if(t===n)return!0;t=ew(t)}return!1}function WP(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]}let GP=(()=>{class n{validateStyleProperty(e){return function Kpe(n){wu||(wu=function Qpe(){return typeof document<"u"?document.body:null}()||{},HP=!!wu.style&&"WebkitAppearance"in wu.style);let t=!0;return wu.style&&!function qpe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wu.style,!t&&HP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wu.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return zP(e,r)}getParentElement(e){return ew(e)}query(e,r,i){return WP(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],c){return new rp(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})(),tw=(()=>{class n{static{this.NOOP=new GP}}return n})();const Jpe=1e3,nw="ng-enter",Rm="ng-leave",Nm="ng-trigger",Pm=".ng-trigger",$P="ng-animating",rw=".ng-animating";function Rc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iw(parseFloat(t[1]),t[2])}function iw(n,t){return"s"===t?n*Jpe:n}function km(n,t,e){return n.hasOwnProperty("duration")?n:function t0e(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(VP()),{duration:0,delay:0,easing:""};i=iw(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=iw(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!e){let a=!1,c=t.length;i<0&&(t.push(function gpe(){return new Te(3100,!1)}()),a=!0),o<0&&(t.push(function mpe(){return new Te(3101,!1)}()),a=!0),a&&t.splice(c,0,VP())}return{duration:i,delay:o,easing:s}}(n,t,e)}function jp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function YP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function bl(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function ec(n,t,e){t.forEach((r,i)=>{const o=sw(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r})}function Cu(n,t){t.forEach((e,r)=>{const i=sw(r);n.style[i]=""})}function Hp(n){return Array.isArray(n)?1==n.length?n[0]:LO(n):n}const ow=new RegExp("{{\\s*(.+?)\\s*}}","g");function qP(n){let t=[];if("string"==typeof n){let e;for(;e=ow.exec(n);)t.push(e[1]);ow.lastIndex=0}return t}function zp(n,t,e){const r=n.toString(),i=r.replace(ow,(o,s)=>{let a=t[s];return null==a&&(e.push(function ype(n){return new Te(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Fm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const i0e=/-+([a-z0-9])/g;function sw(n){return n.replace(i0e,(...t)=>t[1].toUpperCase())}function Rs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function _pe(n){return new Te(3004,!1)}()}}function KP(n,t){return window.getComputedStyle(n)[t]}const Lm="*";function a0e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function c0e(n,t,e){if(":"==n[0]){const c=function l0e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Npe(n){return new Te(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function Rpe(n){return new Te(3015,!1)}()),t;const i=r[1],o=r[2],s=r[3];t.push(QP(i,s));"<"==o[0]&&!(i==Lm&&s==Lm)&&t.push(QP(s,i))}(r,e,t)):e.push(n),e}const Bm=new Set(["true","1"]),Vm=new Set(["false","0"]);function QP(n,t){const e=Bm.has(n)||Vm.has(n),r=Bm.has(t)||Vm.has(t);return(i,o)=>{let s=n==Lm||n==i,a=t==Lm||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?Bm.has(n):Vm.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Bm.has(t):Vm.has(t)),s&&a}}const u0e=new RegExp("s*:selfs*,?","g");function aw(n,t,e,r){return new d0e(n).build(t,e,r)}class d0e{constructor(t){this._driver=t}build(t,e,r){const i=new p0e(e);return this._resetContextStyleTimingState(i),Rs(this,Hp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function bpe(){return new Te(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push(function wpe(){return new Te(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{qP(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Fm(o.values()),e.errors.push(function Cpe(n,t){return new Te(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Rs(this,Hp(t.animation),e);return{type:1,matchers:a0e(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Eu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Rs(this,r,e)),options:Eu(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=Rs(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Eu(t.options)}}visitAnimate(t,e){const r=function m0e(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return cw(km(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=cw(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=km(e,t);return cw(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:np({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=np(l)}e.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,i=c}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===_c?r.push(a):e.errors.push(new Te(3002,!1)):r.push(YP(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),h=l.get(c);let g=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(e.errors.push(function Ape(n,t,e,r,i){return new Te(3010,!1)}()),g=!1),o=h.startTime),g&&l.set(c,{startTime:o,endTime:i}),e.options&&function r0e(n,t,e){const r=t.params||{},i=qP(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function vpe(n){return new Te(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Spe(){return new Te(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const h=t.steps.map(P=>{const O=this._makeStyleAst(P,e);let G=null!=O.offset?O.offset:function g0e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(O.styles),Z=0;return null!=G&&(o++,Z=O.offset=G),c=c||Z<0||Z>1,a=a||Z<l,l=Z,s.push(Z),O});c&&e.errors.push(function Ipe(){return new Te(3012,!1)}()),a&&e.errors.push(function Dpe(){return new Te(3200,!1)}());const g=t.steps.length;let y=0;o>0&&o<g?e.errors.push(function Mpe(){return new Te(3202,!1)}()):0==o&&(y=1/(g-1));const _=g-1,w=e.currentTime,C=e.currentAnimateTimings,D=C.duration;return h.forEach((P,O)=>{const G=y>0?O==_?1:y*O:s[O],Z=G*D;e.currentTime=w+C.delay+Z,C.duration=Z,this._validateStyleAst(P,e),P.offset=G,r.styles.push(P)}),r}visitReference(t,e){return{type:8,animation:Rs(this,Hp(t.animation),e),options:Eu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Eu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Eu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function f0e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(u0e,"")),n=n.replace(/@\*/g,Pm).replace(/@\w+/g,e=>Pm+"-"+e.slice(1)).replace(/:animating/g,rw),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Os(e.collectedStyles,e.currentQuerySelector,new Map);const a=Rs(this,Hp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Eu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Tpe(){return new Te(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:km(t.timings,e.errors,!0);return{type:12,animation:Rs(this,Hp(t.animation),e),timings:r,options:null}}}class p0e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Eu(n){return n?(n=jp(n)).params&&(n.params=function h0e(n){return n?jp(n):null}(n.params)):n={},n}function cw(n,t,e){return{duration:n,delay:t,easing:e}}function lw(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Um{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _0e=new RegExp(":enter","g"),b0e=new RegExp(":leave","g");function uw(n,t,e,r,i,o=new Map,s=new Map,a,c,l=[]){return(new w0e).buildKeyframes(n,t,e,r,i,o,s,a,c,l)}class w0e{buildKeyframes(t,e,r,i,o,s,a,c,l,h=[]){l=l||new Um;const g=new dw(t,e,l,i,o,h,[]);g.options=c;const y=c.delay?Rc(c.delay):0;g.currentTimeline.delayNextStep(y),g.currentTimeline.setStyles([s],null,g.errors,c),Rs(this,r,g);const _=g.timelines.filter(w=>w.containsAnimation());if(_.length&&a.size){let w;for(let C=_.length-1;C>=0;C--){const D=_[C];if(D.element===e){w=D;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,g.errors,c)}return _.length?_.map(w=>w.buildKeyframes()):[lw(e,[],[],[],0,y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:Rc(zp(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?Rc(r.duration):null,a=null!=r.delay?Rc(r.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Rs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jm);const s=Rc(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Rs(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Rc(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Rs(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return km(e.params?zp(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Rc(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jm);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{e.currentQueryIndex=h;const g=e.createSubContext(t.options,l);o&&g.delayNextStep(o),l===e.element&&(c=g.currentTimeline),Rs(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const h=e.currentTimeline;c&&h.delayNextStep(c);const g=h.currentTime;Rs(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const jm={};class dw{constructor(t,e,r,i,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Hm(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Rc(r.duration)),null!=r.delay&&(i.delay=Rc(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=zp(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new dw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=jm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new C0e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(_0e,"."+this._enterClassName)).replace(b0e,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function Ope(n){return new Te(3014,!1)}()),a}}class Hm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Hm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||_c),this._currentKeyframe.set(e,_c);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function E0e(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,_c)}else bl(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=zp(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_c),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=bl(a,new Map,this._backFill);l.forEach((h,g)=>{"!"===h?t.add(g):h===_c&&e.add(g)}),r||l.set("offset",c/this.duration),i.push(l)});const o=t.size?Fm(t.values()):[],s=e.size?Fm(e.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return lw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class C0e extends Hm{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,c=bl(t[0]);c.set("offset",0),o.push(c);const l=bl(t[0]);l.set("offset",t6(a)),o.push(l);const h=t.length-1;for(let g=1;g<=h;g++){let y=bl(t[g]);const _=y.get("offset");y.set("offset",t6((e+_*r)/s)),o.push(y)}r=s,e=0,i="",t=o}return lw(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function t6(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class fw{}const A0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class S0e extends fw{normalizePropertyName(t,e){return sw(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(A0e.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function xpe(n,t){return new Te(3005,!1)}())}return s+o}}function n6(n,t,e,r,i,o,s,a,c,l,h,g,y){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:g,errors:y}}const hw={};class r6{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function I0e(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,s,a,c,l,h){const g=[],y=this.ast.options&&this.ast.options.params||hw,w=this.buildStyles(r,a&&a.params||hw,g),C=c&&c.params||hw,D=this.buildStyles(i,C,g),P=new Set,O=new Map,G=new Map,Z="void"===i,oe={params:D0e(C,y),delay:this.ast.options?.delay},fe=h?[]:uw(t,e,this.ast.animation,o,s,w,D,oe,l,g);let Ie=0;if(fe.forEach(et=>{Ie=Math.max(et.duration+et.delay,Ie)}),g.length)return n6(e,this._triggerName,r,i,Z,w,D,[],[],O,G,Ie,g);fe.forEach(et=>{const dt=et.element,Vt=Os(O,dt,new Set);et.preStyleProps.forEach(sn=>Vt.add(sn));const Nt=Os(G,dt,new Set);et.postStyleProps.forEach(sn=>Nt.add(sn)),dt!==e&&P.add(dt)});const Re=Fm(P.values());return n6(e,this._triggerName,r,i,Z,w,D,fe,Re,O,G,Ie)}}function D0e(n,t){const e=jp(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class M0e{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=jp(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=zp(s,i,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),r.set(a,s)})}),r}}class O0e{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new M0e(i.style,i.options&&i.options.params||{},r))}),i6(this.states,"true","1"),i6(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new r6(t,i,this.states))}),this.fallbackTransition=function R0e(n,t,e){return new r6(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function i6(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const N0e=new Um;class P0e{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=aw(this._driver,e,r,[]);if(r.length)throw function Bpe(n){return new Te(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=UP(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=uw(this._driver,e,o,nw,Rm,new Map,new Map,r,N0e,i),s.forEach(h=>{const g=Os(a,h.element,new Map);h.postStyleProps.forEach(y=>g.set(y,null))})):(i.push(function Vpe(){return new Te(3300,!1)}()),s=[]),i.length)throw function Upe(n){return new Te(3504,!1)}();a.forEach((h,g)=>{h.forEach((y,_)=>{h.set(_,this._driver.computeStyle(g,_,_c))})});const l=xl(s.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function jpe(n){return new Te(3301,!1)}();return e}listen(t,e,r,i){const o=J2(e,"","","");return K2(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const o6="ng-animate-queued",pw="ng-animate-disabled",V0e=[],s6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class gw{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function W0e(n){return n??null}(r?t.value:t),r){const o=jp(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Wp="void",mw=new gw(Wp);class j0e{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,na(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function Hpe(n,t){return new Te(3302,!1)}();if(null==r||0==r.length)throw function zpe(n){return new Te(3303,!1)}();if(!function G0e(n){return"start"==n||"done"==n}(r))throw function Wpe(n,t){return new Te(3400,!1)}();const o=Os(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Os(this._engine.statesByElement,t,new Map);return a.has(e)||(na(t,Nm),na(t,Nm+"-"+e),a.set(e,mw)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Gpe(n){return new Te(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new vw(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(na(t,Nm),na(t,Nm+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new gw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=mw),l.value!==Wp&&c.value===l.value){if(!function Y0e(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const C=[],D=o.matchStyles(c.value,c.params,C),P=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Cu(t,D),ec(t,P)})}return}const y=Os(this._engine.playersByElement,t,[]);y.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let _=o.matchTransition(c.value,l.value,t,l.params),w=!1;if(!_){if(!i)return;_=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:_,fromState:c,toState:l,player:s,isFallbackTransition:w}),w||(na(t,o6),s.onStart(()=>{hf(t,o6)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const D=this._engine.playersByElement.get(t);if(D){let P=D.indexOf(s);P>=0&&D.splice(P,1)}}),this.players.push(s),y.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Pm,!0);r.forEach(i=>{if(i[Sa])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const h=this.trigger(t,l,Wp,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&xl(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||mw,h=new gw(Wp),g=new vw(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Sa];(!o||o===s6)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){na(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=J2(o,r.triggerName,r.fromState.value,r.toState.value);c._data=t,K2(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class H0e{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new j0e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(zm(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!zm(e))return;const o=e[Sa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),na(t,pw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hf(t,pw))}removeNode(t,e,r){if(zm(e)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[Sa]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return zm(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Pm,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rw,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xl(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Sa];if(e&&e.setForRemoval){if(t[Sa]=s6,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(pw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)na(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?xl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function Xpe(n){return new Te(3402,!1)}()}_flushAnimations(t,e){const r=new Um,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(_t=>{h.add(_t);const Mt=this.driver.query(_t,".ng-animate-queued",!0);for(let jt=0;jt<Mt.length;jt++)h.add(Mt[jt])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),_=l6(y,this.collectedEnterElements),w=new Map;let C=0;_.forEach((_t,Mt)=>{const jt=nw+C++;w.set(Mt,jt),_t.forEach(rn=>na(rn,jt))});const D=[],P=new Set,O=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Mt=this.collectedLeaveElements[_t],jt=Mt[Sa];jt&&jt.setForRemoval&&(D.push(Mt),P.add(Mt),jt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(rn=>P.add(rn)):O.add(Mt))}const G=new Map,Z=l6(y,Array.from(P));Z.forEach((_t,Mt)=>{const jt=Rm+C++;G.set(Mt,jt),_t.forEach(rn=>na(rn,jt))}),t.push(()=>{_.forEach((_t,Mt)=>{const jt=w.get(Mt);_t.forEach(rn=>hf(rn,jt))}),Z.forEach((_t,Mt)=>{const jt=G.get(Mt);_t.forEach(rn=>hf(rn,jt))}),D.forEach(_t=>{this.processLeaveNode(_t)})});const oe=[],fe=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(e).forEach(jt=>{const rn=jt.player,zr=jt.element;if(oe.push(rn),this.collectedEnterElements.length){const Ao=zr[Sa];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(jt.triggerName)){const Au=Ao.previousTriggersValues.get(jt.triggerName),ra=this.statesByElement.get(jt.element);if(ra&&ra.has(jt.triggerName)){const Xm=ra.get(jt.triggerName);Xm.value=Au,ra.set(jt.triggerName,Xm)}}return void rn.destroy()}}const zo=!g||!this.driver.containsElement(g,zr),Si=G.get(zr),ps=w.get(zr),sr=this._buildInstruction(jt,r,ps,Si,zo);if(sr.errors&&sr.errors.length)return void fe.push(sr);if(zo)return rn.onStart(()=>Cu(zr,sr.fromStyles)),rn.onDestroy(()=>ec(zr,sr.toStyles)),void i.push(rn);if(jt.isFallbackTransition)return rn.onStart(()=>Cu(zr,sr.fromStyles)),rn.onDestroy(()=>ec(zr,sr.toStyles)),void i.push(rn);const wl=[];sr.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||wl.push(Ao)}),sr.timelines=wl,r.append(zr,sr.timelines),s.push({instruction:sr,player:rn,element:zr}),sr.queriedElements.forEach(Ao=>Os(a,Ao,[]).push(rn)),sr.preStyleProps.forEach((Ao,Au)=>{if(Ao.size){let ra=c.get(Au);ra||c.set(Au,ra=new Set),Ao.forEach((Xm,xw)=>ra.add(xw))}}),sr.postStyleProps.forEach((Ao,Au)=>{let ra=l.get(Au);ra||l.set(Au,ra=new Set),Ao.forEach((Xm,xw)=>ra.add(xw))})});if(fe.length){const _t=[];fe.forEach(Mt=>{_t.push(function $pe(n,t){return new Te(3505,!1)}())}),oe.forEach(Mt=>Mt.destroy()),this.reportError(_t)}const Ie=new Map,Re=new Map;s.forEach(_t=>{const Mt=_t.element;r.has(Mt)&&(Re.set(Mt,Mt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,Ie))}),i.forEach(_t=>{const Mt=_t.element;this._getPreviousPlayers(Mt,!1,_t.namespaceId,_t.triggerName,null).forEach(rn=>{Os(Ie,Mt,[]).push(rn),rn.destroy()})});const et=D.filter(_t=>d6(_t,c,l)),dt=new Map;c6(dt,this.driver,O,l,_c).forEach(_t=>{d6(_t,c,l)&&et.push(_t)});const Nt=new Map;_.forEach((_t,Mt)=>{c6(Nt,this.driver,new Set(_t),c,"!")}),et.forEach(_t=>{const Mt=dt.get(_t),jt=Nt.get(_t);dt.set(_t,new Map([...Mt?.entries()??[],...jt?.entries()??[]]))});const sn=[],yr=[],Sn={};s.forEach(_t=>{const{element:Mt,player:jt,instruction:rn}=_t;if(r.has(Mt)){if(h.has(Mt))return jt.onDestroy(()=>ec(Mt,rn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(rn.totalTime),void i.push(jt);let zr=Sn;if(Re.size>1){let Si=Mt;const ps=[];for(;Si=Si.parentNode;){const sr=Re.get(Si);if(sr){zr=sr;break}ps.push(Si)}ps.forEach(sr=>Re.set(sr,zr))}const zo=this._buildAnimation(jt.namespaceId,rn,Ie,o,Nt,dt);if(jt.setRealPlayer(zo),zr===Sn)sn.push(jt);else{const Si=this.playersByElement.get(zr);Si&&Si.length&&(jt.parentPlayer=xl(Si)),i.push(jt)}}else Cu(Mt,rn.fromStyles),jt.onDestroy(()=>ec(Mt,rn.toStyles)),yr.push(jt),h.has(Mt)&&i.push(jt)}),yr.forEach(_t=>{const Mt=o.get(_t.element);if(Mt&&Mt.length){const jt=xl(Mt);_t.setRealPlayer(jt)}}),i.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<D.length;_t++){const Mt=D[_t],jt=Mt[Sa];if(hf(Mt,Rm),jt&&jt.hasAnimation)continue;let rn=[];if(a.size){let zo=a.get(Mt);zo&&zo.length&&rn.push(...zo);let Si=this.driver.query(Mt,rw,!0);for(let ps=0;ps<Si.length;ps++){let sr=a.get(Si[ps]);sr&&sr.length&&rn.push(...sr)}}const zr=rn.filter(zo=>!zo.destroyed);zr.length?X0e(this,Mt,zr):this.processLeaveNode(Mt)}return D.length=0,sn.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Mt=this.players.indexOf(_t);this.players.splice(Mt,1)}),_t.play()}),sn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Wp;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,h=l!==o,g=Os(r,l,[]);this._getPreviousPlayers(l,h,s,a,e.toState).forEach(_=>{const w=_.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),_.destroy(),g.push(_)})}Cu(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,c=e.element,l=[],h=new Set,g=new Set,y=e.timelines.map(w=>{const C=w.element;h.add(C);const D=C[Sa];if(D&&D.removedBeforeQueried)return new rp(w.duration,w.delay);const P=C!==c,O=function $0e(n){const t=[];return u6(n,t),t}((r.get(C)||V0e).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===C),G=o.get(C),Z=s.get(C),oe=UP(this._normalizer,w.keyframes,G,Z),fe=this._buildPlayer(w,oe,O);if(w.subTimeline&&i&&g.add(C),P){const Ie=new vw(t,a,C);Ie.setRealPlayer(fe),l.push(Ie)}return fe});l.forEach(w=>{Os(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function z0e(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>na(w,$P));const _=xl(y);return _.onDestroy(()=>{h.forEach(w=>hf(w,$P)),ec(c,e.toStyles)}),g.forEach(w=>{Os(i,w,[]).push(_)}),_}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new rp(t.duration,t.delay)}}class vw{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new rp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>K2(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Os(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zm(n){return n&&1===n.nodeType}function a6(n,t){const e=n.style.display;return n.style.display=t??"none",e}function c6(n,t,e,r,i){const o=[];e.forEach(c=>o.push(a6(c)));const s=[];r.forEach((c,l)=>{const h=new Map;c.forEach(g=>{const y=t.computeStyle(l,g,i);h.set(g,y),(!y||0==y.length)&&(l[Sa]=U0e,s.push(l))}),n.set(l,h)});let a=0;return e.forEach(c=>a6(c,o[a++])),s}function l6(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function na(n,t){n.classList?.add(t)}function hf(n,t){n.classList?.remove(t)}function X0e(n,t,e){xl(e).onDone(()=>n.processLeaveNode(t))}function u6(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof UO?u6(r.players,t):t.push(r)}}function d6(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Wm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new H0e(t,e,r),this._timelineEngine=new P0e(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],h=aw(this._driver,o,c,[]);if(c.length)throw function Fpe(n,t){return new Te(3404,!1)}();a=function T0e(n,t,e){return new O0e(n,t,e)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=jP(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=jP(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let q0e=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ec(this._element,this._initialStyles),this._endStyles&&(ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cu(this._element,this._endStyles),this._endStyles=null),ec(this._element,this._initialStyles),this._state=3)}}return n})();function yw(n){let t=null;return n.forEach((e,r)=>{(function K0e(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class f6{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:KP(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Q0e{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return zP(t,e)}getParentElement(t){return ew(t)}query(t,e,r){return WP(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,h=s.filter(_=>_ instanceof f6);(function o0e(n,t){return 0===n||0===t})(r,i)&&h.forEach(_=>{_.currentSnapshot.forEach((w,C)=>l.set(C,w))});let g=function n0e(n){return n.length?n[0]instanceof Map?n:n.map(t=>YP(t)):[]}(e).map(_=>bl(_));g=function s0e(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,KP(n,a)))}}return t}(t,g,l);const y=function Z0e(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=yw(t[0]),t.length>1&&(r=yw(t[t.length-1]))):t instanceof Map&&(e=yw(t)),e||r?new q0e(n,e,r):null}(t,g);return new f6(t,g,c,y)}}let J0e=(()=>{class n extends kO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?LO(e):e;return h6(this._renderer,null,r,"register",[i]),new ege(r,this._renderer)}static{this.\u0275fac=function(r){return new(r||n)(Ue($f),Ue(qn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class ege extends HY{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tge(this._id,t,e||{},this._renderer)}}class tge{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return h6(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h6(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const p6="@.disabled";let nge=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(o);return h||(h=new g6("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(s,a,e,h.name,h)};return r.data.animation.forEach(c),new rge(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(r){return new(r||n)(Ue($f),Ue(Wm),Ue(mn))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();class g6{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==p6?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class rge extends g6{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==p6?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function ige(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function oge(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}let sge=(()=>{class n extends Wm{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Ue(qn),Ue(tw),Ue(fw),Ue($c))}}static{this.\u0275prov=Ne({token:n,factory:n.\u0275fac})}}return n})();const m6=[{provide:kO,useClass:J0e},{provide:fw,useFactory:function age(){return new S0e}},{provide:Wm,useClass:sge},{provide:$f,useFactory:function cge(n,t,e){return new nge(n,t,e)},deps:[sx,Wm,mn]}],_w=[{provide:tw,useFactory:()=>new Q0e},{provide:td,useValue:"BrowserAnimations"},...m6],v6=[{provide:tw,useClass:GP},{provide:td,useValue:"NoopAnimations"},...m6];let lge=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?v6:_w}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n})}static{this.\u0275inj=Ot({providers:_w,imports:[SM]})}}return n})(),uge=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Fr({type:n,bootstrap:[cae]})}static{this.\u0275inj=Ot({imports:[SM,iae,Tx,o$,fpe,ppe,qse,lge,aR,lW]})}}return n})();nz().bootstrapModule(uge).catch(n=>console.error(n))},496:function(gs,L){!function(q){"use strict";function E(S){return null==S}var k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,u){S.__proto__=u}||function(S,u){for(var d in u)u.hasOwnProperty(d)&&(S[d]=u[d])};var te=function(S){function u(d){var f=this.constructor,p=S.call(this,d)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),function j(S,u){var d=Object.setPrototypeOf;d?d(S,u):S.__proto__=u}(p,f.prototype),function U(S,u){void 0===u&&(u=S.constructor);var d=Error.captureStackTrace;d&&d(S,u)}(p),p}return function F(S,u){function d(){this.constructor=S}k(S,u),S.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}(u,S),u}(Error);let de=(()=>{class S extends te{constructor(d=void 0){super(d),this.message=d}getKind(){return this.constructor.kind}}return S.kind="Exception",S})(),Ee=(()=>{class S extends de{}return S.kind="ArgumentException",S})(),ue=(()=>{class S extends de{}return S.kind="IllegalArgumentException",S})();class tt{constructor(u){if(this.binarizer=u,null===u)throw new ue("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(u,d){return this.binarizer.getBlackRow(u,d)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(u,d,f,p){const m=this.binarizer.getLuminanceSource().crop(u,d,f,p);return new tt(this.binarizer.createBinarizer(m))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const u=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new tt(this.binarizer.createBinarizer(u))}rotateCounterClockwise45(){const u=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new tt(this.binarizer.createBinarizer(u))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let Fe=(()=>{class S extends de{static getChecksumInstance(){return new S}}return S.kind="ChecksumException",S})();class ft{constructor(u){this.source=u}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class lt{static arraycopy(u,d,f,p,m){for(;m--;)f[p++]=u[d++]}static currentTimeMillis(){return Date.now()}}let bt=(()=>{class S extends de{}return S.kind="IndexOutOfBoundsException",S})(),It=(()=>{class S extends bt{constructor(d=void 0,f=void 0){super(f),this.index=d,this.message=f}}return S.kind="ArrayIndexOutOfBoundsException",S})();class Xe{static fill(u,d){for(let f=0,p=u.length;f<p;f++)u[f]=d}static fillWithin(u,d,f,p){Xe.rangeCheck(u.length,d,f);for(let m=d;m<f;m++)u[m]=p}static rangeCheck(u,d,f){if(d>f)throw new ue("fromIndex("+d+") > toIndex("+f+")");if(d<0)throw new It(d);if(f>u)throw new It(f)}static asList(...u){return u}static create(u,d,f){return Array.from({length:u}).map(m=>Array.from({length:d}).fill(f))}static createInt32Array(u,d,f){return Array.from({length:u}).map(m=>Int32Array.from({length:d}).fill(f))}static equals(u,d){if(!(u&&d&&u.length&&d.length&&u.length===d.length))return!1;for(let f=0,p=u.length;f<p;f++)if(u[f]!==d[f])return!1;return!0}static hashCode(u){if(null===u)return 0;let d=1;for(const f of u)d=31*d+f;return d}static fillUint8Array(u,d){for(let f=0;f!==u.length;f++)u[f]=d}static copyOf(u,d){return u.slice(0,d)}static copyOfUint8Array(u,d){if(u.length<=d){const f=new Uint8Array(d);return f.set(u),f}return u.slice(0,d)}static copyOfRange(u,d,f){const p=f-d,m=new Int32Array(p);return lt.arraycopy(u,d,m,0,p),m}static binarySearch(u,d,f){void 0===f&&(f=Xe.numberComparator);let p=0,m=u.length-1;for(;p<=m;){const v=m+p>>1,x=f(d,u[v]);if(x>0)p=v+1;else{if(!(x<0))return v;m=v-1}}return-p-1}static numberComparator(u,d){return u-d}}class Se{static numberOfTrailingZeros(u){let d;if(0===u)return 32;let f=31;return d=u<<16,0!==d&&(f-=16,u=d),d=u<<8,0!==d&&(f-=8,u=d),d=u<<4,0!==d&&(f-=4,u=d),d=u<<2,0!==d&&(f-=2,u=d),f-(u<<1>>>31)}static numberOfLeadingZeros(u){if(0===u)return 32;let d=1;return u>>>16||(d+=16,u<<=16),u>>>24||(d+=8,u<<=8),u>>>28||(d+=4,u<<=4),u>>>30||(d+=2,u<<=2),d-=u>>>31,d}static toHexString(u){return u.toString(16)}static toBinaryString(u){return String(parseInt(String(u),2))}static bitCount(u){return u=(u=(858993459&(u-=u>>>1&1431655765))+(u>>>2&858993459))+(u>>>4)&252645135,63&(u+=u>>>8)+(u>>>16)}static truncDivision(u,d){return Math.trunc(u/d)}static parseInt(u,d=void 0){return parseInt(u,d)}}Se.MIN_VALUE_32_BITS=-2147483648,Se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class be{constructor(u,d){void 0===u?(this.size=0,this.bits=new Int32Array(1)):(this.size=u,this.bits=null==d?be.makeArray(u):d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(u){if(u>32*this.bits.length){const d=be.makeArray(u);lt.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(u){return 0!=(this.bits[Math.floor(u/32)]&1<<(31&u))}set(u){this.bits[Math.floor(u/32)]|=1<<(31&u)}flip(u){this.bits[Math.floor(u/32)]^=1<<(31&u)}getNextSet(u){const d=this.size;if(u>=d)return d;const f=this.bits;let p=Math.floor(u/32),m=f[p];m&=~((1<<(31&u))-1);const v=f.length;for(;0===m;){if(++p===v)return d;m=f[p]}const x=32*p+Se.numberOfTrailingZeros(m);return x>d?d:x}getNextUnset(u){const d=this.size;if(u>=d)return d;const f=this.bits;let p=Math.floor(u/32),m=~f[p];m&=~((1<<(31&u))-1);const v=f.length;for(;0===m;){if(++p===v)return d;m=~f[p]}const x=32*p+Se.numberOfTrailingZeros(m);return x>d?d:x}setBulk(u,d){this.bits[Math.floor(u/32)]=d}setRange(u,d){if(d<u||u<0||d>this.size)throw new ue;if(d===u)return;d--;const f=Math.floor(u/32),p=Math.floor(d/32),m=this.bits;for(let v=f;v<=p;v++)m[v]|=(2<<(v<p?31:31&d))-(1<<(v>f?0:31&u))}clear(){const u=this.bits.length,d=this.bits;for(let f=0;f<u;f++)d[f]=0}isRange(u,d,f){if(d<u||u<0||d>this.size)throw new ue;if(d===u)return!0;d--;const p=Math.floor(u/32),m=Math.floor(d/32),v=this.bits;for(let x=p;x<=m;x++){const M=(2<<(x<m?31:31&d))-(1<<(x>p?0:31&u))&4294967295;if((v[x]&M)!==(f?M:0))return!1}return!0}appendBit(u){this.ensureCapacity(this.size+1),u&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(u,d){if(d<0||d>32)throw new ue("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let f=d;f>0;f--)this.appendBit(1==(u>>f-1&1))}appendBitArray(u){const d=u.size;this.ensureCapacity(this.size+d);for(let f=0;f<d;f++)this.appendBit(u.get(f))}xor(u){if(this.size!==u.size)throw new ue("Sizes don't match");const d=this.bits;for(let f=0,p=d.length;f<p;f++)d[f]^=u.bits[f]}toBytes(u,d,f,p){for(let m=0;m<p;m++){let v=0;for(let x=0;x<8;x++)this.get(u)&&(v|=1<<7-x),u++;d[f+m]=v}}getBitArray(){return this.bits}reverse(){const u=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),f=d+1,p=this.bits;for(let m=0;m<f;m++){let v=p[m];v=v>>1&1431655765|(1431655765&v)<<1,v=v>>2&858993459|(858993459&v)<<2,v=v>>4&252645135|(252645135&v)<<4,v=v>>8&16711935|(16711935&v)<<8,v=v>>16&65535|(65535&v)<<16,u[d-m]=v}if(this.size!==32*f){const m=32*f-this.size;let v=u[0]>>>m;for(let x=1;x<f;x++){const b=u[x];v|=b<<32-m,u[x-1]=v,v=b>>>m}u[f-1]=v}this.bits=u}static makeArray(u){return new Int32Array(Math.floor((u+31)/32))}equals(u){return u instanceof be&&this.size===u.size&&Xe.equals(this.bits,u.bits)}hashCode(){return 31*this.size+Xe.hashCode(this.bits)}toString(){let u="";for(let d=0,f=this.size;d<f;d++)7&d||(u+=" "),u+=this.get(d)?"X":".";return u}clone(){return new be(this.size,this.bits.slice())}}var xe=function(S){return S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",S}(xe||{}),Ce=xe;let ye=(()=>{class S extends de{static getFormatInstance(){return new S}}return S.kind="FormatException",S})();var we=function(S){return S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR",S}(we||{});class De{constructor(u,d,f,...p){this.valueIdentifier=u,this.name=f,this.values="number"==typeof d?Int32Array.from([d]):d,this.otherEncodingNames=p,De.VALUE_IDENTIFIER_TO_ECI.set(u,this),De.NAME_TO_ECI.set(f,this);const m=this.values;for(let v=0,x=m.length;v!==x;v++)De.VALUES_TO_ECI.set(m[v],this);for(const v of p)De.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(u){if(u<0||u>=900)throw new ye("incorect value");const d=De.VALUES_TO_ECI.get(u);if(void 0===d)throw new ye("incorect value");return d}static getCharacterSetECIByName(u){const d=De.NAME_TO_ECI.get(u);if(void 0===d)throw new ye("incorect value");return d}equals(u){if(!(u instanceof De))return!1;const d=u;return this.getName()===d.getName()}}De.VALUE_IDENTIFIER_TO_ECI=new Map,De.VALUES_TO_ECI=new Map,De.NAME_TO_ECI=new Map,De.Cp437=new De(we.Cp437,Int32Array.from([0,2]),"Cp437"),De.ISO8859_1=new De(we.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),De.ISO8859_2=new De(we.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),De.ISO8859_3=new De(we.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),De.ISO8859_4=new De(we.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),De.ISO8859_5=new De(we.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),De.ISO8859_6=new De(we.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),De.ISO8859_7=new De(we.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),De.ISO8859_8=new De(we.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),De.ISO8859_9=new De(we.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),De.ISO8859_10=new De(we.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),De.ISO8859_11=new De(we.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),De.ISO8859_13=new De(we.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),De.ISO8859_14=new De(we.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),De.ISO8859_15=new De(we.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),De.ISO8859_16=new De(we.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),De.SJIS=new De(we.SJIS,20,"SJIS","Shift_JIS"),De.Cp1250=new De(we.Cp1250,21,"Cp1250","windows-1250"),De.Cp1251=new De(we.Cp1251,22,"Cp1251","windows-1251"),De.Cp1252=new De(we.Cp1252,23,"Cp1252","windows-1252"),De.Cp1256=new De(we.Cp1256,24,"Cp1256","windows-1256"),De.UnicodeBigUnmarked=new De(we.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),De.UTF8=new De(we.UTF8,26,"UTF8","UTF-8"),De.ASCII=new De(we.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),De.Big5=new De(we.Big5,28,"Big5"),De.GB18030=new De(we.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),De.EUC_KR=new De(we.EUC_KR,30,"EUC_KR","EUC-KR");let Le=(()=>{class S extends de{}return S.kind="UnsupportedOperationException",S})();class Je{static decode(u,d){const f=this.encodingName(d);return this.customDecoder?this.customDecoder(u,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(u,f):new TextDecoder(f).decode(u)}static shouldDecodeOnFallback(u){return!Je.isBrowser()&&"ISO-8859-1"===u}static encode(u,d){const f=this.encodingName(d);return this.customEncoder?this.customEncoder(u,f):typeof TextEncoder>"u"?this.encodeFallback(u):(new TextEncoder).encode(u)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(u){return"string"==typeof u?u:u.getName()}static encodingCharacterSet(u){return u instanceof De?u:De.getCharacterSetECIByName(u)}static decodeFallback(u,d){const f=this.encodingCharacterSet(d);if(Je.isDecodeFallbackSupported(f)){let p="";for(let m=0,v=u.length;m<v;m++){let x=u[m].toString(16);x.length<2&&(x="0"+x),p+="%"+x}return decodeURIComponent(p)}if(f.equals(De.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(u.buffer));throw new Le(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(u){return u.equals(De.UTF8)||u.equals(De.ISO8859_1)||u.equals(De.ASCII)}static encodeFallback(u){const f=btoa(unescape(encodeURIComponent(u))).split(""),p=[];for(let m=0;m<f.length;m++)p.push(f[m].charCodeAt(0));return new Uint8Array(p)}}class ge{static castAsNonUtf8Char(u,d=null){const f=d?d.getName():this.ISO88591;return Je.decode(new Uint8Array([u]),f)}static guessEncoding(u,d){if(null!=d&&void 0!==d.get(Ce.CHARACTER_SET))return d.get(Ce.CHARACTER_SET).toString();const f=u.length;let p=!0,m=!0,v=!0,x=0,b=0,A=0,M=0,B=0,$=0,re=0,le=0,me=0,Oe=0,Be=0;const ht=u.length>3&&239===u[0]&&187===u[1]&&191===u[2];for(let Dt=0;Dt<f&&(p||m||v);Dt++){const Qe=255&u[Dt];v&&(x>0?128&Qe?x--:v=!1:128&Qe&&(64&Qe?(x++,32&Qe?(x++,16&Qe?(x++,8&Qe?v=!1:M++):A++):b++):v=!1)),p&&(Qe>127&&Qe<160?p=!1:Qe>159&&(Qe<192||215===Qe||247===Qe)&&Be++),m&&(B>0?Qe<64||127===Qe||Qe>252?m=!1:B--:128===Qe||160===Qe||Qe>239?m=!1:Qe>160&&Qe<224?($++,le=0,re++,re>me&&(me=re)):Qe>127?(B++,re=0,le++,le>Oe&&(Oe=le)):(re=0,le=0))}return v&&x>0&&(v=!1),m&&B>0&&(m=!1),v&&(ht||b+A+M>0)?ge.UTF8:m&&(ge.ASSUME_SHIFT_JIS||me>=3||Oe>=3)?ge.SHIFT_JIS:p&&m?2===me&&2===$||10*Be>=f?ge.SHIFT_JIS:ge.ISO88591:p?ge.ISO88591:m?ge.SHIFT_JIS:v?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(u,...d){let f=-1;return u.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,x,b,A,M,B){if("%%"===v)return"%";if(void 0===d[++f])return;v=A?parseInt(A.substr(1)):void 0;let re,$=M?parseInt(M.substr(1)):void 0;switch(B){case"s":re=d[f];break;case"c":re=d[f][0];break;case"f":re=parseFloat(d[f]).toFixed(v);break;case"p":re=parseFloat(d[f]).toPrecision(v);break;case"e":re=parseFloat(d[f]).toExponential(v);break;case"x":re=parseInt(d[f]).toString($||16);break;case"d":re=parseFloat(parseInt(d[f],$||10).toPrecision(v)).toFixed(0)}re="object"==typeof re?JSON.stringify(re):(+re).toString($);let le=parseInt(b),me=b&&b[0]+""=="0"?"0":" ";for(;re.length<le;)re=void 0!==x?re+me:me+re;return re})}static getBytes(u,d){return Je.encode(u,d)}static getCharCode(u,d=0){return u.charCodeAt(d)}static getCharAt(u){return String.fromCharCode(u)}}ge.SHIFT_JIS=De.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=De.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=De.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class qe{constructor(u=""){this.value=u}enableDecoding(u){return this.encoding=u,this}append(u){return this.value+="string"==typeof u?u.toString():this.encoding?ge.castAsNonUtf8Char(u,this.encoding):String.fromCharCode(u),this}appendChars(u,d,f){for(let p=d;d<d+f;p++)this.append(u[p]);return this}length(){return this.value.length}charAt(u){return this.value.charAt(u)}deleteCharAt(u){this.value=this.value.substr(0,u)+this.value.substring(u+1)}setCharAt(u,d){this.value=this.value.substr(0,u)+d+this.value.substr(u+1)}substring(u,d){return this.value.substring(u,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(u,d){this.value=this.value.substr(0,u)+d+this.value.substr(u+d.length)}}class ut{constructor(u,d,f,p){if(this.width=u,this.height=d,this.rowSize=f,this.bits=p,null==d&&(d=u),this.height=d,u<1||d<1)throw new ue("Both dimensions must be greater than 0");null==f&&(f=Math.floor((u+31)/32)),this.rowSize=f,null==p&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(u){const d=u.length,f=u[0].length,p=new ut(f,d);for(let m=0;m<d;m++){const v=u[m];for(let x=0;x<f;x++)v[x]&&p.set(x,m)}return p}static parseFromString(u,d,f){if(null===u)throw new ue("stringRepresentation cannot be null");const p=new Array(u.length);let m=0,v=0,x=-1,b=0,A=0;for(;A<u.length;)if("\n"===u.charAt(A)||"\r"===u.charAt(A)){if(m>v){if(-1===x)x=m-v;else if(m-v!==x)throw new ue("row lengths do not match");v=m,b++}A++}else if(u.substring(A,A+d.length)===d)A+=d.length,p[m]=!0,m++;else{if(u.substring(A,A+f.length)!==f)throw new ue("illegal character encountered: "+u.substring(A));A+=f.length,p[m]=!1,m++}if(m>v){if(-1===x)x=m-v;else if(m-v!==x)throw new ue("row lengths do not match");b++}const M=new ut(x,b);for(let B=0;B<m;B++)p[B]&&M.set(Math.floor(B%x),Math.floor(B/x));return M}get(u,d){const f=d*this.rowSize+Math.floor(u/32);return 0!=(this.bits[f]>>>(31&u)&1)}set(u,d){const f=d*this.rowSize+Math.floor(u/32);this.bits[f]|=1<<(31&u)&4294967295}unset(u,d){const f=d*this.rowSize+Math.floor(u/32);this.bits[f]&=~(1<<(31&u)&4294967295)}flip(u,d){const f=d*this.rowSize+Math.floor(u/32);this.bits[f]^=1<<(31&u)&4294967295}xor(u){if(this.width!==u.getWidth()||this.height!==u.getHeight()||this.rowSize!==u.getRowSize())throw new ue("input matrix dimensions do not match");const d=new be(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let m=0,v=this.height;m<v;m++){const x=m*f,b=u.getRow(m,d).getBitArray();for(let A=0;A<f;A++)p[x+A]^=b[A]}}clear(){const u=this.bits,d=u.length;for(let f=0;f<d;f++)u[f]=0}setRegion(u,d,f,p){if(d<0||u<0)throw new ue("Left and top must be nonnegative");if(p<1||f<1)throw new ue("Height and width must be at least 1");const m=u+f,v=d+p;if(v>this.height||m>this.width)throw new ue("The region must fit inside the matrix");const x=this.rowSize,b=this.bits;for(let A=d;A<v;A++){const M=A*x;for(let B=u;B<m;B++)b[M+Math.floor(B/32)]|=1<<(31&B)&4294967295}}getRow(u,d){null==d||d.getSize()<this.width?d=new be(this.width):d.clear();const f=this.rowSize,p=this.bits,m=u*f;for(let v=0;v<f;v++)d.setBulk(32*v,p[m+v]);return d}setRow(u,d){lt.arraycopy(d.getBitArray(),0,this.bits,u*this.rowSize,this.rowSize)}rotate180(){const u=this.getWidth(),d=this.getHeight();let f=new be(u),p=new be(u);for(let m=0,v=Math.floor((d+1)/2);m<v;m++)f=this.getRow(m,f),p=this.getRow(d-1-m,p),f.reverse(),p.reverse(),this.setRow(m,p),this.setRow(d-1-m,f)}getEnclosingRectangle(){const d=this.height,f=this.rowSize,p=this.bits;let m=this.width,v=d,x=-1,b=-1;for(let A=0;A<d;A++)for(let M=0;M<f;M++){const B=p[A*f+M];if(0!==B){if(A<v&&(v=A),A>b&&(b=A),32*M<m){let $=0;for(;!(B<<31-$&4294967295);)$++;32*M+$<m&&(m=32*M+$)}if(32*M+31>x){let $=31;for(;!(B>>>$);)$--;32*M+$>x&&(x=32*M+$)}}}return x<m||b<v?null:Int32Array.from([m,v,x-m+1,b-v+1])}getTopLeftOnBit(){const u=this.rowSize,d=this.bits;let f=0;for(;f<d.length&&0===d[f];)f++;if(f===d.length)return null;const p=f/u;let m=f%u*32;const v=d[f];let x=0;for(;!(v<<31-x&4294967295);)x++;return m+=x,Int32Array.from([m,p])}getBottomRightOnBit(){const u=this.rowSize,d=this.bits;let f=d.length-1;for(;f>=0&&0===d[f];)f--;if(f<0)return null;const p=Math.floor(f/u);let m=32*Math.floor(f%u);const v=d[f];let x=31;for(;!(v>>>x);)x--;return m+=x,Int32Array.from([m,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(u){return u instanceof ut&&this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&Xe.equals(this.bits,u.bits)}hashCode(){let u=this.width;return u=31*u+this.width,u=31*u+this.height,u=31*u+this.rowSize,u=31*u+Xe.hashCode(this.bits),u}toString(u="X ",d="  ",f="\n"){return this.buildToString(u,d,f)}buildToString(u,d,f){let p=new qe;for(let m=0,v=this.height;m<v;m++){for(let x=0,b=this.width;x<b;x++)p.append(this.get(x,m)?u:d);p.append(f)}return p.toString()}clone(){return new ut(this.width,this.height,this.rowSize,this.bits.slice())}}let _e=(()=>{class S extends de{static getNotFoundInstance(){return new S}}return S.kind="NotFoundException",S})();class rt extends ft{constructor(u){super(u),this.luminances=rt.EMPTY,this.buckets=new Int32Array(rt.LUMINANCE_BUCKETS)}getBlackRow(u,d){const f=this.getLuminanceSource(),p=f.getWidth();null==d||d.getSize()<p?d=new be(p):d.clear(),this.initArrays(p);const m=f.getRow(u,this.luminances),v=this.buckets;for(let b=0;b<p;b++)v[(255&m[b])>>rt.LUMINANCE_SHIFT]++;const x=rt.estimateBlackPoint(v);if(p<3)for(let b=0;b<p;b++)(255&m[b])<x&&d.set(b);else{let b=255&m[0],A=255&m[1];for(let M=1;M<p-1;M++){const B=255&m[M+1];(4*A-b-B)/2<x&&d.set(M),b=A,A=B}}return d}getBlackMatrix(){const u=this.getLuminanceSource(),d=u.getWidth(),f=u.getHeight(),p=new ut(d,f);this.initArrays(d);const m=this.buckets;for(let b=1;b<5;b++){const A=Math.floor(f*b/5),M=u.getRow(A,this.luminances),B=Math.floor(4*d/5);for(let $=Math.floor(d/5);$<B;$++)m[(255&M[$])>>rt.LUMINANCE_SHIFT]++}const v=rt.estimateBlackPoint(m),x=u.getMatrix();for(let b=0;b<f;b++){const A=b*d;for(let M=0;M<d;M++)(255&x[A+M])<v&&p.set(M,b)}return p}createBinarizer(u){return new rt(u)}initArrays(u){this.luminances.length<u&&(this.luminances=new Uint8ClampedArray(u));const d=this.buckets;for(let f=0;f<rt.LUMINANCE_BUCKETS;f++)d[f]=0}static estimateBlackPoint(u){const d=u.length;let f=0,p=0,m=0;for(let M=0;M<d;M++)u[M]>m&&(p=M,m=u[M]),u[M]>f&&(f=u[M]);let v=0,x=0;for(let M=0;M<d;M++){const B=M-p,$=u[M]*B*B;$>x&&(v=M,x=$)}if(p>v){const M=p;p=v,v=M}if(v-p<=d/16)throw new _e;let b=v-1,A=-1;for(let M=v-1;M>p;M--){const B=M-p,$=B*B*(v-M)*(f-u[M]);$>A&&(b=M,A=$)}return b<<rt.LUMINANCE_SHIFT}}rt.LUMINANCE_BITS=5,rt.LUMINANCE_SHIFT=8-rt.LUMINANCE_BITS,rt.LUMINANCE_BUCKETS=1<<rt.LUMINANCE_BITS,rt.EMPTY=Uint8ClampedArray.from([0]);class it extends rt{constructor(u){super(u),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const u=this.getLuminanceSource(),d=u.getWidth(),f=u.getHeight();if(d>=it.MINIMUM_DIMENSION&&f>=it.MINIMUM_DIMENSION){const p=u.getMatrix();let m=d>>it.BLOCK_SIZE_POWER;d&it.BLOCK_SIZE_MASK&&m++;let v=f>>it.BLOCK_SIZE_POWER;f&it.BLOCK_SIZE_MASK&&v++;const x=it.calculateBlackPoints(p,m,v,d,f),b=new ut(d,f);it.calculateThresholdForBlock(p,m,v,d,f,x,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(u){return new it(u)}static calculateThresholdForBlock(u,d,f,p,m,v,x){const b=m-it.BLOCK_SIZE,A=p-it.BLOCK_SIZE;for(let M=0;M<f;M++){let B=M<<it.BLOCK_SIZE_POWER;B>b&&(B=b);const $=it.cap(M,2,f-3);for(let re=0;re<d;re++){let le=re<<it.BLOCK_SIZE_POWER;le>A&&(le=A);const me=it.cap(re,2,d-3);let Oe=0;for(let ht=-2;ht<=2;ht++){const Dt=v[$+ht];Oe+=Dt[me-2]+Dt[me-1]+Dt[me]+Dt[me+1]+Dt[me+2]}it.thresholdBlock(u,le,B,Oe/25,p,x)}}}static cap(u,d,f){return u<d?d:u>f?f:u}static thresholdBlock(u,d,f,p,m,v){for(let x=0,b=f*m+d;x<it.BLOCK_SIZE;x++,b+=m)for(let A=0;A<it.BLOCK_SIZE;A++)(255&u[b+A])<=p&&v.set(d+A,f+x)}static calculateBlackPoints(u,d,f,p,m){const v=m-it.BLOCK_SIZE,x=p-it.BLOCK_SIZE,b=new Array(f);for(let A=0;A<f;A++){b[A]=new Int32Array(d);let M=A<<it.BLOCK_SIZE_POWER;M>v&&(M=v);for(let B=0;B<d;B++){let $=B<<it.BLOCK_SIZE_POWER;$>x&&($=x);let re=0,le=255,me=0;for(let Be=0,ht=M*p+$;Be<it.BLOCK_SIZE;Be++,ht+=p){for(let Dt=0;Dt<it.BLOCK_SIZE;Dt++){const Qe=255&u[ht+Dt];re+=Qe,Qe<le&&(le=Qe),Qe>me&&(me=Qe)}if(me-le>it.MIN_DYNAMIC_RANGE)for(Be++,ht+=p;Be<it.BLOCK_SIZE;Be++,ht+=p)for(let Dt=0;Dt<it.BLOCK_SIZE;Dt++)re+=255&u[ht+Dt]}let Oe=re>>2*it.BLOCK_SIZE_POWER;if(me-le<=it.MIN_DYNAMIC_RANGE&&(Oe=le/2,A>0&&B>0)){const Be=(b[A-1][B]+2*b[A][B-1]+b[A-1][B-1])/4;le<Be&&(Oe=Be)}b[A][B]=Oe}}return b}}it.BLOCK_SIZE_POWER=3,it.BLOCK_SIZE=1<<it.BLOCK_SIZE_POWER,it.BLOCK_SIZE_MASK=it.BLOCK_SIZE-1,it.MINIMUM_DIMENSION=5*it.BLOCK_SIZE,it.MIN_DYNAMIC_RANGE=24;class xt{constructor(u,d){this.width=u,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(u,d,f,p){throw new Le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Le("This luminance source does not support rotation by 45 degrees.")}toString(){const u=new Uint8ClampedArray(this.width);let d=new qe;for(let f=0;f<this.height;f++){const p=this.getRow(f,u);for(let m=0;m<this.width;m++){const v=255&p[m];let x;x=v<64?"#":v<128?"+":v<192?".":" ",d.append(x)}d.append("\n")}return d.toString()}}class st extends xt{constructor(u){super(u.getWidth(),u.getHeight()),this.delegate=u}getRow(u,d){const f=this.delegate.getRow(u,d),p=this.getWidth();for(let m=0;m<p;m++)f[m]=255-(255&f[m]);return f}getMatrix(){const u=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(d);for(let p=0;p<d;p++)f[p]=255-(255&u[p]);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(u,d,f,p){return new st(this.delegate.crop(u,d,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new st(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new st(this.delegate.rotateCounterClockwise45())}}class $t extends xt{constructor(u){super(u.width,u.height),this.canvas=u,this.tempCanvasElement=null,this.buffer=$t.makeBufferFromCanvasImageData(u)}static makeBufferFromCanvasImageData(u){const d=u.getContext("2d").getImageData(0,0,u.width,u.height);return $t.toGrayscaleBuffer(d.data,u.width,u.height)}static toGrayscaleBuffer(u,d,f){const p=new Uint8ClampedArray(d*f);for(let m=0,v=0,x=u.length;m<x;m+=4,v++){let b;b=0===u[m+3]?255:306*u[m]+601*u[m+1]+117*u[m+2]+512>>10,p[v]=b}return p}getRow(u,d){if(u<0||u>=this.getHeight())throw new ue("Requested row is outside the image: "+u);const f=this.getWidth(),p=u*f;return null===d?d=this.buffer.slice(p,p+f):(d.length<f&&(d=new Uint8ClampedArray(f)),d.set(this.buffer.slice(p,p+f))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(u,d,f,p){return super.crop(u,d,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const u=this.canvas.ownerDocument.createElement("canvas");u.width=this.canvas.width,u.height=this.canvas.height,this.tempCanvasElement=u}return this.tempCanvasElement}rotate(u){const d=this.getTempCanvasElement(),f=d.getContext("2d"),p=u*$t.DEGREE_TO_RADIANS,m=this.canvas.width,v=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(p))*m+Math.abs(Math.sin(p))*v),b=Math.ceil(Math.abs(Math.sin(p))*m+Math.abs(Math.cos(p))*v);return d.width=x,d.height=b,f.translate(x/2,b/2),f.rotate(p),f.drawImage(this.canvas,m/-2,v/-2),this.buffer=$t.makeBufferFromCanvasImageData(d),this}invert(){return new st(this)}}$t.DEGREE_TO_RADIANS=Math.PI/180;class $e{constructor(u,d,f){this.deviceId=u,this.label=d,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var He=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(S,u,d,f){return new(d||(d=Promise))(function(m,v){function x(M){try{A(f.next(M))}catch(B){v(B)}}function b(M){try{A(f.throw(M))}catch(B){v(B)}}function A(M){M.done?m(M.value):function p(m){return m instanceof d?m:new d(function(v){v(m)})}(M.value).then(x,b)}A((f=f.apply(S,u||[])).next())})};class ot{constructor(u,d=500,f){this.reader=u,this.timeBetweenScansMillis=d,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(u){this._timeBetweenDecodingAttempts=u<0?0:u}set hints(u){this._hints=u||null}get hints(){return this._hints}listVideoInputDevices(){return He(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const u=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const f of u){const p="video"===f.kind?"videoinput":f.kind;"videoinput"===p&&d.push({deviceId:f.deviceId||f.id,label:f.label||`Video device ${d.length+1}`,kind:p,groupId:f.groupId})}return d})}getVideoInputDevices(){return He(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new $e(d.deviceId,d.label))})}findDeviceById(u){return He(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(f=>f.deviceId===u):null})}decodeFromInputVideoDevice(u,d){return He(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(u,d)})}decodeOnceFromVideoDevice(u,d){return He(this,void 0,void 0,function*(){let f;this.reset(),f=u?{deviceId:{exact:u}}:{facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,d)})}decodeOnceFromConstraints(u,d){return He(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(u);return yield this.decodeOnceFromStream(f,d)})}decodeOnceFromStream(u,d){return He(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(u,d);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(u,d,f){return He(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(u,d,f)})}decodeFromVideoDevice(u,d,f){return He(this,void 0,void 0,function*(){let p;p=u?{deviceId:{exact:u}}:{facingMode:"environment"};const m={video:p};return yield this.decodeFromConstraints(m,d,f)})}decodeFromConstraints(u,d,f){return He(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(u);return yield this.decodeFromStream(p,d,f)})}decodeFromStream(u,d,f){return He(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(u,d);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(u,d){return He(this,void 0,void 0,function*(){const f=this.prepareVideoElement(d);return this.addVideoSource(f,u),this.videoElement=f,this.stream=u,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(u){return new Promise((d,f)=>this.playVideoOnLoad(u,()=>d()))}playVideoOnLoad(u,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(u),u.addEventListener("ended",this.videoEndedListener),u.addEventListener("canplay",this.videoCanPlayListener),u.addEventListener("playing",d),this.tryPlayVideo(u)}isVideoPlaying(u){return u.currentTime>0&&!u.paused&&!u.ended&&u.readyState>2}tryPlayVideo(u){return He(this,void 0,void 0,function*(){if(this.isVideoPlaying(u))console.warn("Trying to play video that is already playing.");else try{yield u.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(u,d){const f=document.getElementById(u);if(!f)throw new Ee(`element with id '${u}' not found`);if(f.nodeName.toLowerCase()!==d.toLowerCase())throw new Ee(`element with id '${u}' must be an ${d} element`);return f}decodeFromImage(u,d){if(!u&&!d)throw new Ee("either imageElement with a src set or an url must be provided");return d&&!u?this.decodeFromImageUrl(d):this.decodeFromImageElement(u)}decodeFromVideo(u,d){if(!u&&!d)throw new Ee("Either an element with a src set or an URL must be provided");return d&&!u?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(u)}decodeFromVideoContinuously(u,d,f){if(void 0===u&&void 0===d)throw new Ee("Either an element with a src set or an URL must be provided");return d&&!u?this.decodeFromVideoUrlContinuously(d,f):this.decodeFromVideoElementContinuously(u,f)}decodeFromImageElement(u){if(!u)throw new Ee("An image element must be provided.");this.reset();const d=this.prepareImageElement(u);let f;return this.imageElement=d,f=this.isImageLoaded(d)?this.decodeOnce(d,!1,!0):this._decodeOnLoadImage(d),f}decodeFromVideoElement(u){const d=this._decodeFromVideoElementSetup(u);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(u,d){const f=this._decodeFromVideoElementSetup(u);return this._decodeOnLoadVideoContinuously(f,d)}_decodeFromVideoElementSetup(u){if(!u)throw new Ee("A video element must be provided.");this.reset();const d=this.prepareVideoElement(u);return this.videoElement=d,d}decodeFromImageUrl(u){if(!u)throw new Ee("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const f=this._decodeOnLoadImage(d);return d.src=u,f}decodeFromVideoUrl(u){if(!u)throw new Ee("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),f=this.decodeFromVideoElement(d);return d.src=u,f}decodeFromVideoUrlContinuously(u,d){if(!u)throw new Ee("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,d);return f.src=u,p}_decodeOnLoadImage(u){return new Promise((d,f)=>{this.imageLoadedListener=()=>this.decodeOnce(u,!1,!0).then(d,f),u.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(u){return He(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(u),yield this.decodeOnce(u)})}_decodeOnLoadVideoContinuously(u,d){return He(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(u),this.decodeContinuously(u,d)})}isImageLoaded(u){return!(!u.complete||0===u.naturalWidth)}prepareImageElement(u){let d;return typeof u>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),"string"==typeof u&&(d=this.getMediaElement(u,"img")),u instanceof HTMLImageElement&&(d=u),d}prepareVideoElement(u){let d;return!u&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),"string"==typeof u&&(d=this.getMediaElement(u,"video")),u instanceof HTMLVideoElement&&(d=u),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(u,d=!0,f=!0){this._stopAsyncDecode=!1;const p=(m,v)=>{if(this._stopAsyncDecode)return v(new _e("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{m(this.decode(u))}catch(x){if(d&&x instanceof _e||(x instanceof Fe||x instanceof ye)&&f)return setTimeout(p,this._timeBetweenDecodingAttempts,m,v);v(x)}};return new Promise((m,v)=>p(m,v))}decodeContinuously(u,d){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const p=this.decode(u);d(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){d(null,p),(p instanceof Fe||p instanceof ye||p instanceof _e)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(u){const d=this.createBinaryBitmap(u);return this.decodeBitmap(d)}_isHTMLVideoElement(u){return 0!==u.videoWidth}drawFrameOnCanvas(u,d,f){d||(d={sx:0,sy:0,sWidth:u.videoWidth,sHeight:u.videoHeight,dx:0,dy:0,dWidth:u.videoWidth,dHeight:u.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(u,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(u,d,f=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:u.naturalWidth,sHeight:u.naturalHeight,dx:0,dy:0,dWidth:u.naturalWidth,dHeight:u.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(u,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(u){this.getCaptureCanvasContext(u),this._isHTMLVideoElement(u)?this.drawFrameOnCanvas(u):this.drawImageOnCanvas(u);const f=this.getCaptureCanvas(u),p=new $t(f),m=new it(p);return new tt(m)}getCaptureCanvasContext(u){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(u).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(u){if(!this.captureCanvas){const d=this.createCaptureCanvas(u);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(u){return this.reader.decode(u,this._hints)}createCaptureCanvas(u){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let f,p;return typeof u<"u"&&(u instanceof HTMLVideoElement?(f=u.videoWidth,p=u.videoHeight):u instanceof HTMLImageElement&&(f=u.naturalWidth||u.width,p=u.naturalHeight||u.height)),d.style.width=f+"px",d.style.height=p+"px",d.width=f,d.height=p,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(u=>u.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(u,d){try{u.srcObject=d}catch{u.src=URL.createObjectURL(d)}}cleanVideoSource(u){try{u.srcObject=null}catch{u.src=""}this.videoElement.removeAttribute("src")}}class Ye{constructor(u,d,f=(null==d?0:8*d.length),p,m,v=lt.currentTimeMillis()){this.text=u,this.rawBytes=d,this.numBits=f,this.resultPoints=p,this.format=m,this.timestamp=v,this.text=u,this.rawBytes=d,this.numBits=null==f?null==d?0:8*d.length:f,this.resultPoints=p,this.format=m,this.resultMetadata=null,this.timestamp=null==v?lt.currentTimeMillis():v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(u,d){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(u,d)}putAllMetadata(u){null!==u&&(this.resultMetadata=null===this.resultMetadata?u:new Map(u))}addResultPoints(u){const d=this.resultPoints;if(null===d)this.resultPoints=u;else if(null!==u&&u.length>0){const f=new Array(d.length+u.length);lt.arraycopy(d,0,f,0,d.length),lt.arraycopy(u,0,f,d.length,u.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Rt=function(S){return S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",S}(Rt||{}),gt=Rt,Wt=function(S){return S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",S}(Wt||{}),Pt=Wt;class Nn{constructor(u,d,f,p,m=-1,v=-1){this.rawBytes=u,this.text=d,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=m,this.structuredAppendParity=v,this.numBits=null==u?0:8*u.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(u){this.numBits=u}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(u){this.errorsCorrected=u}getErasures(){return this.erasures}setErasures(u){this.erasures=u}getOther(){return this.other}setOther(u){this.other=u}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Gt{exp(u){return this.expTable[u]}log(u){if(0===u)throw new ue;return this.logTable[u]}static addOrSubtract(u,d){return u^d}}class Pn{constructor(u,d){if(0===d.length)throw new ue;this.field=u;const f=d.length;if(f>1&&0===d[0]){let p=1;for(;p<f&&0===d[p];)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),lt.arraycopy(d,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(u){return this.coefficients[this.coefficients.length-1-u]}evaluateAt(u){if(0===u)return this.getCoefficient(0);const d=this.coefficients;let f;if(1===u){f=0;for(let v=0,x=d.length;v!==x;v++)f=Gt.addOrSubtract(f,d[v]);return f}f=d[0];const p=d.length,m=this.field;for(let v=1;v<p;v++)f=Gt.addOrSubtract(m.multiply(u,f),d[v]);return f}addOrSubtract(u){if(!this.field.equals(u.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(this.isZero())return u;if(u.isZero())return this;let d=this.coefficients,f=u.coefficients;if(d.length>f.length){const v=d;d=f,f=v}let p=new Int32Array(f.length);const m=f.length-d.length;lt.arraycopy(f,0,p,0,m);for(let v=m;v<f.length;v++)p[v]=Gt.addOrSubtract(d[v-m],f[v]);return new Pn(this.field,p)}multiply(u){if(!this.field.equals(u.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(this.isZero()||u.isZero())return this.field.getZero();const d=this.coefficients,f=d.length,p=u.coefficients,m=p.length,v=new Int32Array(f+m-1),x=this.field;for(let b=0;b<f;b++){const A=d[b];for(let M=0;M<m;M++)v[b+M]=Gt.addOrSubtract(v[b+M],x.multiply(A,p[M]))}return new Pn(x,v)}multiplyScalar(u){if(0===u)return this.field.getZero();if(1===u)return this;const d=this.coefficients.length,f=this.field,p=new Int32Array(d),m=this.coefficients;for(let v=0;v<d;v++)p[v]=f.multiply(m[v],u);return new Pn(f,p)}multiplyByMonomial(u,d){if(u<0)throw new ue;if(0===d)return this.field.getZero();const f=this.coefficients,p=f.length,m=new Int32Array(p+u),v=this.field;for(let x=0;x<p;x++)m[x]=v.multiply(f[x],d);return new Pn(v,m)}divide(u){if(!this.field.equals(u.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(u.isZero())throw new ue("Divide by 0");const d=this.field;let f=d.getZero(),p=this;const m=u.getCoefficient(u.getDegree()),v=d.inverse(m);for(;p.getDegree()>=u.getDegree()&&!p.isZero();){const x=p.getDegree()-u.getDegree(),b=d.multiply(p.getCoefficient(p.getDegree()),v),A=u.multiplyByMonomial(x,b),M=d.buildMonomial(x,b);f=f.addOrSubtract(M),p=p.addOrSubtract(A)}return[f,p]}toString(){let u="";for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);if(0!==f){if(f<0?(u+=" - ",f=-f):u.length>0&&(u+=" + "),0===d||1!==f){const p=this.field.log(f);0===p?u+="1":1===p?u+="a":(u+="a^",u+=p)}0!==d&&(1===d?u+="x":(u+="x^",u+=d))}}return u}}let Wr=(()=>{class S extends de{}return S.kind="ArithmeticException",S})();class pn extends Gt{constructor(u,d,f){super(),this.primitive=u,this.size=d,this.generatorBase=f;const p=new Int32Array(d);let m=1;for(let x=0;x<d;x++)p[x]=m,m*=2,m>=d&&(m^=u,m&=d-1);this.expTable=p;const v=new Int32Array(d);for(let x=0;x<d-1;x++)v[p[x]]=x;this.logTable=v,this.zero=new Pn(this,Int32Array.from([0])),this.one=new Pn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(u,d){if(u<0)throw new ue;if(0===d)return this.zero;const f=new Int32Array(u+1);return f[0]=d,new Pn(this,f)}inverse(u){if(0===u)throw new Wr;return this.expTable[this.size-this.logTable[u]-1]}multiply(u,d){return 0===u||0===d?0:this.expTable[(this.logTable[u]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Se.toHexString(this.primitive)+","+this.size+")"}equals(u){return u===this}}pn.AZTEC_DATA_12=new pn(4201,4096,1),pn.AZTEC_DATA_10=new pn(1033,1024,1),pn.AZTEC_DATA_6=new pn(67,64,1),pn.AZTEC_PARAM=new pn(19,16,1),pn.QR_CODE_FIELD_256=new pn(285,256,0),pn.DATA_MATRIX_FIELD_256=new pn(301,256,1),pn.AZTEC_DATA_8=pn.DATA_MATRIX_FIELD_256,pn.MAXICODE_FIELD_64=pn.AZTEC_DATA_6;let Wo=(()=>{class S extends de{}return S.kind="ReedSolomonException",S})(),Vi=(()=>{class S extends de{}return S.kind="IllegalStateException",S})();class lo{constructor(u){this.field=u}decode(u,d){const f=this.field,p=new Pn(f,u),m=new Int32Array(d);let v=!0;for(let re=0;re<d;re++){const le=p.evaluateAt(f.exp(re+f.getGeneratorBase()));m[m.length-1-re]=le,0!==le&&(v=!1)}if(v)return;const x=new Pn(f,m),b=this.runEuclideanAlgorithm(f.buildMonomial(d,1),x,d),M=b[1],B=this.findErrorLocations(b[0]),$=this.findErrorMagnitudes(M,B);for(let re=0;re<B.length;re++){const le=u.length-1-f.log(B[re]);if(le<0)throw new Wo("Bad error location");u[le]=pn.addOrSubtract(u[le],$[re])}}runEuclideanAlgorithm(u,d,f){if(u.getDegree()<d.getDegree()){const re=u;u=d,d=re}const p=this.field;let m=u,v=d,x=p.getZero(),b=p.getOne();for(;v.getDegree()>=(f/2|0);){let re=m,le=x;if(m=v,x=b,m.isZero())throw new Wo("r_{i-1} was zero");v=re;let me=p.getZero();const Oe=m.getCoefficient(m.getDegree()),Be=p.inverse(Oe);for(;v.getDegree()>=m.getDegree()&&!v.isZero();){const ht=v.getDegree()-m.getDegree(),Dt=p.multiply(v.getCoefficient(v.getDegree()),Be);me=me.addOrSubtract(p.buildMonomial(ht,Dt)),v=v.addOrSubtract(m.multiplyByMonomial(ht,Dt))}if(b=me.multiply(x).addOrSubtract(le),v.getDegree()>=m.getDegree())throw new Vi("Division algorithm failed to reduce polynomial?")}const A=b.getCoefficient(0);if(0===A)throw new Wo("sigmaTilde(0) was zero");const M=p.inverse(A);return[b.multiplyScalar(M),v.multiplyScalar(M)]}findErrorLocations(u){const d=u.getDegree();if(1===d)return Int32Array.from([u.getCoefficient(1)]);const f=new Int32Array(d);let p=0;const m=this.field;for(let v=1;v<m.getSize()&&p<d;v++)0===u.evaluateAt(v)&&(f[p]=m.inverse(v),p++);if(p!==d)throw new Wo("Error locator degree does not match number of roots");return f}findErrorMagnitudes(u,d){const f=d.length,p=new Int32Array(f),m=this.field;for(let v=0;v<f;v++){const x=m.inverse(d[v]);let b=1;for(let A=0;A<f;A++)if(v!==A){const M=m.multiply(d[A],x);b=m.multiply(b,1&M?-2&M:1|M)}p[v]=m.multiply(u.evaluateAt(x),m.inverse(b)),0!==m.getGeneratorBase()&&(p[v]=m.multiply(p[v],x))}return p}}var Gr=function(S){return S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY",S}(Gr||{});let ia=(()=>{class S{decode(d){this.ddata=d;let f=d.getBits(),p=this.extractBits(f),m=this.correctBits(p),v=S.convertBoolArrayToByteArray(m),x=S.getEncodedData(m),b=new Nn(v,x,null,null);return b.setNumBits(m.length),b}static highLevelDecode(d){return this.getEncodedData(d)}static getEncodedData(d){let f=d.length,p=Gr.UPPER,m=Gr.UPPER,v="",x=0;for(;x<f;)if(m===Gr.BINARY){if(f-x<5)break;let b=S.readCode(d,x,5);if(x+=5,0===b){if(f-x<11)break;b=S.readCode(d,x,11)+31,x+=11}for(let A=0;A<b;A++){if(f-x<8){x=f;break}const M=S.readCode(d,x,8);v+=ge.castAsNonUtf8Char(M),x+=8}m=p}else{let b=m===Gr.DIGIT?4:5;if(f-x<b)break;let A=S.readCode(d,x,b);x+=b;let M=S.getCharacter(m,A);M.startsWith("CTRL_")?(p=m,m=S.getTable(M.charAt(5)),"L"===M.charAt(6)&&(p=m)):(v+=M,m=p)}return v}static getTable(d){switch(d){case"L":return Gr.LOWER;case"P":return Gr.PUNCT;case"M":return Gr.MIXED;case"D":return Gr.DIGIT;case"B":return Gr.BINARY;default:return Gr.UPPER}}static getCharacter(d,f){switch(d){case Gr.UPPER:return S.UPPER_TABLE[f];case Gr.LOWER:return S.LOWER_TABLE[f];case Gr.MIXED:return S.MIXED_TABLE[f];case Gr.PUNCT:return S.PUNCT_TABLE[f];case Gr.DIGIT:return S.DIGIT_TABLE[f];default:throw new Vi("Bad table")}}correctBits(d){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=pn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=pn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=pn.AZTEC_DATA_10):(p=12,f=pn.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),v=d.length/p;if(v<m)throw new ye;let x=d.length%p,b=new Int32Array(v);for(let re=0;re<v;re++,x+=p)b[re]=S.readCode(d,x,p);try{new lo(f).decode(b,v-m)}catch(re){throw new ye(re)}let A=(1<<p)-1,M=0;for(let re=0;re<m;re++){let le=b[re];if(0===le||le===A)throw new ye;(1===le||le===A-1)&&M++}let B=new Array(m*p-M),$=0;for(let re=0;re<m;re++){let le=b[re];if(1===le||le===A-1)B.fill(le>1,$,$+p-1),$+=p-1;else for(let me=p-1;me>=0;--me)B[$++]=0!=(le&1<<me)}return B}extractBits(d){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),m=(f?11:14)+4*p,v=new Int32Array(m),x=new Array(this.totalBitsInLayer(p,f));if(f)for(let b=0;b<v.length;b++)v[b]=b;else{let b=m+1+2*Se.truncDivision(Se.truncDivision(m,2)-1,15),A=m/2,M=Se.truncDivision(b,2);for(let B=0;B<A;B++){let $=B+Se.truncDivision(B,15);v[A-B-1]=M-$-1,v[A+B]=M+$+1}}for(let b=0,A=0;b<p;b++){let M=4*(p-b)+(f?9:12),B=2*b,$=m-1-B;for(let re=0;re<M;re++){let le=2*re;for(let me=0;me<2;me++)x[A+le+me]=d.get(v[B+me],v[B+re]),x[A+2*M+le+me]=d.get(v[B+re],v[$-me]),x[A+4*M+le+me]=d.get(v[$-me],v[$-re]),x[A+6*M+le+me]=d.get(v[$-re],v[B+me])}A+=8*M}return x}static readCode(d,f,p){let m=0;for(let v=f;v<f+p;v++)m<<=1,d[v]&&(m|=1);return m}static readByte(d,f){let p=d.length-f;return p>=8?S.readCode(d,f,8):S.readCode(d,f,p)<<8-p}static convertBoolArrayToByteArray(d){let f=new Uint8Array((d.length+7)/8);for(let p=0;p<f.length;p++)f[p]=S.readByte(d,8*p);return f}totalBitsInLayer(d,f){return((f?88:112)+16*d)*d}}return S.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],S.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],S.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],S.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],S.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],S})();class yn{constructor(){}static round(u){return NaN===u?0:u<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:u>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:u+(u<0?-.5:.5)|0}static distance(u,d,f,p){const m=u-f,v=d-p;return Math.sqrt(m*m+v*v)}static sum(u){let d=0;for(let f=0,p=u.length;f!==p;f++)d+=u[f];return d}}class Ns{static floatToIntBits(u){return u}}Ns.MAX_VALUE=Number.MAX_SAFE_INTEGER;class kt{constructor(u,d){this.x=u,this.y=d}getX(){return this.x}getY(){return this.y}equals(u){return u instanceof kt&&this.x===u.x&&this.y===u.y}hashCode(){return 31*Ns.floatToIntBits(this.x)+Ns.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(u){const d=this.distance(u[0],u[1]),f=this.distance(u[1],u[2]),p=this.distance(u[0],u[2]);let m,v,x;if(f>=d&&f>=p?(v=u[0],m=u[1],x=u[2]):p>=f&&p>=d?(v=u[1],m=u[0],x=u[2]):(v=u[2],m=u[0],x=u[1]),this.crossProductZ(m,v,x)<0){const b=m;m=x,x=b}u[0]=m,u[1]=v,u[2]=x}static distance(u,d){return yn.distance(u.x,u.y,d.x,d.y)}static crossProductZ(u,d,f){const p=d.x,m=d.y;return(f.x-p)*(u.y-m)-(f.y-m)*(u.x-p)}}class uo{constructor(u,d){this.bits=u,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class So extends uo{constructor(u,d,f,p,m){super(u,d),this.compact=f,this.nbDatablocks=p,this.nbLayers=m}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Zr=(()=>{class S{constructor(d,f,p,m){this.image=d,this.height=d.getHeight(),this.width=d.getWidth(),null==f&&(f=S.INIT_SIZE),null==p&&(p=d.getWidth()/2|0),null==m&&(m=d.getHeight()/2|0);const v=f/2|0;if(this.leftInit=p-v,this.rightInit=p+v,this.upInit=m-v,this.downInit=m+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new _e}detect(){let d=this.leftInit,f=this.rightInit,p=this.upInit,m=this.downInit,v=!1,x=!0,b=!1,A=!1,M=!1,B=!1,$=!1;const re=this.width,le=this.height;for(;x;){x=!1;let me=!0;for(;(me||!A)&&f<re;)me=this.containsBlackPoint(p,m,f,!1),me?(f++,x=!0,A=!0):A||f++;if(f>=re){v=!0;break}let Oe=!0;for(;(Oe||!M)&&m<le;)Oe=this.containsBlackPoint(d,f,m,!0),Oe?(m++,x=!0,M=!0):M||m++;if(m>=le){v=!0;break}let Be=!0;for(;(Be||!B)&&d>=0;)Be=this.containsBlackPoint(p,m,d,!1),Be?(d--,x=!0,B=!0):B||d--;if(d<0){v=!0;break}let ht=!0;for(;(ht||!$)&&p>=0;)ht=this.containsBlackPoint(d,f,p,!0),ht?(p--,x=!0,$=!0):$||p--;if(p<0){v=!0;break}x&&(b=!0)}if(!v&&b){const me=f-d;let Oe=null;for(let Qe=1;null===Oe&&Qe<me;Qe++)Oe=this.getBlackPointOnSegment(d,m-Qe,d+Qe,m);if(null==Oe)throw new _e;let Be=null;for(let Qe=1;null===Be&&Qe<me;Qe++)Be=this.getBlackPointOnSegment(d,p+Qe,d+Qe,p);if(null==Be)throw new _e;let ht=null;for(let Qe=1;null===ht&&Qe<me;Qe++)ht=this.getBlackPointOnSegment(f,p+Qe,f-Qe,p);if(null==ht)throw new _e;let Dt=null;for(let Qe=1;null===Dt&&Qe<me;Qe++)Dt=this.getBlackPointOnSegment(f,m-Qe,f-Qe,m);if(null==Dt)throw new _e;return this.centerEdges(Dt,Oe,ht,Be)}throw new _e}getBlackPointOnSegment(d,f,p,m){const v=yn.round(yn.distance(d,f,p,m)),x=(p-d)/v,b=(m-f)/v,A=this.image;for(let M=0;M<v;M++){const B=yn.round(d+M*x),$=yn.round(f+M*b);if(A.get(B,$))return new kt(B,$)}return null}centerEdges(d,f,p,m){const v=d.getX(),x=d.getY(),b=f.getX(),A=f.getY(),M=p.getX(),B=p.getY(),$=m.getX(),re=m.getY(),le=S.CORR;return v<this.width/2?[new kt($-le,re+le),new kt(b+le,A+le),new kt(M-le,B-le),new kt(v+le,x-le)]:[new kt($+le,re+le),new kt(b+le,A-le),new kt(M-le,B+le),new kt(v-le,x-le)]}containsBlackPoint(d,f,p,m){const v=this.image;if(m){for(let x=d;x<=f;x++)if(v.get(x,p))return!0}else for(let x=d;x<=f;x++)if(v.get(p,x))return!0;return!1}}return S.INIT_SIZE=10,S.CORR=1,S})();class Go{static checkAndNudgePoints(u,d){const f=u.getWidth(),p=u.getHeight();let m=!0;for(let v=0;v<d.length&&m;v+=2){const x=Math.floor(d[v]),b=Math.floor(d[v+1]);if(x<-1||x>f||b<-1||b>p)throw new _e;m=!1,-1===x?(d[v]=0,m=!0):x===f&&(d[v]=f-1,m=!0),-1===b?(d[v+1]=0,m=!0):b===p&&(d[v+1]=p-1,m=!0)}m=!0;for(let v=d.length-2;v>=0&&m;v-=2){const x=Math.floor(d[v]),b=Math.floor(d[v+1]);if(x<-1||x>f||b<-1||b>p)throw new _e;m=!1,-1===x?(d[v]=0,m=!0):x===f&&(d[v]=f-1,m=!0),-1===b?(d[v+1]=0,m=!0):b===p&&(d[v+1]=p-1,m=!0)}}}class qr{constructor(u,d,f,p,m,v,x,b,A){this.a11=u,this.a21=d,this.a31=f,this.a12=p,this.a22=m,this.a32=v,this.a13=x,this.a23=b,this.a33=A}static quadrilateralToQuadrilateral(u,d,f,p,m,v,x,b,A,M,B,$,re,le,me,Oe){const Be=qr.quadrilateralToSquare(u,d,f,p,m,v,x,b);return qr.squareToQuadrilateral(A,M,B,$,re,le,me,Oe).times(Be)}transformPoints(u){const d=u.length,f=this.a11,p=this.a12,m=this.a13,v=this.a21,x=this.a22,b=this.a23,A=this.a31,M=this.a32,B=this.a33;for(let $=0;$<d;$+=2){const re=u[$],le=u[$+1],me=m*re+b*le+B;u[$]=(f*re+v*le+A)/me,u[$+1]=(p*re+x*le+M)/me}}transformPointsWithValues(u,d){const f=this.a11,p=this.a12,m=this.a13,v=this.a21,x=this.a22,b=this.a23,A=this.a31,M=this.a32,B=this.a33,$=u.length;for(let re=0;re<$;re++){const le=u[re],me=d[re],Oe=m*le+b*me+B;u[re]=(f*le+v*me+A)/Oe,d[re]=(p*le+x*me+M)/Oe}}static squareToQuadrilateral(u,d,f,p,m,v,x,b){const A=u-f+m-x,M=d-p+v-b;if(0===A&&0===M)return new qr(f-u,m-f,u,p-d,v-p,d,0,0,1);{const B=f-m,$=x-m,re=p-v,le=b-v,me=B*le-$*re,Oe=(A*le-$*M)/me,Be=(B*M-A*re)/me;return new qr(f-u+Oe*f,x-u+Be*x,u,p-d+Oe*p,b-d+Be*b,d,Oe,Be,1)}}static quadrilateralToSquare(u,d,f,p,m,v,x,b){return qr.squareToQuadrilateral(u,d,f,p,m,v,x,b).buildAdjoint()}buildAdjoint(){return new qr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(u){return new qr(this.a11*u.a11+this.a21*u.a12+this.a31*u.a13,this.a11*u.a21+this.a21*u.a22+this.a31*u.a23,this.a11*u.a31+this.a21*u.a32+this.a31*u.a33,this.a12*u.a11+this.a22*u.a12+this.a32*u.a13,this.a12*u.a21+this.a22*u.a22+this.a32*u.a23,this.a12*u.a31+this.a22*u.a32+this.a32*u.a33,this.a13*u.a11+this.a23*u.a12+this.a33*u.a13,this.a13*u.a21+this.a23*u.a22+this.a33*u.a23,this.a13*u.a31+this.a23*u.a32+this.a33*u.a33)}}class Ps extends Go{sampleGrid(u,d,f,p,m,v,x,b,A,M,B,$,re,le,me,Oe,Be,ht,Dt){const Qe=qr.quadrilateralToQuadrilateral(p,m,v,x,b,A,M,B,$,re,le,me,Oe,Be,ht,Dt);return this.sampleGridWithTransform(u,d,f,Qe)}sampleGridWithTransform(u,d,f,p){if(d<=0||f<=0)throw new _e;const m=new ut(d,f),v=new Float32Array(2*d);for(let x=0;x<f;x++){const b=v.length,A=x+.5;for(let M=0;M<b;M+=2)v[M]=M/2+.5,v[M+1]=A;p.transformPoints(v),Go.checkAndNudgePoints(u,v);try{for(let M=0;M<b;M+=2)u.get(Math.floor(v[M]),Math.floor(v[M+1]))&&m.set(M/2,x)}catch{throw new _e}}return m}}class Xi{static setGridSampler(u){Xi.gridSampler=u}static getInstance(){return Xi.gridSampler}}Xi.gridSampler=new Ps;class _r{constructor(u,d){this.x=u,this.y=d}toResultPoint(){return new kt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class oa{constructor(u){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=u}detect(){return this.detectMirror(!1)}detectMirror(u){let d=this.getMatrixCenter(),f=this.getBullsEyeCorners(d);if(u){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),m=this.getMatrixCornerPoints(f);return new So(p,m,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(u){if(!(this.isValidPoint(u[0])&&this.isValidPoint(u[1])&&this.isValidPoint(u[2])&&this.isValidPoint(u[3])))throw new _e;let d=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(u[0],u[1],d),this.sampleLine(u[1],u[2],d),this.sampleLine(u[2],u[3],d),this.sampleLine(u[3],u[0],d)]);this.shift=this.getRotation(f,d);let p=0;for(let v=0;v<4;v++){let x=f[(this.shift+v)%4];this.compact?(p<<=7,p+=x>>1&127):(p<<=10,p+=(x>>2&992)+(x>>1&31))}let m=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=1+(m>>6),this.nbDataBlocks=1+(63&m)):(this.nbLayers=1+(m>>11),this.nbDataBlocks=1+(2047&m))}getRotation(u,d){let f=0;u.forEach((p,m,v)=>{f=(p>>d-2<<1)+(1&p)+(f<<3)}),f=((1&f)<<11)+(f>>1);for(let p=0;p<4;p++)if(Se.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new _e}getCorrectedParameterData(u,d){let f,p;d?(f=7,p=2):(f=10,p=4);let m=f-p,v=new Int32Array(f);for(let b=f-1;b>=0;--b)v[b]=15&u,u>>=4;try{new lo(pn.AZTEC_PARAM).decode(v,m)}catch{throw new _e}let x=0;for(let b=0;b<p;b++)x=(x<<4)+v[b];return x}getBullsEyeCorners(u){let d=u,f=u,p=u,m=u,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(d,v,1,-1),$=this.getFirstDifferent(f,v,1,1),re=this.getFirstDifferent(p,v,-1,1),le=this.getFirstDifferent(m,v,-1,-1);if(this.nbCenterLayers>2){let me=this.distancePoint(le,B)*this.nbCenterLayers/(this.distancePoint(m,d)*(this.nbCenterLayers+2));if(me<.75||me>1.25||!this.isWhiteOrBlackRectangle(B,$,re,le))break}d=B,f=$,p=re,m=le,v=!v}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new _e;this.compact=5===this.nbCenterLayers;let x=new kt(d.getX()+.5,d.getY()-.5),b=new kt(f.getX()+.5,f.getY()+.5),A=new kt(p.getX()-.5,p.getY()+.5),M=new kt(m.getX()-.5,m.getY()-.5);return this.expandSquare([x,b,A,M],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let u,d,f,p;try{let x=new Zr(this.image).detect();u=x[0],d=x[1],f=x[2],p=x[3]}catch{let b=this.image.getWidth()/2,A=this.image.getHeight()/2;u=this.getFirstDifferent(new _r(b+7,A-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new _r(b+7,A+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new _r(b-7,A+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new _r(b-7,A-7),!1,-1,-1).toResultPoint()}let m=yn.round((u.getX()+p.getX()+d.getX()+f.getX())/4),v=yn.round((u.getY()+p.getY()+d.getY()+f.getY())/4);try{let x=new Zr(this.image,15,m,v).detect();u=x[0],d=x[1],f=x[2],p=x[3]}catch{u=this.getFirstDifferent(new _r(m+7,v-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new _r(m+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new _r(m-7,v+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new _r(m-7,v-7),!1,-1,-1).toResultPoint()}return m=yn.round((u.getX()+p.getX()+d.getX()+f.getX())/4),v=yn.round((u.getY()+p.getY()+d.getY()+f.getY())/4),new _r(m,v)}getMatrixCornerPoints(u){return this.expandSquare(u,2*this.nbCenterLayers,this.getDimension())}sampleGrid(u,d,f,p,m){let v=Xi.getInstance(),x=this.getDimension(),b=x/2-this.nbCenterLayers,A=x/2+this.nbCenterLayers;return v.sampleGrid(u,x,x,b,b,A,b,A,A,b,A,d.getX(),d.getY(),f.getX(),f.getY(),p.getX(),p.getY(),m.getX(),m.getY())}sampleLine(u,d,f){let p=0,m=this.distanceResultPoint(u,d),v=m/f,x=u.getX(),b=u.getY(),A=v*(d.getX()-u.getX())/m,M=v*(d.getY()-u.getY())/m;for(let B=0;B<f;B++)this.image.get(yn.round(x+B*A),yn.round(b+B*M))&&(p|=1<<f-B-1);return p}isWhiteOrBlackRectangle(u,d,f,p){u=new _r(u.getX()-3,u.getY()+3),d=new _r(d.getX()-3,d.getY()-3),f=new _r(f.getX()+3,f.getY()-3),p=new _r(p.getX()+3,p.getY()+3);let v=this.getColor(p,u);if(0===v)return!1;let x=this.getColor(u,d);return x===v&&(x=this.getColor(d,f),x===v)&&(x=this.getColor(f,p),x===v)}getColor(u,d){let f=this.distancePoint(u,d),p=(d.getX()-u.getX())/f,m=(d.getY()-u.getY())/f,v=0,x=u.getX(),b=u.getY(),A=this.image.get(u.getX(),u.getY()),M=Math.ceil(f);for(let $=0;$<M;$++)x+=p,b+=m,this.image.get(yn.round(x),yn.round(b))!==A&&v++;let B=v/f;return B>.1&&B<.9?0:B<=.1===A?1:-1}getFirstDifferent(u,d,f,p){let m=u.getX()+f,v=u.getY()+p;for(;this.isValid(m,v)&&this.image.get(m,v)===d;)m+=f,v+=p;for(m-=f,v-=p;this.isValid(m,v)&&this.image.get(m,v)===d;)m+=f;for(m-=f;this.isValid(m,v)&&this.image.get(m,v)===d;)v+=p;return v-=p,new _r(m,v)}expandSquare(u,d,f){let p=f/(2*d),m=u[0].getX()-u[2].getX(),v=u[0].getY()-u[2].getY(),x=(u[0].getX()+u[2].getX())/2,b=(u[0].getY()+u[2].getY())/2,A=new kt(x+p*m,b+p*v),M=new kt(x-p*m,b-p*v);return m=u[1].getX()-u[3].getX(),v=u[1].getY()-u[3].getY(),x=(u[1].getX()+u[3].getX())/2,b=(u[1].getY()+u[3].getY())/2,[A,new kt(x+p*m,b+p*v),M,new kt(x-p*m,b-p*v)]}isValid(u,d){return u>=0&&u<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(u){let d=yn.round(u.getX()),f=yn.round(u.getY());return this.isValid(d,f)}distancePoint(u,d){return yn.distance(u.getX(),u.getY(),d.getX(),d.getY())}distanceResultPoint(u,d){return yn.distance(u.getX(),u.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Se.truncDivision(this.nbLayers-4,8)+1)+15}}class yi{decode(u,d=null){let f=null,p=new oa(u.getBlackMatrix()),m=null,v=null;try{let M=p.detectMirror(!1);m=M.getPoints(),this.reportFoundResultPoints(d,m),v=(new ia).decode(M)}catch(M){f=M}if(null==v)try{let M=p.detectMirror(!0);m=M.getPoints(),this.reportFoundResultPoints(d,m),v=(new ia).decode(M)}catch(M){throw f??M}let x=new Ye(v.getText(),v.getRawBytes(),v.getNumBits(),m,gt.AZTEC,lt.currentTimeMillis()),b=v.getByteSegments();null!=b&&x.putMetadata(Pt.BYTE_SEGMENTS,b);let A=v.getECLevel();return null!=A&&x.putMetadata(Pt.ERROR_CORRECTION_LEVEL,A),x}reportFoundResultPoints(u,d){if(null!=u){let f=u.get(Ce.NEED_RESULT_POINT_CALLBACK);null!=f&&d.forEach((p,m,v)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class lr{decode(u,d){try{return this.doDecode(u,d)}catch{if(d&&!0===d.get(Ce.TRY_HARDER)&&u.isRotateSupported()){const m=u.rotateCounterClockwise(),v=this.doDecode(m,d),x=v.getResultMetadata();let b=270;null!==x&&!0===x.get(Pt.ORIENTATION)&&(b+=x.get(Pt.ORIENTATION)%360),v.putMetadata(Pt.ORIENTATION,b);const A=v.getResultPoints();if(null!==A){const M=m.getHeight();for(let B=0;B<A.length;B++)A[B]=new kt(M-A[B].getY()-1,A[B].getX())}return v}throw new _e}}reset(){}doDecode(u,d){const f=u.getWidth(),p=u.getHeight();let m=new be(f);const v=d&&!0===d.get(Ce.TRY_HARDER),x=Math.max(1,p>>(v?8:5));let b;b=v?p:15;const A=Math.trunc(p/2);for(let M=0;M<b;M++){const B=Math.trunc((M+1)/2),re=A+x*(0==(1&M)?B:-B);if(re<0||re>=p)break;try{m=u.getBlackRow(re,m)}catch{continue}for(let le=0;le<2;le++){if(1===le&&(m.reverse(),d&&!0===d.get(Ce.NEED_RESULT_POINT_CALLBACK))){const me=new Map;d.forEach((Oe,Be)=>me.set(Be,Oe)),me.delete(Ce.NEED_RESULT_POINT_CALLBACK),d=me}try{const me=this.decodeRow(re,m,d);if(1===le){me.putMetadata(Pt.ORIENTATION,180);const Oe=me.getResultPoints();null!==Oe&&(Oe[0]=new kt(f-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new kt(f-Oe[1].getX()-1,Oe[1].getY()))}return me}catch{}}}throw new _e}static recordPattern(u,d,f){const p=f.length;for(let A=0;A<p;A++)f[A]=0;const m=u.getSize();if(d>=m)throw new _e;let v=!u.get(d),x=0,b=d;for(;b<m;){if(u.get(b)!==v)f[x]++;else{if(++x===p)break;f[x]=1,v=!v}b++}if(x!==p&&(x!==p-1||b!==m))throw new _e}static recordPatternInReverse(u,d,f){let p=f.length,m=u.get(d);for(;d>0&&p>=0;)u.get(--d)!==m&&(p--,m=!m);if(p>=0)throw new _e;lr.recordPattern(u,d+1,f)}static patternMatchVariance(u,d,f){const p=u.length;let m=0,v=0;for(let A=0;A<p;A++)m+=u[A],v+=d[A];if(m<v)return Number.POSITIVE_INFINITY;const x=m/v;f*=x;let b=0;for(let A=0;A<p;A++){const M=u[A],B=d[A]*x,$=M>B?M-B:B-M;if($>f)return Number.POSITIVE_INFINITY;b+=$}return b/m}}class yt extends lr{static findStartPattern(u){const d=u.getSize(),f=u.getNextSet(0);let p=0,m=Int32Array.from([0,0,0,0,0,0]),v=f,x=!1;for(let A=f;A<d;A++)if(u.get(A)!==x)m[p]++;else{if(5===p){let M=yt.MAX_AVG_VARIANCE,B=-1;for(let $=yt.CODE_START_A;$<=yt.CODE_START_C;$++){const re=lr.patternMatchVariance(m,yt.CODE_PATTERNS[$],yt.MAX_INDIVIDUAL_VARIANCE);re<M&&(M=re,B=$)}if(B>=0&&u.isRange(Math.max(0,v-(A-v)/2),v,!1))return Int32Array.from([v,A,B]);v+=m[0]+m[1],m=m.slice(2,m.length-1),m[p-1]=0,m[p]=0,p--}else p++;m[p]=1,x=!x}throw new _e}static decodeCode(u,d,f){lr.recordPattern(u,f,d);let p=yt.MAX_AVG_VARIANCE,m=-1;for(let v=0;v<yt.CODE_PATTERNS.length;v++){const b=this.patternMatchVariance(d,yt.CODE_PATTERNS[v],yt.MAX_INDIVIDUAL_VARIANCE);b<p&&(p=b,m=v)}if(m>=0)return m;throw new _e}decodeRow(u,d,f){const p=f&&!0===f.get(Ce.ASSUME_GS1),m=yt.findStartPattern(d),v=m[2];let x=0;const b=new Uint8Array(20);let A;switch(b[x++]=v,v){case yt.CODE_START_A:A=yt.CODE_CODE_A;break;case yt.CODE_START_B:A=yt.CODE_CODE_B;break;case yt.CODE_START_C:A=yt.CODE_CODE_C;break;default:throw new ye}let M=!1,B=!1,$="",re=m[0],le=m[1];const me=Int32Array.from([0,0,0,0,0,0]);let Oe=0,Be=0,ht=v,Dt=0,Qe=!0,An=!1,tn=!1;for(;!M;){const kc=B;switch(B=!1,Oe=Be,Be=yt.decodeCode(d,me,le),b[x++]=Be,Be!==yt.CODE_STOP&&(Qe=!0),Be!==yt.CODE_STOP&&(Dt++,ht+=Dt*Be),re=le,le+=me.reduce((ev,tv)=>ev+tv,0),Be){case yt.CODE_START_A:case yt.CODE_START_B:case yt.CODE_START_C:throw new ye}switch(A){case yt.CODE_CODE_A:if(Be<64)$+=String.fromCharCode(tn===An?" ".charCodeAt(0)+Be:" ".charCodeAt(0)+Be+128),tn=!1;else if(Be<96)$+=String.fromCharCode(tn===An?Be-64:Be+64),tn=!1;else switch(Be!==yt.CODE_STOP&&(Qe=!1),Be){case yt.CODE_FNC_1:p&&($+=0===$.length?"]C1":String.fromCharCode(29));break;case yt.CODE_FNC_2:case yt.CODE_FNC_3:break;case yt.CODE_FNC_4_A:!An&&tn?(An=!0,tn=!1):An&&tn?(An=!1,tn=!1):tn=!0;break;case yt.CODE_SHIFT:B=!0,A=yt.CODE_CODE_B;break;case yt.CODE_CODE_B:A=yt.CODE_CODE_B;break;case yt.CODE_CODE_C:A=yt.CODE_CODE_C;break;case yt.CODE_STOP:M=!0}break;case yt.CODE_CODE_B:if(Be<96)$+=String.fromCharCode(tn===An?" ".charCodeAt(0)+Be:" ".charCodeAt(0)+Be+128),tn=!1;else switch(Be!==yt.CODE_STOP&&(Qe=!1),Be){case yt.CODE_FNC_1:p&&($+=0===$.length?"]C1":String.fromCharCode(29));break;case yt.CODE_FNC_2:case yt.CODE_FNC_3:break;case yt.CODE_FNC_4_B:!An&&tn?(An=!0,tn=!1):An&&tn?(An=!1,tn=!1):tn=!0;break;case yt.CODE_SHIFT:B=!0,A=yt.CODE_CODE_A;break;case yt.CODE_CODE_A:A=yt.CODE_CODE_A;break;case yt.CODE_CODE_C:A=yt.CODE_CODE_C;break;case yt.CODE_STOP:M=!0}break;case yt.CODE_CODE_C:if(Be<100)Be<10&&($+="0"),$+=Be;else switch(Be!==yt.CODE_STOP&&(Qe=!1),Be){case yt.CODE_FNC_1:p&&($+=0===$.length?"]C1":String.fromCharCode(29));break;case yt.CODE_CODE_A:A=yt.CODE_CODE_A;break;case yt.CODE_CODE_B:A=yt.CODE_CODE_B;break;case yt.CODE_STOP:M=!0}}kc&&(A=A===yt.CODE_CODE_A?yt.CODE_CODE_B:yt.CODE_CODE_A)}const fo=le-re;if(le=d.getNextUnset(le),!d.isRange(le,Math.min(d.getSize(),le+(le-re)/2),!1))throw new _e;if(ht-=Dt*Oe,ht%103!==Oe)throw new Fe;const Qo=$.length;if(0===Qo)throw new _e;Qo>0&&Qe&&($=$.substring(0,A===yt.CODE_CODE_C?Qo-2:Qo-1));const ho=(m[1]+m[0])/2,fr=re+fo/2,Ti=b.length,To=new Uint8Array(Ti);for(let kc=0;kc<Ti;kc++)To[kc]=b[kc];const oc=[new kt(ho,u),new kt(fr,u)];return new Ye($,To,0,oc,gt.CODE_128,(new Date).getTime())}}yt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],yt.MAX_AVG_VARIANCE=.25,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.CODE_SHIFT=98,yt.CODE_CODE_C=99,yt.CODE_CODE_B=100,yt.CODE_CODE_A=101,yt.CODE_FNC_1=102,yt.CODE_FNC_2=97,yt.CODE_FNC_3=96,yt.CODE_FNC_4_A=101,yt.CODE_FNC_4_B=100,yt.CODE_START_A=103,yt.CODE_START_B=104,yt.CODE_START_C=105,yt.CODE_STOP=106;let Fs=(()=>{class S extends lr{constructor(d=!1,f=!1){super(),this.usingCheckDigit=d,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(d,f,p){let m=this.counters;m.fill(0),this.decodeRowResult="";let A,M,v=S.findAsteriskPattern(f,m),x=f.getNextSet(v[1]),b=f.getSize();do{S.recordPattern(f,x,m);let Oe=S.toNarrowWidePattern(m);if(Oe<0)throw new _e;A=S.patternToChar(Oe),this.decodeRowResult+=A,M=x;for(let Be of m)x+=Be;x=f.getNextSet(x)}while("*"!==A);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let re,B=0;for(let Oe of m)B+=Oe;if(x!==b&&2*(x-M-B)<B)throw new _e;if(this.usingCheckDigit){let Oe=this.decodeRowResult.length-1,Be=0;for(let ht=0;ht<Oe;ht++)Be+=S.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ht));if(this.decodeRowResult.charAt(Oe)!==S.ALPHABET_STRING.charAt(Be%43))throw new Fe;this.decodeRowResult=this.decodeRowResult.substring(0,Oe)}if(0===this.decodeRowResult.length)throw new _e;re=this.extendedMode?S.decodeExtended(this.decodeRowResult):this.decodeRowResult;let me=M+B/2;return new Ye(re,null,0,[new kt((v[1]+v[0])/2,d),new kt(me,d)],gt.CODE_39,(new Date).getTime())}static findAsteriskPattern(d,f){let p=d.getSize(),m=d.getNextSet(0),v=0,x=m,b=!1,A=f.length;for(let M=m;M<p;M++)if(d.get(M)!==b)f[v]++;else{if(v===A-1){if(this.toNarrowWidePattern(f)===S.ASTERISK_ENCODING&&d.isRange(Math.max(0,x-Math.floor((M-x)/2)),x,!1))return[x,M];x+=f[0]+f[1],f.copyWithin(0,2,2+v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,b=!b}throw new _e}static toNarrowWidePattern(d){let m,f=d.length,p=0;do{let v=2147483647;for(let A of d)A<v&&A>p&&(v=A);p=v,m=0;let x=0,b=0;for(let A=0;A<f;A++){let M=d[A];M>p&&(b|=1<<f-1-A,m++,x+=M)}if(3===m){for(let A=0;A<f&&m>0;A++){let M=d[A];if(M>p&&(m--,2*M>=x))return-1}return b}}while(m>3);return-1}static patternToChar(d){for(let f=0;f<S.CHARACTER_ENCODINGS.length;f++)if(S.CHARACTER_ENCODINGS[f]===d)return S.ALPHABET_STRING.charAt(f);if(d===S.ASTERISK_ENCODING)return"*";throw new _e}static decodeExtended(d){let f=d.length,p="";for(let m=0;m<f;m++){let v=d.charAt(m);if("+"===v||"$"===v||"%"===v||"/"===v){let x=d.charAt(m+1),b="\0";switch(v){case"+":if(!(x>="A"&&x<="Z"))throw new ye;b=String.fromCharCode(x.charCodeAt(0)+32);break;case"$":if(!(x>="A"&&x<="Z"))throw new ye;b=String.fromCharCode(x.charCodeAt(0)-64);break;case"%":if(x>="A"&&x<="E")b=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")b=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")b=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")b=String.fromCharCode(x.charCodeAt(0)+43);else if("U"===x)b="\0";else if("V"===x)b="@";else if("W"===x)b="`";else{if("X"!==x&&"Y"!==x&&"Z"!==x)throw new ye;b="\x7f"}break;case"/":if(x>="A"&&x<="O")b=String.fromCharCode(x.charCodeAt(0)-32);else{if("Z"!==x)throw new ye;b=":"}}p+=b,m++}else p+=v}return p}}return S.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",S.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],S.ASTERISK_ENCODING=148,S})();class _n extends lr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(u,d,f){let p=this.decodeStart(d),m=this.decodeEnd(d),v=new qe;_n.decodeMiddle(d,p[1],m[0],v);let x=v.toString(),b=null;null!=f&&(b=f.get(Ce.ALLOWED_LENGTHS)),null==b&&(b=_n.DEFAULT_ALLOWED_LENGTHS);let A=x.length,M=!1,B=0;for(let le of b){if(A===le){M=!0;break}le>B&&(B=le)}if(!M&&A>B&&(M=!0),!M)throw new ye;const $=[new kt(p[1],u),new kt(m[0],u)];return new Ye(x,null,0,$,gt.ITF,(new Date).getTime())}static decodeMiddle(u,d,f,p){let m=new Int32Array(10),v=new Int32Array(5),x=new Int32Array(5);for(m.fill(0),v.fill(0),x.fill(0);d<f;){lr.recordPattern(u,d,m);for(let A=0;A<5;A++){let M=2*A;v[A]=m[M],x[A]=m[M+1]}let b=_n.decodeDigit(v);p.append(b.toString()),b=this.decodeDigit(x),p.append(b.toString()),m.forEach(function(A){d+=A})}}decodeStart(u){let d=_n.skipWhiteSpace(u),f=_n.findGuardPattern(u,d,_n.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(u,f[0]),f}validateQuietZone(u,d){let f=10*this.narrowLineWidth;f=f<d?f:d;for(let p=d-1;f>0&&p>=0&&!u.get(p);p--)f--;if(0!==f)throw new _e}static skipWhiteSpace(u){const d=u.getSize(),f=u.getNextSet(0);if(f===d)throw new _e;return f}decodeEnd(u){u.reverse();try{let f,d=_n.skipWhiteSpace(u);try{f=_n.findGuardPattern(u,d,_n.END_PATTERN_REVERSED[0])}catch(m){m instanceof _e&&(f=_n.findGuardPattern(u,d,_n.END_PATTERN_REVERSED[1]))}this.validateQuietZone(u,f[0]);let p=f[0];return f[0]=u.getSize()-f[1],f[1]=u.getSize()-p,f}finally{u.reverse()}}static findGuardPattern(u,d,f){let p=f.length,m=new Int32Array(p),v=u.getSize(),x=!1,b=0,A=d;m.fill(0);for(let M=d;M<v;M++)if(u.get(M)!==x)m[b]++;else{if(b===p-1){if(lr.patternMatchVariance(m,f,_n.MAX_INDIVIDUAL_VARIANCE)<_n.MAX_AVG_VARIANCE)return[A,M];A+=m[0]+m[1],lt.arraycopy(m,2,m,0,b-1),m[b-1]=0,m[b]=0,b--}else b++;m[b]=1,x=!x}throw new _e}static decodeDigit(u){let d=_n.MAX_AVG_VARIANCE,f=-1,p=_n.PATTERNS.length;for(let m=0;m<p;m++){let x=lr.patternMatchVariance(u,_n.PATTERNS[m],_n.MAX_INDIVIDUAL_VARIANCE);x<d?(d=x,f=m):x===d&&(f=-1)}if(f>=0)return f%10;throw new _e}}_n.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],_n.MAX_AVG_VARIANCE=.38,_n.MAX_INDIVIDUAL_VARIANCE=.5,_n.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],_n.START_PATTERN=Int32Array.from([1,1,1,1]),_n.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Mn extends lr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(u){let f,d=!1,p=0,m=Int32Array.from([0,0,0]);for(;!d;){m=Int32Array.from([0,0,0]),f=Mn.findGuardPattern(u,p,!1,this.START_END_PATTERN,m);let v=f[0];p=f[1];let x=v-(p-v);x>=0&&(d=u.isRange(x,v,!1))}return f}static checkChecksum(u){return Mn.checkStandardUPCEANChecksum(u)}static checkStandardUPCEANChecksum(u){let d=u.length;if(0===d)return!1;let f=parseInt(u.charAt(d-1),10);return Mn.getStandardUPCEANChecksum(u.substring(0,d-1))===f}static getStandardUPCEANChecksum(u){let d=u.length,f=0;for(let p=d-1;p>=0;p-=2){let m=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);if(m<0||m>9)throw new ye;f+=m}f*=3;for(let p=d-2;p>=0;p-=2){let m=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);if(m<0||m>9)throw new ye;f+=m}return(1e3-f)%10}static decodeEnd(u,d){return Mn.findGuardPattern(u,d,!1,Mn.START_END_PATTERN,new Int32Array(Mn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(u,d,f,p){return this.findGuardPattern(u,d,f,p,new Int32Array(p.length))}static findGuardPattern(u,d,f,p,m){let v=u.getSize(),x=0,b=d=f?u.getNextUnset(d):u.getNextSet(d),A=p.length,M=f;for(let B=d;B<v;B++)if(u.get(B)!==M)m[x]++;else{if(x===A-1){if(lr.patternMatchVariance(m,p,Mn.MAX_INDIVIDUAL_VARIANCE)<Mn.MAX_AVG_VARIANCE)return Int32Array.from([b,B]);b+=m[0]+m[1];let $=m.slice(2,m.length-1);for(let re=0;re<x-1;re++)m[re]=$[re];m[x-1]=0,m[x]=0,x--}else x++;m[x]=1,M=!M}throw new _e}static decodeDigit(u,d,f,p){this.recordPattern(u,f,d);let m=this.MAX_AVG_VARIANCE,v=-1,x=p.length;for(let b=0;b<x;b++){let M=lr.patternMatchVariance(d,p[b],Mn.MAX_INDIVIDUAL_VARIANCE);M<m&&(m=M,v=b)}if(v>=0)return v;throw new _e}}Mn.MAX_AVG_VARIANCE=.48,Mn.MAX_INDIVIDUAL_VARIANCE=.7,Mn.START_END_PATTERN=Int32Array.from([1,1,1]),Mn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Mn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(u,d,f){let p=this.decodeRowStringBuffer,m=this.decodeMiddle(d,f,p),v=p.toString(),x=$i.parseExtensionString(v),b=[new kt((f[0]+f[1])/2,u),new kt(m,u)],A=new Ye(v,null,0,b,gt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=x&&A.putAllMetadata(x),A}decodeMiddle(u,d,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=u.getSize(),v=d[1],x=0;for(let A=0;A<5&&v<m;A++){let M=Mn.decodeDigit(u,p,v,Mn.L_AND_G_PATTERNS);f+=String.fromCharCode("0".charCodeAt(0)+M%10);for(let B of p)v+=B;M>=10&&(x|=1<<4-A),4!==A&&(v=u.getNextSet(v),v=u.getNextUnset(v))}if(5!==f.length)throw new _e;let b=this.determineCheckDigit(x);if($i.extensionChecksum(f.toString())!==b)throw new _e;return v}static extensionChecksum(u){let d=u.length,f=0;for(let p=d-2;p>=0;p-=2)f+=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);f*=3;for(let p=d-1;p>=0;p-=2)f+=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);return f*=3,f%10}determineCheckDigit(u){for(let d=0;d<10;d++)if(u===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new _e}static parseExtensionString(u){if(5!==u.length)return null;let d=$i.parseExtension5String(u);return null==d?null:new Map([[Pt.SUGGESTED_PRICE,d]])}static parseExtension5String(u){let d;switch(u.charAt(0)){case"0":d="\xa3";break;case"5":d="$";break;case"9":switch(u){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d=""}let f=parseInt(u.substring(1)),m=f%100;return d+(f/100).toString()+"."+(m<10?"0"+m:m.toString())}}class sa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(u,d,f){let p=this.decodeRowStringBuffer,m=this.decodeMiddle(d,f,p),v=p.toString(),x=sa.parseExtensionString(v),b=[new kt((f[0]+f[1])/2,u),new kt(m,u)],A=new Ye(v,null,0,b,gt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=x&&A.putAllMetadata(x),A}decodeMiddle(u,d,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=u.getSize(),v=d[1],x=0;for(let b=0;b<2&&v<m;b++){let A=Mn.decodeDigit(u,p,v,Mn.L_AND_G_PATTERNS);f+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let M of p)v+=M;A>=10&&(x|=1<<1-b),1!==b&&(v=u.getNextSet(v),v=u.getNextUnset(v))}if(2!==f.length)throw new _e;if(parseInt(f.toString())%4!==x)throw new _e;return v}static parseExtensionString(u){return 2!==u.length?null:new Map([[Pt.ISSUE_NUMBER,parseInt(u)]])}}class aa{static decodeRow(u,d,f){let p=Mn.findGuardPattern(d,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new $i).decodeRow(u,d,p)}catch{return(new sa).decodeRow(u,d,p)}}}aa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class En extends Mn{constructor(){super(),this.decodeRowStringBuffer="",En.L_AND_G_PATTERNS=En.L_PATTERNS.map(u=>Int32Array.from(u));for(let u=10;u<20;u++){let d=En.L_PATTERNS[u-10],f=new Int32Array(d.length);for(let p=0;p<d.length;p++)f[p]=d[d.length-p-1];En.L_AND_G_PATTERNS[u]=f}}decodeRow(u,d,f){let p=En.findStartGuardPattern(d),m=null==f?null:f.get(Ce.NEED_RESULT_POINT_CALLBACK);if(null!=m){const Qe=new kt((p[0]+p[1])/2,u);m.foundPossibleResultPoint(Qe)}let v=this.decodeMiddle(d,p,this.decodeRowStringBuffer),x=v.rowOffset,b=v.resultString;if(null!=m){const Qe=new kt(x,u);m.foundPossibleResultPoint(Qe)}let A=this.decodeEnd(d,x);if(null!=m){const Qe=new kt((A[0]+A[1])/2,u);m.foundPossibleResultPoint(Qe)}let M=A[1],B=M+(M-A[0]);if(B>=d.getSize()||!d.isRange(M,B,!1))throw new _e;let $=b.toString();if($.length<8)throw new ye;if(!En.checkChecksum($))throw new Fe;let re=(p[1]+p[0])/2,le=(A[1]+A[0])/2,me=this.getBarcodeFormat(),Oe=[new kt(re,u),new kt(le,u)],Be=new Ye($,null,0,Oe,me,(new Date).getTime()),ht=0;try{let Qe=aa.decodeRow(u,d,A[1]);Be.putMetadata(Pt.UPC_EAN_EXTENSION,Qe.getText()),Be.putAllMetadata(Qe.getResultMetadata()),Be.addResultPoints(Qe.getResultPoints()),ht=Qe.getText().length}catch{}let Dt=null==f?null:f.get(Ce.ALLOWED_EAN_EXTENSIONS);if(null!=Dt){let Qe=!1;for(let An in Dt)if(ht.toString()===An){Qe=!0;break}if(!Qe)throw new _e}return Be}decodeEnd(u,d){return En.findGuardPattern(u,d,!1,En.START_END_PATTERN,new Int32Array(En.START_END_PATTERN.length).fill(0))}static checkChecksum(u){return En.checkStandardUPCEANChecksum(u)}static checkStandardUPCEANChecksum(u){let d=u.length;if(0===d)return!1;let f=parseInt(u.charAt(d-1),10);return En.getStandardUPCEANChecksum(u.substring(0,d-1))===f}static getStandardUPCEANChecksum(u){let d=u.length,f=0;for(let p=d-1;p>=0;p-=2){let m=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);if(m<0||m>9)throw new ye;f+=m}f*=3;for(let p=d-2;p>=0;p-=2){let m=u.charAt(p).charCodeAt(0)-"0".charCodeAt(0);if(m<0||m>9)throw new ye;f+=m}return(1e3-f)%10}}let Ii=(()=>{class S extends En{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(d,f,p){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=d.getSize(),x=f[1],b=0;for(let M=0;M<6&&x<v;M++){let B=En.decodeDigit(d,m,x,En.L_AND_G_PATTERNS);p+=String.fromCharCode("0".charCodeAt(0)+B%10);for(let $ of m)x+=$;B>=10&&(b|=1<<5-M)}p=S.determineFirstDigit(p,b),x=En.findGuardPattern(d,x,!0,En.MIDDLE_PATTERN,new Int32Array(En.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<6&&x<v;M++){let B=En.decodeDigit(d,m,x,En.L_PATTERNS);p+=String.fromCharCode("0".charCodeAt(0)+B);for(let $ of m)x+=$}return{rowOffset:x,resultString:p}}getBarcodeFormat(){return gt.EAN_13}static determineFirstDigit(d,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return String.fromCharCode("0".charCodeAt(0)+p)+d;throw new _e}}return S.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],S})();class Io extends En{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(u,d,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let m=u.getSize(),v=d[1];for(let b=0;b<4&&v<m;b++){let A=En.decodeDigit(u,p,v,En.L_PATTERNS);f+=String.fromCharCode("0".charCodeAt(0)+A);for(let M of p)v+=M}v=En.findGuardPattern(u,v,!0,En.MIDDLE_PATTERN,new Int32Array(En.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&v<m;b++){let A=En.decodeDigit(u,p,v,En.L_PATTERNS);f+=String.fromCharCode("0".charCodeAt(0)+A);for(let M of p)v+=M}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return gt.EAN_8}}class Ia extends En{constructor(){super(...arguments),this.ean13Reader=new Ii}getBarcodeFormat(){return gt.UPC_A}decode(u,d){return this.maybeReturnResult(this.ean13Reader.decode(u))}decodeRow(u,d,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(u,d,f))}decodeMiddle(u,d,f){return this.ean13Reader.decodeMiddle(u,d,f)}maybeReturnResult(u){let d=u.getText();if("0"===d.charAt(0)){let f=new Ye(d.substring(1),null,null,u.getResultPoints(),gt.UPC_A);return null!=u.getResultMetadata()&&f.putAllMetadata(u.getResultMetadata()),f}throw new _e}reset(){this.ean13Reader.reset()}}class Ir extends En{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(u,d,f){const p=this.decodeMiddleCounters.map(A=>A);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const m=u.getSize();let v=d[1],x=0;for(let A=0;A<6&&v<m;A++){const M=Ir.decodeDigit(u,p,v,Ir.L_AND_G_PATTERNS);f+=String.fromCharCode("0".charCodeAt(0)+M%10);for(let B of p)v+=B;M>=10&&(x|=1<<5-A)}return{rowOffset:v,resultString:Ir.determineNumSysAndCheckDigit(f,x)}}decodeEnd(u,d){return Ir.findGuardPatternWithoutCounters(u,d,!0,Ir.MIDDLE_END_PATTERN)}checkChecksum(u){return En.checkChecksum(Ir.convertUPCEtoUPCA(u))}static determineNumSysAndCheckDigit(u,d){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p])return String.fromCharCode("0".charCodeAt(0)+f)+u+String.fromCharCode("0".charCodeAt(0)+p);throw _e.getNotFoundInstance()}getBarcodeFormat(){return gt.UPC_E}static convertUPCEtoUPCA(u){const d=u.slice(1,7).split("").map(m=>m.charCodeAt(0)),f=new qe;f.append(u.charAt(0));let p=d[5];switch(p){case 0:case 1:case 2:f.appendChars(d,0,2),f.append(p),f.append("0000"),f.appendChars(d,2,3);break;case 3:f.appendChars(d,0,3),f.append("00000"),f.appendChars(d,3,2);break;case 4:f.appendChars(d,0,4),f.append("00000"),f.append(d[4]);break;default:f.appendChars(d,0,5),f.append("0000"),f.append(p)}return u.length>=8&&f.append(u.charAt(7)),f.toString()}}Ir.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ir.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ls extends lr{constructor(u){super();let d=null==u?null:u.get(Ce.POSSIBLE_FORMATS),f=[];E(d)?(f.push(new Ii),f.push(new Ia),f.push(new Io),f.push(new Ir)):(d.indexOf(gt.EAN_13)>-1&&f.push(new Ii),d.indexOf(gt.UPC_A)>-1&&f.push(new Ia),d.indexOf(gt.EAN_8)>-1&&f.push(new Io),d.indexOf(gt.UPC_E)>-1&&f.push(new Ir)),this.readers=f}decodeRow(u,d,f){for(let p of this.readers)try{const m=p.decodeRow(u,d,f),v=m.getBarcodeFormat()===gt.EAN_13&&"0"===m.getText().charAt(0),x=null==f?null:f.get(Ce.POSSIBLE_FORMATS),b=null==x||x.includes(gt.UPC_A);if(v&&b){const A=m.getRawBytes(),M=new Ye(m.getText().substring(1),A,A?A.length:null,m.getResultPoints(),gt.UPC_A);return M.putAllMetadata(m.getResultMetadata()),M}return m}catch{}throw new _e}reset(){for(let u of this.readers)u.reset()}}let Xo=(()=>{class S extends lr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(d,f){for(let p=0;p<f.length;p++)if(lr.patternMatchVariance(d,f[p],S.MAX_INDIVIDUAL_VARIANCE)<S.MAX_AVG_VARIANCE)return p;throw new _e}static count(d){return yn.sum(new Int32Array(d))}static increment(d,f){let p=0,m=f[0];for(let v=1;v<d.length;v++)f[v]>m&&(m=f[v],p=v);d[p]++}static decrement(d,f){let p=0,m=f[0];for(let v=1;v<d.length;v++)f[v]<m&&(m=f[v],p=v);d[p]--}static isFinderPattern(d){let f=d[0]+d[1],m=f/(f+d[2]+d[3]);if(m>=S.MIN_FINDER_PATTERN_RATIO&&m<=S.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let b of d)b>x&&(x=b),b<v&&(v=b);return x<10*v}return!1}}return S.MAX_AVG_VARIANCE=.2,S.MAX_INDIVIDUAL_VARIANCE=.45,S.MIN_FINDER_PATTERN_RATIO=9.5/12,S.MAX_FINDER_PATTERN_RATIO=12.5/14,S})();class Yi{constructor(u,d){this.value=u,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(u){return u instanceof Yi&&this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ms{constructor(u,d,f,p,m){this.value=u,this.startEnd=d,this.value=u,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new kt(f,m)),this.resultPoints.push(new kt(p,m))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(u){return u instanceof ms&&this.value===u.value}hashCode(){return this.value}}class _i{constructor(){}static getRSSvalue(u,d,f){let p=0;for(let b of u)p+=b;let m=0,v=0,x=u.length;for(let b=0;b<x-1;b++){let A;for(A=1,v|=1<<b;A<u[b];A++,v&=~(1<<b)){let M=_i.combins(p-A-1,x-b-2);if(f&&0===v&&p-A-(x-b-1)>=x-b-1&&(M-=_i.combins(p-A-(x-b),x-b-2)),x-b-1>1){let B=0;for(let $=p-A-(x-b-2);$>d;$--)B+=_i.combins(p-A-$-1,x-b-3);M-=B*(x-1-b)}else p-A>d&&M--;m+=M}p-=A}return m}static combins(u,d){let f,p;u-d>d?(p=d,f=u-d):(p=u-d,f=d);let m=1,v=1;for(let x=u;x>f;x--)m*=x,v<=p&&(m/=v,v++);for(;v<=p;)m/=v,v++;return m}}class ri{static buildBitArray(u){let d=2*u.length-1;null==u[u.length-1].getRightChar()&&(d-=1);let p=new be(12*d),m=0,x=u[0].getRightChar().getValue();for(let b=11;b>=0;--b)x&1<<b&&p.set(m),m++;for(let b=1;b<u.length;++b){let A=u[b],M=A.getLeftChar().getValue();for(let B=11;B>=0;--B)M&1<<B&&p.set(m),m++;if(null!=A.getRightChar()){let B=A.getRightChar().getValue();for(let $=11;$>=0;--$)B&1<<$&&p.set(m),m++}}return p}}class Di{constructor(u,d){d?this.decodedInformation=null:(this.finished=u,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class vs{constructor(u){this.newPosition=u}getNewPosition(){return this.newPosition}}let xi=(()=>{class S extends vs{constructor(d,f){super(d),this.value=f}getValue(){return this.value}isFNC1(){return this.value===S.FNC1}}return S.FNC1="$",S})();class Zi extends vs{constructor(u,d,f){super(u),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Mi=(()=>{class S extends vs{constructor(d,f,p){if(super(d),f<0||f>10||p<0||p>10)throw new ye;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===S.FNC1}isSecondDigitFNC1(){return this.secondDigit===S.FNC1}isAnyFNC1(){return this.firstDigit===S.FNC1||this.secondDigit===S.FNC1}}return S.FNC1=10,S})();class At{constructor(){}static parseFieldsInGeneralPurpose(u){if(!u)return null;if(u.length<2)throw new _e;let d=u.substring(0,2);for(let m of At.TWO_DIGIT_DATA_LENGTH)if(m[0]===d)return m[1]===At.VARIABLE_LENGTH?At.processVariableAI(2,m[2],u):At.processFixedAI(2,m[1],u);if(u.length<3)throw new _e;let f=u.substring(0,3);for(let m of At.THREE_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===At.VARIABLE_LENGTH?At.processVariableAI(3,m[2],u):At.processFixedAI(3,m[1],u);for(let m of At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,m[2],u):At.processFixedAI(4,m[1],u);if(u.length<4)throw new _e;let p=u.substring(0,4);for(let m of At.FOUR_DIGIT_DATA_LENGTH)if(m[0]===p)return m[1]===At.VARIABLE_LENGTH?At.processVariableAI(4,m[2],u):At.processFixedAI(4,m[1],u);throw new _e}static processFixedAI(u,d,f){if(f.length<u)throw new _e;let p=f.substring(0,u);if(f.length<u+d)throw new _e;let m=f.substring(u,u+d),v=f.substring(u+d),x="("+p+")"+m,b=At.parseFieldsInGeneralPurpose(v);return null==b?x:x+b}static processVariableAI(u,d,f){let m,p=f.substring(0,u);m=f.length<u+d?f.length:u+d;let v=f.substring(u,m),x=f.substring(m),b="("+p+")"+v,A=At.parseFieldsInGeneralPurpose(x);return null==A?b:b+A}}At.VARIABLE_LENGTH=[],At.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",At.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",At.VARIABLE_LENGTH,20],["22",At.VARIABLE_LENGTH,29],["30",At.VARIABLE_LENGTH,8],["37",At.VARIABLE_LENGTH,8],["90",At.VARIABLE_LENGTH,30],["91",At.VARIABLE_LENGTH,30],["92",At.VARIABLE_LENGTH,30],["93",At.VARIABLE_LENGTH,30],["94",At.VARIABLE_LENGTH,30],["95",At.VARIABLE_LENGTH,30],["96",At.VARIABLE_LENGTH,30],["97",At.VARIABLE_LENGTH,3],["98",At.VARIABLE_LENGTH,30],["99",At.VARIABLE_LENGTH,30]],At.THREE_DIGIT_DATA_LENGTH=[["240",At.VARIABLE_LENGTH,30],["241",At.VARIABLE_LENGTH,30],["242",At.VARIABLE_LENGTH,6],["250",At.VARIABLE_LENGTH,30],["251",At.VARIABLE_LENGTH,30],["253",At.VARIABLE_LENGTH,17],["254",At.VARIABLE_LENGTH,20],["400",At.VARIABLE_LENGTH,30],["401",At.VARIABLE_LENGTH,30],["402",17],["403",At.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",At.VARIABLE_LENGTH,20],["421",At.VARIABLE_LENGTH,15],["422",3],["423",At.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],At.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",At.VARIABLE_LENGTH,15],["391",At.VARIABLE_LENGTH,18],["392",At.VARIABLE_LENGTH,15],["393",At.VARIABLE_LENGTH,18],["703",At.VARIABLE_LENGTH,30]],At.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",At.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",At.VARIABLE_LENGTH,20],["8003",At.VARIABLE_LENGTH,30],["8004",At.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",At.VARIABLE_LENGTH,30],["8008",At.VARIABLE_LENGTH,12],["8018",18],["8020",At.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",At.VARIABLE_LENGTH,70],["8200",At.VARIABLE_LENGTH,70]];class Hn{constructor(u){this.buffer=new qe,this.information=u}decodeAllCodes(u,d){let f=d,p=null;for(;;){let m=this.decodeGeneralPurposeField(f,p),v=At.parseFieldsInGeneralPurpose(m.getNewString());if(null!=v&&u.append(v),p=m.isRemaining()?""+m.getRemainingValue():null,f===m.getNewPosition())break;f=m.getNewPosition()}return u.toString()}isStillNumeric(u){if(u+7>this.information.getSize())return u+4<=this.information.getSize();for(let d=u;d<u+3;++d)if(this.information.get(d))return!0;return this.information.get(u+3)}decodeNumeric(u){if(u+7>this.information.getSize()){let m=this.extractNumericValueFromBitArray(u,4);return new Mi(this.information.getSize(),0===m?Mi.FNC1:m-1,Mi.FNC1)}let d=this.extractNumericValueFromBitArray(u,7);return new Mi(u+7,(d-8)/11,(d-8)%11)}extractNumericValueFromBitArray(u,d){return Hn.extractNumericValueFromBitArray(this.information,u,d)}static extractNumericValueFromBitArray(u,d,f){let p=0;for(let m=0;m<f;++m)u.get(d+m)&&(p|=1<<f-m-1);return p}decodeGeneralPurposeField(u,d){this.buffer.setLengthToZero(),null!=d&&this.buffer.append(d),this.current.setPosition(u);let f=this.parseBlocks();return null!=f&&f.isRemaining()?new Zi(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Zi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let u,d;do{let f=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),u=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),u=d.isFinished()):(d=this.parseNumericBlock(),u=d.isFinished()),f===this.current.getPosition()&&!u)break}while(!u);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let u=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFirstDigitFNC1()){let d;return d=u.isSecondDigitFNC1()?new Zi(this.current.getPosition(),this.buffer.toString()):new Zi(this.current.getPosition(),this.buffer.toString(),u.getSecondDigit()),new Di(!0,d)}if(this.buffer.append(u.getFirstDigit()),u.isSecondDigitFNC1()){let d=new Zi(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Di(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let u=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFNC1()){let d=new Zi(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Di(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let u=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(u.getNewPosition()),u.isFNC1()){let d=new Zi(this.current.getPosition(),this.buffer.toString());return new Di(!0,d)}this.buffer.append(u.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Di(!1)}isStillIsoIec646(u){if(u+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(u,5);if(d>=5&&d<16)return!0;if(u+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(u,7);if(f>=64&&f<116)return!0;if(u+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(u,8);return p>=232&&p<253}decodeIsoIec646(u){let d=this.extractNumericValueFromBitArray(u,5);if(15===d)return new xi(u+5,xi.FNC1);if(d>=5&&d<15)return new xi(u+5,"0"+(d-5));let m,f=this.extractNumericValueFromBitArray(u,7);if(f>=64&&f<90)return new xi(u+7,""+(f+1));if(f>=90&&f<116)return new xi(u+7,""+(f+7));switch(this.extractNumericValueFromBitArray(u,8)){case 232:m="!";break;case 233:m='"';break;case 234:m="%";break;case 235:m="&";break;case 236:m="'";break;case 237:m="(";break;case 238:m=")";break;case 239:m="*";break;case 240:m="+";break;case 241:m=",";break;case 242:m="-";break;case 243:m=".";break;case 244:m="/";break;case 245:m=":";break;case 246:m=";";break;case 247:m="<";break;case 248:m="=";break;case 249:m=">";break;case 250:m="?";break;case 251:m="_";break;case 252:m=" ";break;default:throw new ye}return new xi(u+8,m)}isStillAlpha(u){if(u+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(u,5);if(d>=5&&d<16)return!0;if(u+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(u,6);return f>=16&&f<63}decodeAlphanumeric(u){let d=this.extractNumericValueFromBitArray(u,5);if(15===d)return new xi(u+5,xi.FNC1);if(d>=5&&d<15)return new xi(u+5,"0"+(d-5));let p,f=this.extractNumericValueFromBitArray(u,6);if(f>=32&&f<58)return new xi(u+6,""+(f+33));switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Vi("Decoding invalid alphanumeric value: "+f)}return new xi(u+6,p)}isAlphaTo646ToAlphaLatch(u){if(u+1>this.information.getSize())return!1;for(let d=0;d<5&&d+u<this.information.getSize();++d)if(2===d){if(!this.information.get(u+2))return!1}else if(this.information.get(u+d))return!1;return!0}isAlphaOr646ToNumericLatch(u){if(u+3>this.information.getSize())return!1;for(let d=u;d<u+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(u){if(u+1>this.information.getSize())return!1;for(let d=0;d<4&&d+u<this.information.getSize();++d)if(this.information.get(u+d))return!1;return!0}}class Bs{constructor(u){this.information=u,this.generalDecoder=new Hn(u)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let bi=(()=>{class S extends Bs{constructor(d){super(d)}encodeCompressedGtin(d,f){d.append("(01)");let p=d.length();d.append("9"),this.encodeCompressedGtinWithoutAI(d,f,p)}encodeCompressedGtinWithoutAI(d,f,p){for(let m=0;m<4;++m){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*m,10);v/100==0&&d.append("0"),v/10==0&&d.append("0"),d.append(v)}S.appendCheckDigit(d,p)}static appendCheckDigit(d,f){let p=0;for(let m=0;m<13;m++){let v=d.charAt(m+f).charCodeAt(0)-"0".charCodeAt(0);p+=1&m?v:3*v}p=10-p%10,10===p&&(p=0),d.append(p)}}return S.GTIN_SIZE=40,S})(),tc=(()=>{class S extends bi{constructor(d){super(d)}parseInformation(){let d=new qe;d.append("(01)");let f=d.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(S.HEADER_SIZE,4);return d.append(p),this.encodeCompressedGtinWithoutAI(d,S.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(d,S.HEADER_SIZE+44)}}return S.HEADER_SIZE=4,S})(),nc=(()=>{class S extends Bs{constructor(d){super(d)}parseInformation(){let d=new qe;return this.getGeneralDecoder().decodeAllCodes(d,S.HEADER_SIZE)}}return S.HEADER_SIZE=5,S})();class Kr extends bi{constructor(u){super(u)}encodeCompressedWeight(u,d,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(d,f);this.addWeightCode(u,p);let m=this.checkWeight(p),v=1e5;for(let x=0;x<5;++x)m/v==0&&u.append("0"),v/=10;u.append(m)}}let Vs=(()=>{class S extends Kr{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()!=S.HEADER_SIZE+Kr.GTIN_SIZE+S.WEIGHT_SIZE)throw new _e;let d=new qe;return this.encodeCompressedGtin(d,S.HEADER_SIZE),this.encodeCompressedWeight(d,S.HEADER_SIZE+Kr.GTIN_SIZE,S.WEIGHT_SIZE),d.toString()}}return S.HEADER_SIZE=5,S.WEIGHT_SIZE=15,S})();class Da extends Vs{constructor(u){super(u)}addWeightCode(u,d){u.append("(3103)")}checkWeight(u){return u}}class qi extends Vs{constructor(u){super(u)}addWeightCode(u,d){u.append(d<1e4?"(3202)":"(3203)")}checkWeight(u){return u<1e4?u:u-1e4}}let rc=(()=>{class S extends bi{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<S.HEADER_SIZE+bi.GTIN_SIZE)throw new _e;let d=new qe;this.encodeCompressedGtin(d,S.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(S.HEADER_SIZE+bi.GTIN_SIZE,S.LAST_DIGIT_SIZE);d.append("(392"),d.append(f),d.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(S.HEADER_SIZE+bi.GTIN_SIZE+S.LAST_DIGIT_SIZE,null);return d.append(p.getNewString()),d.toString()}}return S.HEADER_SIZE=8,S.LAST_DIGIT_SIZE=2,S})(),Cr=(()=>{class S extends bi{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<S.HEADER_SIZE+bi.GTIN_SIZE)throw new _e;let d=new qe;this.encodeCompressedGtin(d,S.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(S.HEADER_SIZE+bi.GTIN_SIZE,S.LAST_DIGIT_SIZE);d.append("(393"),d.append(f),d.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(S.HEADER_SIZE+bi.GTIN_SIZE+S.LAST_DIGIT_SIZE,S.FIRST_THREE_DIGITS_SIZE);p/100==0&&d.append("0"),p/10==0&&d.append("0"),d.append(p);let m=this.getGeneralDecoder().decodeGeneralPurposeField(S.HEADER_SIZE+bi.GTIN_SIZE+S.LAST_DIGIT_SIZE+S.FIRST_THREE_DIGITS_SIZE,null);return d.append(m.getNewString()),d.toString()}}return S.HEADER_SIZE=8,S.LAST_DIGIT_SIZE=2,S.FIRST_THREE_DIGITS_SIZE=10,S})(),ii=(()=>{class S extends Kr{constructor(d,f,p){super(d),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=S.HEADER_SIZE+S.GTIN_SIZE+S.WEIGHT_SIZE+S.DATE_SIZE)throw new _e;let d=new qe;return this.encodeCompressedGtin(d,S.HEADER_SIZE),this.encodeCompressedWeight(d,S.HEADER_SIZE+S.GTIN_SIZE,S.WEIGHT_SIZE),this.encodeCompressedDate(d,S.HEADER_SIZE+S.GTIN_SIZE+S.WEIGHT_SIZE),d.toString()}encodeCompressedDate(d,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,S.DATE_SIZE);if(38400==p)return;d.append("("),d.append(this.dateCode),d.append(")");let m=p%32;p/=32;let v=p%12+1;p/=12;let x=p;x/10==0&&d.append("0"),d.append(x),v/10==0&&d.append("0"),d.append(v),m/10==0&&d.append("0"),d.append(m)}addWeightCode(d,f){d.append("("),d.append(this.firstAIdigits),d.append(f/1e5),d.append(")")}checkWeight(d){return d%1e5}}return S.HEADER_SIZE=8,S.WEIGHT_SIZE=20,S.DATE_SIZE=16,S})();function Qr(S){try{if(S.get(1))return new tc(S);if(!S.get(2))return new nc(S);switch(Hn.extractNumericValueFromBitArray(S,1,4)){case 4:return new Da(S);case 5:return new qi(S)}switch(Hn.extractNumericValueFromBitArray(S,1,5)){case 12:return new rc(S);case 13:return new Cr(S)}switch(Hn.extractNumericValueFromBitArray(S,1,7)){case 56:return new ii(S,"310","11");case 57:return new ii(S,"320","11");case 58:return new ii(S,"310","13");case 59:return new ii(S,"320","13");case 60:return new ii(S,"310","15");case 61:return new ii(S,"320","15");case 62:return new ii(S,"310","17");case 63:return new ii(S,"320","17")}}catch(u){throw console.log(u),new Vi("unknown decoder: "+S)}}class Do{constructor(u,d,f,p){this.leftchar=u,this.rightchar=d,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(u,d){return u instanceof Do&&Do.equalsOrNull(u.leftchar,d.leftchar)&&Do.equalsOrNull(u.rightchar,d.rightchar)&&Do.equalsOrNull(u.finderpattern,d.finderpattern)}static equalsOrNull(u,d){return null===u?null===d:Do.equals(u,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class $o{constructor(u,d,f){this.pairs=u,this.rowNumber=d,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(u){return this.checkEqualitity(this,u)}toString(){return"{ "+this.pairs+" }"}equals(u,d){return u instanceof $o&&this.checkEqualitity(u,d)&&u.wasReversed===d.wasReversed}checkEqualitity(u,d){if(!u||!d)return;let f;return u.forEach((p,m)=>{d.forEach(v=>{p.getLeftChar().getValue()===v.getLeftChar().getValue()&&p.getRightChar().getValue()===v.getRightChar().getValue()&&p.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class nt extends Xo{constructor(u){super(...arguments),this.pairs=new Array(nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===u}decodeRow(u,d,f){this.pairs.length=0,this.startFromEven=!1;try{return nt.constructResult(this.decodeRow2pairs(u,d))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,nt.constructResult(this.decodeRow2pairs(u,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(u,d){let p,f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,u))}catch(m){if(m instanceof _e){if(!this.pairs.length)throw new _e;f=!0}}if(this.checkChecksum())return this.pairs;if(p=!!this.rows.length,this.storeRow(u,!1),p){let m=this.checkRowsBoolean(!1);if(null!=m||(m=this.checkRowsBoolean(!0),null!=m))return m}throw new _e}checkRowsBoolean(u){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,u&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return u&&(this.rows=this.rows.reverse()),d}checkRows(u,d){for(let f=d;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let v of u)this.pairs.push(v.getPairs());if(this.pairs.push(p.getPairs()),!nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let m=new Array(u);m.push(p);try{return this.checkRows(m,f+1)}catch(v){this.verbose&&console.log(v)}}throw new _e}static isValidSequence(u){for(let d of nt.FINDER_PATTERN_SEQUENCES){if(u.length>d.length)continue;let f=!0;for(let p=0;p<u.length;p++)if(u[p].getFinderPattern().getValue()!=d[p]){f=!1;break}if(f)return!0}return!1}storeRow(u,d){let f=0,p=!1,m=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>u){m=v.isEquivalent(this.pairs);break}p=v.isEquivalent(this.pairs),f++}m||p||nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new $o(this.pairs,u,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(u,d){for(let f of d)if(f.getPairs().length!==u.length)for(let p of f.getPairs())for(let m of u)if(Do.equals(p,m))break}static isPartialRow(u,d){for(let f of d){let p=!0;for(let m of u){let v=!1;for(let x of f.getPairs())if(m.equals(x)){v=!0;break}if(!v){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(u){let p=Qr(ri.buildBitArray(u)).parseInformation(),m=u[0].getFinderPattern().getResultPoints(),v=u[u.length-1].getFinderPattern().getResultPoints();return new Ye(p,null,null,[m[0],m[1],v[0],v[1]],gt.RSS_EXPANDED,null)}checkChecksum(){let u=this.pairs.get(0),d=u.getLeftChar(),f=u.getRightChar();if(null==f)return!1;let p=f.getChecksumPortion(),m=2;for(let x=1;x<this.pairs.size();++x){let b=this.pairs.get(x);p+=b.getLeftChar().getChecksumPortion(),m++;let A=b.getRightChar();null!=A&&(p+=A.getChecksumPortion(),m++)}return p%=211,211*(m-4)+p==d.getValue()}static getNextSecondBar(u,d){let f;return u.get(d)?(f=u.getNextUnset(d),f=u.getNextSet(f)):(f=u.getNextSet(d),f=u.getNextUnset(f)),f}retrieveNextPair(u,d,f){let p=d.length%2==0;this.startFromEven&&(p=!p);let m,v=!0,x=-1;do{this.findNextPair(u,d,x),m=this.parseFoundFinderPattern(u,f,p),null==m?x=nt.getNextSecondBar(u,this.startEnd[0]):v=!1}while(v);let A,b=this.decodeDataCharacter(u,m,p,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new _e;try{A=this.decodeDataCharacter(u,m,p,!1)}catch(M){A=null,this.verbose&&console.log(M)}return new Do(b,A,m,!0)}isEmptyPair(u){return 0===u.length}findNextPair(u,d,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let v,m=u.getSize();v=f>=0?f:this.isEmptyPair(d)?0:d[d.length-1].getFinderPattern().getStartEnd()[1];let x=d.length%2!=0;this.startFromEven&&(x=!x);let b=!1;for(;v<m&&(b=!u.get(v),b);)v++;let A=0,M=v;for(let B=v;B<m;B++)if(u.get(B)!=b)p[A]++;else{if(3==A){if(x&&nt.reverseCounters(p),nt.isFinderPattern(p))return this.startEnd[0]=M,void(this.startEnd[1]=B);x&&nt.reverseCounters(p),M+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,A--}else A++;p[A]=1,b=!b}throw new _e}static reverseCounters(u){let d=u.length;for(let f=0;f<d/2;++f){let p=u[f];u[f]=u[d-f-1],u[d-f-1]=p}}parseFoundFinderPattern(u,d,f){let p,m,v;if(f){let A=this.startEnd[0]-1;for(;A>=0&&!u.get(A);)A--;A++,p=this.startEnd[0]-A,m=A,v=this.startEnd[1]}else m=this.startEnd[0],v=u.getNextUnset(this.startEnd[1]+1),p=v-this.startEnd[1];let b,x=this.getDecodeFinderCounters();lt.arraycopy(x,0,x,1,x.length-1),x[0]=p;try{b=this.parseFinderValue(x,nt.FINDER_PATTERNS)}catch{return null}return new ms(b,[m,v],m,v,d)}decodeDataCharacter(u,d,f,p){let m=this.getDataCharacterCounters();for(let fr=0;fr<m.length;fr++)m[fr]=0;if(p)nt.recordPatternInReverse(u,d.getStartEnd()[0],m);else{nt.recordPattern(u,d.getStartEnd()[1],m);for(let fr=0,Ti=m.length-1;fr<Ti;fr++,Ti--){let To=m[fr];m[fr]=m[Ti],m[Ti]=To}}let x=yn.sum(new Int32Array(m))/17,b=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(x-b)/b>.3)throw new _e;let A=this.getOddCounts(),M=this.getEvenCounts(),B=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let fr=0;fr<m.length;fr++){let Ti=1*m[fr]/x,To=Ti+.5;if(To<1){if(Ti<.3)throw new _e;To=1}else if(To>8){if(Ti>8.7)throw new _e;To=8}let oc=fr/2;1&fr?(M[oc]=To,$[oc]=Ti-To):(A[oc]=To,B[oc]=Ti-To)}this.adjustOddEvenCounts(17);let re=4*d.getValue()+(f?0:2)+(p?0:1)-1,le=0,me=0;for(let fr=A.length-1;fr>=0;fr--)nt.isNotA1left(d,f,p)&&(me+=A[fr]*nt.WEIGHTS[re][2*fr]),le+=A[fr];let Oe=0;for(let fr=M.length-1;fr>=0;fr--)nt.isNotA1left(d,f,p)&&(Oe+=M[fr]*nt.WEIGHTS[re][2*fr+1]);let Be=me+Oe;if(1&le||le>13||le<4)throw new _e;let ht=(13-le)/2,Dt=nt.SYMBOL_WIDEST[ht],Qe=9-Dt,An=_i.getRSSvalue(A,Dt,!0),tn=_i.getRSSvalue(M,Qe,!1);return new Yi(An*nt.EVEN_TOTAL_SUBSET[ht]+tn+nt.GSUM[ht],Be)}static isNotA1left(u,d,f){return!(0==u.getValue()&&d&&f)}adjustOddEvenCounts(u){let d=yn.sum(new Int32Array(this.getOddCounts())),f=yn.sum(new Int32Array(this.getEvenCounts())),p=!1,m=!1;d>13?m=!0:d<4&&(p=!0);let v=!1,x=!1;f>13?x=!0:f<4&&(v=!0);let b=d+f-u,A=1==(1&d),M=0==(1&f);if(1==b)if(A){if(M)throw new _e;m=!0}else{if(!M)throw new _e;x=!0}else if(-1==b)if(A){if(M)throw new _e;p=!0}else{if(!M)throw new _e;v=!0}else{if(0!=b)throw new _e;if(A){if(!M)throw new _e;d<f?(p=!0,x=!0):(m=!0,v=!0)}else if(M)throw new _e}if(p){if(m)throw new _e;nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(x)throw new _e;nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.SYMBOL_WIDEST=[7,5,4,3,1],nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],nt.GSUM=[0,348,1388,2948,3988],nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],nt.FINDER_PAT_A=0,nt.FINDER_PAT_B=1,nt.FINDER_PAT_C=2,nt.FINDER_PAT_D=3,nt.FINDER_PAT_E=4,nt.FINDER_PAT_F=5,nt.FINDER_PATTERN_SEQUENCES=[[nt.FINDER_PAT_A,nt.FINDER_PAT_A],[nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B],[nt.FINDER_PAT_A,nt.FINDER_PAT_C,nt.FINDER_PAT_B,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_C],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F]],nt.MAX_PAIRS=11;class Mo extends Yi{constructor(u,d,f){super(u,d),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Tn extends Xo{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(u,d,f){const p=this.decodePair(d,!1,u,f);Tn.addOrTally(this.possibleLeftPairs,p),d.reverse();let m=this.decodePair(d,!0,u,f);Tn.addOrTally(this.possibleRightPairs,m),d.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1)for(let x of this.possibleRightPairs)if(x.getCount()>1&&Tn.checkChecksum(v,x))return Tn.constructResult(v,x);throw new _e}static addOrTally(u,d){if(null==d)return;let f=!1;for(let p of u)if(p.getValue()===d.getValue()){p.incrementCount(),f=!0;break}f||u.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(u,d){let f=4537077*u.getValue()+d.getValue(),p=new String(f).toString(),m=new qe;for(let A=13-p.length;A>0;A--)m.append("0");m.append(p);let v=0;for(let A=0;A<13;A++){let M=m.charAt(A).charCodeAt(0)-"0".charCodeAt(0);v+=1&A?M:3*M}v=10-v%10,10===v&&(v=0),m.append(v.toString());let x=u.getFinderPattern().getResultPoints(),b=d.getFinderPattern().getResultPoints();return new Ye(m.toString(),null,0,[x[0],x[1],b[0],b[1]],gt.RSS_14,(new Date).getTime())}static checkChecksum(u,d){let f=(u.getChecksumPortion()+16*d.getChecksumPortion())%79,p=9*u.getFinderPattern().getValue()+d.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(u,d,f,p){try{let m=this.findFinderPattern(u,d),v=this.parseFoundFinderPattern(u,f,d,m),x=null==p?null:p.get(Ce.NEED_RESULT_POINT_CALLBACK);if(null!=x){let M=(m[0]+m[1])/2;d&&(M=u.getSize()-1-M),x.foundPossibleResultPoint(new kt(M,f))}let b=this.decodeDataCharacter(u,v,!0),A=this.decodeDataCharacter(u,v,!1);return new Mo(1597*b.getValue()+A.getValue(),b.getChecksumPortion()+4*A.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(u,d,f){let p=this.getDataCharacterCounters();for(let Oe=0;Oe<p.length;Oe++)p[Oe]=0;if(f)lr.recordPatternInReverse(u,d.getStartEnd()[0],p);else{lr.recordPattern(u,d.getStartEnd()[1]+1,p);for(let Oe=0,Be=p.length-1;Oe<Be;Oe++,Be--){let ht=p[Oe];p[Oe]=p[Be],p[Be]=ht}}let m=f?16:15,v=yn.sum(new Int32Array(p))/m,x=this.getOddCounts(),b=this.getEvenCounts(),A=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Oe=0;Oe<p.length;Oe++){let Be=p[Oe]/v,ht=Math.floor(Be+.5);ht<1?ht=1:ht>8&&(ht=8);let Dt=Math.floor(Oe/2);1&Oe?(b[Dt]=ht,M[Dt]=Be-ht):(x[Dt]=ht,A[Dt]=Be-ht)}this.adjustOddEvenCounts(f,m);let B=0,$=0;for(let Oe=x.length-1;Oe>=0;Oe--)$*=9,$+=x[Oe],B+=x[Oe];let re=0,le=0;for(let Oe=b.length-1;Oe>=0;Oe--)re*=9,re+=b[Oe],le+=b[Oe];let me=$+3*re;if(f){if(1&B||B>12||B<4)throw new _e;let Oe=(12-B)/2,Be=Tn.OUTSIDE_ODD_WIDEST[Oe],ht=9-Be,Dt=_i.getRSSvalue(x,Be,!1),Qe=_i.getRSSvalue(b,ht,!0);return new Yi(Dt*Tn.OUTSIDE_EVEN_TOTAL_SUBSET[Oe]+Qe+Tn.OUTSIDE_GSUM[Oe],me)}{if(1&le||le>10||le<4)throw new _e;let Oe=(10-le)/2,Be=Tn.INSIDE_ODD_WIDEST[Oe],ht=9-Be,Dt=_i.getRSSvalue(x,Be,!0),Qe=_i.getRSSvalue(b,ht,!1);return new Yi(Qe*Tn.INSIDE_ODD_TOTAL_SUBSET[Oe]+Dt+Tn.INSIDE_GSUM[Oe],me)}}findFinderPattern(u,d){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=u.getSize(),m=!1,v=0;for(;v<p&&(m=!u.get(v),d!==m);)v++;let x=0,b=v;for(let A=v;A<p;A++)if(u.get(A)!==m)f[x]++;else{if(3===x){if(Xo.isFinderPattern(f))return[b,A];b+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,x--}else x++;f[x]=1,m=!m}throw new _e}parseFoundFinderPattern(u,d,f,p){let m=u.get(p[0]),v=p[0]-1;for(;v>=0&&m!==u.get(v);)v--;v++;const x=p[0]-v,b=this.getDecodeFinderCounters(),A=new Int32Array(b.length);lt.arraycopy(b,0,A,1,b.length-1),A[0]=x;const M=this.parseFinderValue(A,Tn.FINDER_PATTERNS);let B=v,$=p[1];return f&&(B=u.getSize()-1-B,$=u.getSize()-1-$),new ms(M,[v,p[1]],B,$,d)}adjustOddEvenCounts(u,d){let f=yn.sum(new Int32Array(this.getOddCounts())),p=yn.sum(new Int32Array(this.getEvenCounts())),m=!1,v=!1,x=!1,b=!1;u?(f>12?v=!0:f<4&&(m=!0),p>12?b=!0:p<4&&(x=!0)):(f>11?v=!0:f<5&&(m=!0),p>10?b=!0:p<4&&(x=!0));let A=f+p-d,M=(1&f)==(u?1:0),B=1==(1&p);if(1===A)if(M){if(B)throw new _e;v=!0}else{if(!B)throw new _e;b=!0}else if(-1===A)if(M){if(B)throw new _e;m=!0}else{if(!B)throw new _e;x=!0}else{if(0!==A)throw new _e;if(M){if(!B)throw new _e;f<p?(m=!0,b=!0):(v=!0,x=!0)}else if(B)throw new _e}if(m){if(v)throw new _e;Xo.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Xo.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new _e;Xo.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Xo.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Tn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Tn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Tn.OUTSIDE_GSUM=[0,161,961,2015,2715],Tn.INSIDE_GSUM=[0,336,1036,1516],Tn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Tn.INSIDE_ODD_WIDEST=[2,4,6,8],Tn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class oi extends lr{constructor(u,d){super(),this.readers=[],this.verbose=!0===d;const f=u?u.get(Ce.POSSIBLE_FORMATS):null,p=u&&void 0!==u.get(Ce.ASSUME_CODE_39_CHECK_DIGIT);f?((f.includes(gt.EAN_13)||f.includes(gt.UPC_A)||f.includes(gt.EAN_8)||f.includes(gt.UPC_E))&&this.readers.push(new Ls(u)),f.includes(gt.CODE_39)&&this.readers.push(new Fs(p)),f.includes(gt.CODE_128)&&this.readers.push(new yt),f.includes(gt.ITF)&&this.readers.push(new _n),f.includes(gt.RSS_14)&&this.readers.push(new Tn),f.includes(gt.RSS_EXPANDED)&&this.readers.push(new nt(this.verbose))):(this.readers.push(new Ls(u)),this.readers.push(new Fs),this.readers.push(new Ls(u)),this.readers.push(new yt),this.readers.push(new _n),this.readers.push(new Tn),this.readers.push(new nt(this.verbose)))}decodeRow(u,d,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(u,d,f)}catch{}throw new _e}reset(){this.readers.forEach(u=>u.reset())}}class In{constructor(u,d,f){this.ecCodewords=u,this.ecBlocks=[d],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class on{constructor(u,d){this.count=u,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class an{constructor(u,d,f,p,m,v){this.versionNumber=u,this.symbolSizeRows=d,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=m,this.ecBlocks=v;let x=0;const b=v.getECCodewords(),A=v.getECBlocks();for(let M of A)x+=M.getCount()*(M.getDataCodewords()+b);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(u,d){if(1&u||1&d)throw new ye;for(let f of an.VERSIONS)if(f.symbolSizeRows===u&&f.symbolSizeColumns===d)return f;throw new ye}toString(){return""+this.versionNumber}static buildVersions(){return[new an(1,10,10,8,8,new In(5,new on(1,3))),new an(2,12,12,10,10,new In(7,new on(1,5))),new an(3,14,14,12,12,new In(10,new on(1,8))),new an(4,16,16,14,14,new In(12,new on(1,12))),new an(5,18,18,16,16,new In(14,new on(1,18))),new an(6,20,20,18,18,new In(18,new on(1,22))),new an(7,22,22,20,20,new In(20,new on(1,30))),new an(8,24,24,22,22,new In(24,new on(1,36))),new an(9,26,26,24,24,new In(28,new on(1,44))),new an(10,32,32,14,14,new In(36,new on(1,62))),new an(11,36,36,16,16,new In(42,new on(1,86))),new an(12,40,40,18,18,new In(48,new on(1,114))),new an(13,44,44,20,20,new In(56,new on(1,144))),new an(14,48,48,22,22,new In(68,new on(1,174))),new an(15,52,52,24,24,new In(42,new on(2,102))),new an(16,64,64,14,14,new In(56,new on(2,140))),new an(17,72,72,16,16,new In(36,new on(4,92))),new an(18,80,80,18,18,new In(48,new on(4,114))),new an(19,88,88,20,20,new In(56,new on(4,144))),new an(20,96,96,22,22,new In(68,new on(4,174))),new an(21,104,104,24,24,new In(56,new on(6,136))),new an(22,120,120,18,18,new In(68,new on(6,175))),new an(23,132,132,20,20,new In(62,new on(8,163))),new an(24,144,144,22,22,new In(62,new on(8,156),new on(2,155))),new an(25,8,18,6,16,new In(7,new on(1,5))),new an(26,8,32,6,14,new In(11,new on(1,10))),new an(27,12,26,10,24,new In(14,new on(1,16))),new an(28,12,36,10,16,new In(18,new on(1,22))),new an(29,16,36,14,16,new In(24,new on(1,32))),new an(30,16,48,14,22,new In(28,new on(1,49)))]}}an.VERSIONS=an.buildVersions();class Us{constructor(u){const d=u.getHeight();if(d<8||d>144||1&d)throw new ye;this.version=Us.readVersion(u),this.mappingBitMatrix=this.extractDataRegion(u),this.readMappingMatrix=new ut(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(u){const d=u.getHeight(),f=u.getWidth();return an.getVersionForDimensions(d,f)}readCodewords(){const u=new Int8Array(this.version.getTotalCodewords());let d=0,f=4,p=0;const m=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let x=!1,b=!1,A=!1,M=!1;do{if(f!==m||0!==p||x)if(f===m-2&&0===p&&3&v&&!b)u[d++]=255&this.readCorner2(m,v),f-=2,p+=2,b=!0;else if(f!==m+4||2!==p||7&v||A)if(f!==m-2||0!==p||4!=(7&v)||M){do{f<m&&p>=0&&!this.readMappingMatrix.get(p,f)&&(u[d++]=255&this.readUtah(f,p,m,v)),f-=2,p+=2}while(f>=0&&p<v);f+=1,p+=3;do{f>=0&&p<v&&!this.readMappingMatrix.get(p,f)&&(u[d++]=255&this.readUtah(f,p,m,v)),f+=2,p-=2}while(f<m&&p>=0);f+=3,p+=1}else u[d++]=255&this.readCorner4(m,v),f-=2,p+=2,M=!0;else u[d++]=255&this.readCorner3(m,v),f-=2,p+=2,A=!0;else u[d++]=255&this.readCorner1(m,v),f-=2,p+=2,x=!0}while(f<m||p<v);if(d!==this.version.getTotalCodewords())throw new ye;return u}readModule(u,d,f,p){return u<0&&(u+=f,d+=4-(f+4&7)),d<0&&(d+=p,u+=4-(p+4&7)),this.readMappingMatrix.set(d,u),this.mappingBitMatrix.get(d,u)}readUtah(u,d,f,p){let m=0;return this.readModule(u-2,d-2,f,p)&&(m|=1),m<<=1,this.readModule(u-2,d-1,f,p)&&(m|=1),m<<=1,this.readModule(u-1,d-2,f,p)&&(m|=1),m<<=1,this.readModule(u-1,d-1,f,p)&&(m|=1),m<<=1,this.readModule(u-1,d,f,p)&&(m|=1),m<<=1,this.readModule(u,d-2,f,p)&&(m|=1),m<<=1,this.readModule(u,d-1,f,p)&&(m|=1),m<<=1,this.readModule(u,d,f,p)&&(m|=1),m}readCorner1(u,d){let f=0;return this.readModule(u-1,0,u,d)&&(f|=1),f<<=1,this.readModule(u-1,1,u,d)&&(f|=1),f<<=1,this.readModule(u-1,2,u,d)&&(f|=1),f<<=1,this.readModule(0,d-2,u,d)&&(f|=1),f<<=1,this.readModule(0,d-1,u,d)&&(f|=1),f<<=1,this.readModule(1,d-1,u,d)&&(f|=1),f<<=1,this.readModule(2,d-1,u,d)&&(f|=1),f<<=1,this.readModule(3,d-1,u,d)&&(f|=1),f}readCorner2(u,d){let f=0;return this.readModule(u-3,0,u,d)&&(f|=1),f<<=1,this.readModule(u-2,0,u,d)&&(f|=1),f<<=1,this.readModule(u-1,0,u,d)&&(f|=1),f<<=1,this.readModule(0,d-4,u,d)&&(f|=1),f<<=1,this.readModule(0,d-3,u,d)&&(f|=1),f<<=1,this.readModule(0,d-2,u,d)&&(f|=1),f<<=1,this.readModule(0,d-1,u,d)&&(f|=1),f<<=1,this.readModule(1,d-1,u,d)&&(f|=1),f}readCorner3(u,d){let f=0;return this.readModule(u-1,0,u,d)&&(f|=1),f<<=1,this.readModule(u-1,d-1,u,d)&&(f|=1),f<<=1,this.readModule(0,d-3,u,d)&&(f|=1),f<<=1,this.readModule(0,d-2,u,d)&&(f|=1),f<<=1,this.readModule(0,d-1,u,d)&&(f|=1),f<<=1,this.readModule(1,d-3,u,d)&&(f|=1),f<<=1,this.readModule(1,d-2,u,d)&&(f|=1),f<<=1,this.readModule(1,d-1,u,d)&&(f|=1),f}readCorner4(u,d){let f=0;return this.readModule(u-3,0,u,d)&&(f|=1),f<<=1,this.readModule(u-2,0,u,d)&&(f|=1),f<<=1,this.readModule(u-1,0,u,d)&&(f|=1),f<<=1,this.readModule(0,d-2,u,d)&&(f|=1),f<<=1,this.readModule(0,d-1,u,d)&&(f|=1),f<<=1,this.readModule(1,d-1,u,d)&&(f|=1),f<<=1,this.readModule(2,d-1,u,d)&&(f|=1),f<<=1,this.readModule(3,d-1,u,d)&&(f|=1),f}extractDataRegion(u){const d=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(u.getHeight()!==d)throw new ue("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),m=this.version.getDataRegionSizeColumns(),v=d/p|0,x=f/m|0,M=new ut(x*m,v*p);for(let B=0;B<v;++B){const $=B*p;for(let re=0;re<x;++re){const le=re*m;for(let me=0;me<p;++me){const Oe=B*(p+2)+1+me,Be=$+me;for(let ht=0;ht<m;++ht)u.get(re*(m+2)+1+ht,Oe)&&M.set(le+ht,Be)}}}return M}}class js{constructor(u,d){this.numDataCodewords=u,this.codewords=d}static getDataBlocks(u,d){const f=d.getECBlocks();let p=0;const m=f.getECBlocks();for(let me of m)p+=me.getCount();const v=new Array(p);let x=0;for(let me of m)for(let Oe=0;Oe<me.getCount();Oe++){const Be=me.getDataCodewords(),ht=f.getECCodewords()+Be;v[x++]=new js(Be,new Uint8Array(ht))}const A=v[0].codewords.length-f.getECCodewords(),M=A-1;let B=0;for(let me=0;me<M;me++)for(let Oe=0;Oe<x;Oe++)v[Oe].codewords[me]=u[B++];const $=24===d.getVersionNumber(),re=$?8:x;for(let me=0;me<re;me++)v[me].codewords[A-1]=u[B++];const le=v[0].codewords.length;for(let me=A;me<le;me++)for(let Oe=0;Oe<x;Oe++){const Be=$?(Oe+8)%x:Oe;v[Be].codewords[$&&Be>7?me-1:me]=u[B++]}if(B!==u.length)throw new ue;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ca{constructor(u){this.bytes=u,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(u){if(u<1||u>32||u>this.available())throw new ue(""+u);let d=0,f=this.bitOffset,p=this.byteOffset;const m=this.bytes;if(f>0){const v=8-f,x=u<v?u:v,b=v-x;d=(m[p]&255>>8-x<<b)>>b,u-=x,f+=x,8===f&&(f=0,p++)}if(u>0){for(;u>=8;)d=d<<8|255&m[p],p++,u-=8;if(u>0){const v=8-u;d=d<<u|(m[p]&255>>v<<v)>>v,f+=u}}return this.bitOffset=f,this.byteOffset=p,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ar=function(S){return S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE",S}(ar||{});class Ki{static decode(u){const d=new ca(u),f=new qe,p=new qe,m=new Array;let v=ar.ASCII_ENCODE;do{if(v===ar.ASCII_ENCODE)v=this.decodeAsciiSegment(d,f,p);else{switch(v){case ar.C40_ENCODE:this.decodeC40Segment(d,f);break;case ar.TEXT_ENCODE:this.decodeTextSegment(d,f);break;case ar.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,f);break;case ar.EDIFACT_ENCODE:this.decodeEdifactSegment(d,f);break;case ar.BASE256_ENCODE:this.decodeBase256Segment(d,f,m);break;default:throw new ye}v=ar.ASCII_ENCODE}}while(v!==ar.PAD_ENCODE&&d.available()>0);return p.length()>0&&f.append(p.toString()),new Nn(u,f.toString(),0===m.length?null:m,null)}static decodeAsciiSegment(u,d,f){let p=!1;do{let m=u.readBits(8);if(0===m)throw new ye;if(m<=128)return p&&(m+=128),d.append(String.fromCharCode(m-1)),ar.ASCII_ENCODE;if(129===m)return ar.PAD_ENCODE;if(m<=229){const v=m-130;v<10&&d.append("0"),d.append(""+v)}else switch(m){case 230:return ar.C40_ENCODE;case 231:return ar.BASE256_ENCODE;case 232:d.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:p=!0;break;case 236:d.append("[)>\x1e05\x1d"),f.insert(0,"\x1e\x04");break;case 237:d.append("[)>\x1e06\x1d"),f.insert(0,"\x1e\x04");break;case 238:return ar.ANSIX12_ENCODE;case 239:return ar.TEXT_ENCODE;case 240:return ar.EDIFACT_ENCODE;default:if(254!==m||0!==u.available())throw new ye}}while(u.available()>0);return ar.ASCII_ENCODE}static decodeC40Segment(u,d){let f=!1;const p=[];let m=0;do{if(8===u.available())return;const v=u.readBits(8);if(254===v)return;this.parseTwoBytes(v,u.readBits(8),p);for(let x=0;x<3;x++){const b=p[x];switch(m){case 0:if(b<3)m=b+1;else{if(!(b<this.C40_BASIC_SET_CHARS.length))throw new ye;{const A=this.C40_BASIC_SET_CHARS[b];f?(d.append(String.fromCharCode(A.charCodeAt(0)+128)),f=!1):d.append(A)}}break;case 1:f?(d.append(String.fromCharCode(b+128)),f=!1):d.append(String.fromCharCode(b)),m=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[b];f?(d.append(String.fromCharCode(A.charCodeAt(0)+128)),f=!1):d.append(A)}else switch(b){case 27:d.append(String.fromCharCode(29));break;case 30:f=!0;break;default:throw new ye}m=0;break;case 3:f?(d.append(String.fromCharCode(b+224)),f=!1):d.append(String.fromCharCode(b+96)),m=0;break;default:throw new ye}}}while(u.available()>0)}static decodeTextSegment(u,d){let f=!1,p=[],m=0;do{if(8===u.available())return;const v=u.readBits(8);if(254===v)return;this.parseTwoBytes(v,u.readBits(8),p);for(let x=0;x<3;x++){const b=p[x];switch(m){case 0:if(b<3)m=b+1;else{if(!(b<this.TEXT_BASIC_SET_CHARS.length))throw new ye;{const A=this.TEXT_BASIC_SET_CHARS[b];f?(d.append(String.fromCharCode(A.charCodeAt(0)+128)),f=!1):d.append(A)}}break;case 1:f?(d.append(String.fromCharCode(b+128)),f=!1):d.append(String.fromCharCode(b)),m=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[b];f?(d.append(String.fromCharCode(A.charCodeAt(0)+128)),f=!1):d.append(A)}else switch(b){case 27:d.append(String.fromCharCode(29));break;case 30:f=!0;break;default:throw new ye}m=0;break;case 3:if(!(b<this.TEXT_SHIFT3_SET_CHARS.length))throw new ye;{const A=this.TEXT_SHIFT3_SET_CHARS[b];f?(d.append(String.fromCharCode(A.charCodeAt(0)+128)),f=!1):d.append(A),m=0}break;default:throw new ye}}}while(u.available()>0)}static decodeAnsiX12Segment(u,d){const f=[];do{if(8===u.available())return;const p=u.readBits(8);if(254===p)return;this.parseTwoBytes(p,u.readBits(8),f);for(let m=0;m<3;m++){const v=f[m];switch(v){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(v<14)d.append(String.fromCharCode(v+44));else{if(!(v<40))throw new ye;d.append(String.fromCharCode(v+51))}}}}while(u.available()>0)}static parseTwoBytes(u,d,f){let p=(u<<8)+d-1,m=Math.floor(p/1600);f[0]=m,p-=1600*m,m=Math.floor(p/40),f[1]=m,f[2]=p-40*m}static decodeEdifactSegment(u,d){do{if(u.available()<=16)return;for(let f=0;f<4;f++){let p=u.readBits(6);if(31===p){const m=8-u.getBitOffset();return void(8!==m&&u.readBits(m))}32&p||(p|=64),d.append(String.fromCharCode(p))}}while(u.available()>0)}static decodeBase256Segment(u,d,f){let p=1+u.getByteOffset();const m=this.unrandomize255State(u.readBits(8),p++);let v;if(v=0===m?u.available()/8|0:m<250?m:250*(m-249)+this.unrandomize255State(u.readBits(8),p++),v<0)throw new ye;const x=new Uint8Array(v);for(let b=0;b<v;b++){if(u.available()<8)throw new ye;x[b]=this.unrandomize255State(u.readBits(8),p++)}f.push(x);try{d.append(Je.decode(x,ge.ISO88591))}catch(b){throw new Vi("Platform does not support required encoding: "+b.message)}}static unrandomize255State(u,d){const p=u-(149*d%255+1);return p>=0?p:p+256}}Ki.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ki.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ki.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ki.TEXT_SHIFT2_SET_CHARS=Ki.C40_SHIFT2_SET_CHARS,Ki.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class ic{constructor(){this.rsDecoder=new lo(pn.DATA_MATRIX_FIELD_256)}decode(u){const d=new Us(u),f=d.getVersion(),p=d.readCodewords(),m=js.getDataBlocks(p,f);let v=0;for(let A of m)v+=A.getNumDataCodewords();const x=new Uint8Array(v),b=m.length;for(let A=0;A<b;A++){const M=m[A],B=M.getCodewords(),$=M.getNumDataCodewords();this.correctErrors(B,$);for(let re=0;re<$;re++)x[re*b+A]=B[re]}return Ki.decode(x)}correctErrors(u,d){const f=new Int32Array(u);try{this.rsDecoder.decode(f,u.length-d)}catch{throw new Fe}for(let p=0;p<d;p++)u[p]=f[p]}}class un{constructor(u){this.image=u,this.rectangleDetector=new Zr(this.image)}detect(){const u=this.rectangleDetector.detect();let d=this.detectSolid1(u);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new _e;d=this.shiftToModuleCenter(d);const f=d[0],p=d[1],m=d[2],v=d[3];let x=this.transitionsBetween(f,v)+1,b=this.transitionsBetween(m,v)+1;1==(1&x)&&(x+=1),1==(1&b)&&(b+=1),4*x<7*b&&4*b<7*x&&(x=b=Math.max(x,b));let A=un.sampleGrid(this.image,f,p,m,v,x,b);return new uo(A,[f,p,m,v])}static shiftPoint(u,d,f){let p=(d.getX()-u.getX())/(f+1),m=(d.getY()-u.getY())/(f+1);return new kt(u.getX()+p,u.getY()+m)}static moveAway(u,d,f){let p=u.getX(),m=u.getY();return p<d?p-=1:p+=1,m<f?m-=1:m+=1,new kt(p,m)}detectSolid1(u){let d=u[0],f=u[1],p=u[3],m=u[2],v=this.transitionsBetween(d,f),x=this.transitionsBetween(f,p),b=this.transitionsBetween(p,m),A=this.transitionsBetween(m,d),M=v,B=[m,d,f,p];return M>x&&(M=x,B[0]=d,B[1]=f,B[2]=p,B[3]=m),M>b&&(M=b,B[0]=f,B[1]=p,B[2]=m,B[3]=d),M>A&&(B[0]=p,B[1]=m,B[2]=d,B[3]=f),B}detectSolid2(u){let d=u[0],f=u[1],p=u[2],m=u[3],v=this.transitionsBetween(d,m),x=un.shiftPoint(f,p,4*(v+1)),b=un.shiftPoint(p,f,4*(v+1));return this.transitionsBetween(x,d)<this.transitionsBetween(b,m)?(u[0]=d,u[1]=f,u[2]=p,u[3]=m):(u[0]=f,u[1]=p,u[2]=m,u[3]=d),u}correctTopRight(u){let d=u[0],f=u[1],p=u[2],m=u[3],v=this.transitionsBetween(d,m),x=this.transitionsBetween(f,m),b=un.shiftPoint(d,f,4*(x+1)),A=un.shiftPoint(p,f,4*(v+1));v=this.transitionsBetween(b,m),x=this.transitionsBetween(A,m);let M=new kt(m.getX()+(p.getX()-f.getX())/(v+1),m.getY()+(p.getY()-f.getY())/(v+1)),B=new kt(m.getX()+(d.getX()-f.getX())/(x+1),m.getY()+(d.getY()-f.getY())/(x+1));return this.isValid(M)?this.isValid(B)?this.transitionsBetween(b,M)+this.transitionsBetween(A,M)>this.transitionsBetween(b,B)+this.transitionsBetween(A,B)?M:B:M:this.isValid(B)?B:null}shiftToModuleCenter(u){let d=u[0],f=u[1],p=u[2],m=u[3],v=this.transitionsBetween(d,m)+1,x=this.transitionsBetween(p,m)+1,b=un.shiftPoint(d,f,4*x),A=un.shiftPoint(p,f,4*v);v=this.transitionsBetween(b,m)+1,x=this.transitionsBetween(A,m)+1,1==(1&v)&&(v+=1),1==(1&x)&&(x+=1);let $,re,M=(d.getX()+f.getX()+p.getX()+m.getX())/4,B=(d.getY()+f.getY()+p.getY()+m.getY())/4;return d=un.moveAway(d,M,B),f=un.moveAway(f,M,B),p=un.moveAway(p,M,B),m=un.moveAway(m,M,B),b=un.shiftPoint(d,f,4*x),b=un.shiftPoint(b,m,4*v),$=un.shiftPoint(f,d,4*x),$=un.shiftPoint($,p,4*v),A=un.shiftPoint(p,m,4*x),A=un.shiftPoint(A,f,4*v),re=un.shiftPoint(m,p,4*x),re=un.shiftPoint(re,d,4*v),[b,$,A,re]}isValid(u){return u.getX()>=0&&u.getX()<this.image.getWidth()&&u.getY()>0&&u.getY()<this.image.getHeight()}static sampleGrid(u,d,f,p,m,v,x){return Xi.getInstance().sampleGrid(u,v,x,.5,.5,v-.5,.5,v-.5,x-.5,.5,x-.5,d.getX(),d.getY(),m.getX(),m.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(u,d){let f=Math.trunc(u.getX()),p=Math.trunc(u.getY()),m=Math.trunc(d.getX()),v=Math.trunc(d.getY()),x=Math.abs(v-p)>Math.abs(m-f);if(x){let me=f;f=p,p=me,me=m,m=v,v=me}let b=Math.abs(m-f),A=Math.abs(v-p),M=-b/2,B=p<v?1:-1,$=f<m?1:-1,re=0,le=this.image.get(x?p:f,x?f:p);for(let me=f,Oe=p;me!==m;me+=$){let Be=this.image.get(x?Oe:me,x?me:Oe);if(Be!==le&&(re++,le=Be),M+=A,M>0){if(Oe===v)break;Oe+=B,M-=b}}return re}}let ys=(()=>{class S{constructor(){this.decoder=new ic}decode(d,f=null){let p,m;if(null!=f&&f.has(Ce.PURE_BARCODE)){const M=S.extractPureBits(d.getBlackMatrix());p=this.decoder.decode(M),m=S.NO_POINTS}else{const M=new un(d.getBlackMatrix()).detect();p=this.decoder.decode(M.getBits()),m=M.getPoints()}const v=p.getRawBytes(),x=new Ye(p.getText(),v,8*v.length,m,gt.DATA_MATRIX,lt.currentTimeMillis()),b=p.getByteSegments();null!=b&&x.putMetadata(Pt.BYTE_SEGMENTS,b);const A=p.getECLevel();return null!=A&&x.putMetadata(Pt.ERROR_CORRECTION_LEVEL,A),x}reset(){}static extractPureBits(d){const f=d.getTopLeftOnBit(),p=d.getBottomRightOnBit();if(null==f||null==p)throw new _e;const m=this.moduleSize(f,d);let v=f[1],b=f[0];const M=(p[0]-b+1)/m,B=(p[1]-v+1)/m;if(M<=0||B<=0)throw new _e;const $=m/2;v+=$,b+=$;const re=new ut(M,B);for(let le=0;le<B;le++){const me=v+le*m;for(let Oe=0;Oe<M;Oe++)d.get(b+Oe*m,me)&&re.set(Oe,le)}return re}static moduleSize(d,f){const p=f.getWidth();let m=d[0];const v=d[1];for(;m<p&&f.get(m,v);)m++;if(m===p)throw new _e;const x=m-d[0];if(0===x)throw new _e;return x}}return S.NO_POINTS=[],S})();var Yt=function(S){return S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H",S}(Yt||{});class kn{constructor(u,d,f){this.value=u,this.stringValue=d,this.bits=f,kn.FOR_BITS.set(f,this),kn.FOR_VALUE.set(u,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(u){switch(u){case"L":return kn.L;case"M":return kn.M;case"Q":return kn.Q;case"H":return kn.H;default:throw new Ee(u+"not available")}}toString(){return this.stringValue}equals(u){return u instanceof kn&&this.value===u.value}static forBits(u){if(u<0||u>=kn.FOR_BITS.size)throw new ue;return kn.FOR_BITS.get(u)}}kn.FOR_BITS=new Map,kn.FOR_VALUE=new Map,kn.L=new kn(Yt.L,"L",1),kn.M=new kn(Yt.M,"M",0),kn.Q=new kn(Yt.Q,"Q",3),kn.H=new kn(Yt.H,"H",2);class ur{constructor(u){this.errorCorrectionLevel=kn.forBits(u>>3&3),this.dataMask=7&u}static numBitsDiffering(u,d){return Se.bitCount(u^d)}static decodeFormatInformation(u,d){const f=ur.doDecodeFormatInformation(u,d);return null!==f?f:ur.doDecodeFormatInformation(u^ur.FORMAT_INFO_MASK_QR,d^ur.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(u,d){let f=Number.MAX_SAFE_INTEGER,p=0;for(const m of ur.FORMAT_INFO_DECODE_LOOKUP){const v=m[0];if(v===u||v===d)return new ur(m[1]);let x=ur.numBitsDiffering(u,v);x<f&&(p=m[1],f=x),u!==d&&(x=ur.numBitsDiffering(d,v),x<f&&(p=m[1],f=x))}return f<=3?new ur(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(u){return u instanceof ur&&this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}ur.FORMAT_INFO_MASK_QR=21522,ur.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Me{constructor(u,...d){this.ecCodewordsPerBlock=u,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let u=0;const d=this.ecBlocks;for(const f of d)u+=f.getCount();return u}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Q{constructor(u,d){this.count=u,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ht{constructor(u,d,...f){this.versionNumber=u,this.alignmentPatternCenters=d,this.ecBlocks=f;let p=0;const m=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const x of v)p+=x.getCount()*(x.getDataCodewords()+m);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(u){return this.ecBlocks[u.getValue()]}static getProvisionalVersionForDimension(u){if(u%4!=1)throw new ye;try{return this.getVersionForNumber((u-17)/4)}catch{throw new ye}}static getVersionForNumber(u){if(u<1||u>40)throw new ue;return Ht.VERSIONS[u-1]}static decodeVersionInformation(u){let d=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<Ht.VERSION_DECODE_INFO.length;p++){const m=Ht.VERSION_DECODE_INFO[p];if(m===u)return Ht.getVersionForNumber(p+7);const v=ur.numBitsDiffering(u,m);v<d&&(f=p+7,d=v)}return d<=3?Ht.getVersionForNumber(f):null}buildFunctionPattern(){const u=this.getDimensionForVersion(),d=new ut(u);d.setRegion(0,0,9,9),d.setRegion(u-8,0,8,9),d.setRegion(0,u-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const m=this.alignmentPatternCenters[p]-2;for(let v=0;v<f;v++)0===p&&(0===v||v===f-1)||p===f-1&&0===v||d.setRegion(this.alignmentPatternCenters[v]-2,m,5,5)}return d.setRegion(6,9,1,u-17),d.setRegion(9,6,u-17,1),this.versionNumber>6&&(d.setRegion(u-11,0,3,6),d.setRegion(0,u-11,6,3)),d}toString(){return""+this.versionNumber}}Ht.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ht.VERSIONS=[new Ht(1,new Int32Array(0),new Me(7,new Q(1,19)),new Me(10,new Q(1,16)),new Me(13,new Q(1,13)),new Me(17,new Q(1,9))),new Ht(2,Int32Array.from([6,18]),new Me(10,new Q(1,34)),new Me(16,new Q(1,28)),new Me(22,new Q(1,22)),new Me(28,new Q(1,16))),new Ht(3,Int32Array.from([6,22]),new Me(15,new Q(1,55)),new Me(26,new Q(1,44)),new Me(18,new Q(2,17)),new Me(22,new Q(2,13))),new Ht(4,Int32Array.from([6,26]),new Me(20,new Q(1,80)),new Me(18,new Q(2,32)),new Me(26,new Q(2,24)),new Me(16,new Q(4,9))),new Ht(5,Int32Array.from([6,30]),new Me(26,new Q(1,108)),new Me(24,new Q(2,43)),new Me(18,new Q(2,15),new Q(2,16)),new Me(22,new Q(2,11),new Q(2,12))),new Ht(6,Int32Array.from([6,34]),new Me(18,new Q(2,68)),new Me(16,new Q(4,27)),new Me(24,new Q(4,19)),new Me(28,new Q(4,15))),new Ht(7,Int32Array.from([6,22,38]),new Me(20,new Q(2,78)),new Me(18,new Q(4,31)),new Me(18,new Q(2,14),new Q(4,15)),new Me(26,new Q(4,13),new Q(1,14))),new Ht(8,Int32Array.from([6,24,42]),new Me(24,new Q(2,97)),new Me(22,new Q(2,38),new Q(2,39)),new Me(22,new Q(4,18),new Q(2,19)),new Me(26,new Q(4,14),new Q(2,15))),new Ht(9,Int32Array.from([6,26,46]),new Me(30,new Q(2,116)),new Me(22,new Q(3,36),new Q(2,37)),new Me(20,new Q(4,16),new Q(4,17)),new Me(24,new Q(4,12),new Q(4,13))),new Ht(10,Int32Array.from([6,28,50]),new Me(18,new Q(2,68),new Q(2,69)),new Me(26,new Q(4,43),new Q(1,44)),new Me(24,new Q(6,19),new Q(2,20)),new Me(28,new Q(6,15),new Q(2,16))),new Ht(11,Int32Array.from([6,30,54]),new Me(20,new Q(4,81)),new Me(30,new Q(1,50),new Q(4,51)),new Me(28,new Q(4,22),new Q(4,23)),new Me(24,new Q(3,12),new Q(8,13))),new Ht(12,Int32Array.from([6,32,58]),new Me(24,new Q(2,92),new Q(2,93)),new Me(22,new Q(6,36),new Q(2,37)),new Me(26,new Q(4,20),new Q(6,21)),new Me(28,new Q(7,14),new Q(4,15))),new Ht(13,Int32Array.from([6,34,62]),new Me(26,new Q(4,107)),new Me(22,new Q(8,37),new Q(1,38)),new Me(24,new Q(8,20),new Q(4,21)),new Me(22,new Q(12,11),new Q(4,12))),new Ht(14,Int32Array.from([6,26,46,66]),new Me(30,new Q(3,115),new Q(1,116)),new Me(24,new Q(4,40),new Q(5,41)),new Me(20,new Q(11,16),new Q(5,17)),new Me(24,new Q(11,12),new Q(5,13))),new Ht(15,Int32Array.from([6,26,48,70]),new Me(22,new Q(5,87),new Q(1,88)),new Me(24,new Q(5,41),new Q(5,42)),new Me(30,new Q(5,24),new Q(7,25)),new Me(24,new Q(11,12),new Q(7,13))),new Ht(16,Int32Array.from([6,26,50,74]),new Me(24,new Q(5,98),new Q(1,99)),new Me(28,new Q(7,45),new Q(3,46)),new Me(24,new Q(15,19),new Q(2,20)),new Me(30,new Q(3,15),new Q(13,16))),new Ht(17,Int32Array.from([6,30,54,78]),new Me(28,new Q(1,107),new Q(5,108)),new Me(28,new Q(10,46),new Q(1,47)),new Me(28,new Q(1,22),new Q(15,23)),new Me(28,new Q(2,14),new Q(17,15))),new Ht(18,Int32Array.from([6,30,56,82]),new Me(30,new Q(5,120),new Q(1,121)),new Me(26,new Q(9,43),new Q(4,44)),new Me(28,new Q(17,22),new Q(1,23)),new Me(28,new Q(2,14),new Q(19,15))),new Ht(19,Int32Array.from([6,30,58,86]),new Me(28,new Q(3,113),new Q(4,114)),new Me(26,new Q(3,44),new Q(11,45)),new Me(26,new Q(17,21),new Q(4,22)),new Me(26,new Q(9,13),new Q(16,14))),new Ht(20,Int32Array.from([6,34,62,90]),new Me(28,new Q(3,107),new Q(5,108)),new Me(26,new Q(3,41),new Q(13,42)),new Me(30,new Q(15,24),new Q(5,25)),new Me(28,new Q(15,15),new Q(10,16))),new Ht(21,Int32Array.from([6,28,50,72,94]),new Me(28,new Q(4,116),new Q(4,117)),new Me(26,new Q(17,42)),new Me(28,new Q(17,22),new Q(6,23)),new Me(30,new Q(19,16),new Q(6,17))),new Ht(22,Int32Array.from([6,26,50,74,98]),new Me(28,new Q(2,111),new Q(7,112)),new Me(28,new Q(17,46)),new Me(30,new Q(7,24),new Q(16,25)),new Me(24,new Q(34,13))),new Ht(23,Int32Array.from([6,30,54,78,102]),new Me(30,new Q(4,121),new Q(5,122)),new Me(28,new Q(4,47),new Q(14,48)),new Me(30,new Q(11,24),new Q(14,25)),new Me(30,new Q(16,15),new Q(14,16))),new Ht(24,Int32Array.from([6,28,54,80,106]),new Me(30,new Q(6,117),new Q(4,118)),new Me(28,new Q(6,45),new Q(14,46)),new Me(30,new Q(11,24),new Q(16,25)),new Me(30,new Q(30,16),new Q(2,17))),new Ht(25,Int32Array.from([6,32,58,84,110]),new Me(26,new Q(8,106),new Q(4,107)),new Me(28,new Q(8,47),new Q(13,48)),new Me(30,new Q(7,24),new Q(22,25)),new Me(30,new Q(22,15),new Q(13,16))),new Ht(26,Int32Array.from([6,30,58,86,114]),new Me(28,new Q(10,114),new Q(2,115)),new Me(28,new Q(19,46),new Q(4,47)),new Me(28,new Q(28,22),new Q(6,23)),new Me(30,new Q(33,16),new Q(4,17))),new Ht(27,Int32Array.from([6,34,62,90,118]),new Me(30,new Q(8,122),new Q(4,123)),new Me(28,new Q(22,45),new Q(3,46)),new Me(30,new Q(8,23),new Q(26,24)),new Me(30,new Q(12,15),new Q(28,16))),new Ht(28,Int32Array.from([6,26,50,74,98,122]),new Me(30,new Q(3,117),new Q(10,118)),new Me(28,new Q(3,45),new Q(23,46)),new Me(30,new Q(4,24),new Q(31,25)),new Me(30,new Q(11,15),new Q(31,16))),new Ht(29,Int32Array.from([6,30,54,78,102,126]),new Me(30,new Q(7,116),new Q(7,117)),new Me(28,new Q(21,45),new Q(7,46)),new Me(30,new Q(1,23),new Q(37,24)),new Me(30,new Q(19,15),new Q(26,16))),new Ht(30,Int32Array.from([6,26,52,78,104,130]),new Me(30,new Q(5,115),new Q(10,116)),new Me(28,new Q(19,47),new Q(10,48)),new Me(30,new Q(15,24),new Q(25,25)),new Me(30,new Q(23,15),new Q(25,16))),new Ht(31,Int32Array.from([6,30,56,82,108,134]),new Me(30,new Q(13,115),new Q(3,116)),new Me(28,new Q(2,46),new Q(29,47)),new Me(30,new Q(42,24),new Q(1,25)),new Me(30,new Q(23,15),new Q(28,16))),new Ht(32,Int32Array.from([6,34,60,86,112,138]),new Me(30,new Q(17,115)),new Me(28,new Q(10,46),new Q(23,47)),new Me(30,new Q(10,24),new Q(35,25)),new Me(30,new Q(19,15),new Q(35,16))),new Ht(33,Int32Array.from([6,30,58,86,114,142]),new Me(30,new Q(17,115),new Q(1,116)),new Me(28,new Q(14,46),new Q(21,47)),new Me(30,new Q(29,24),new Q(19,25)),new Me(30,new Q(11,15),new Q(46,16))),new Ht(34,Int32Array.from([6,34,62,90,118,146]),new Me(30,new Q(13,115),new Q(6,116)),new Me(28,new Q(14,46),new Q(23,47)),new Me(30,new Q(44,24),new Q(7,25)),new Me(30,new Q(59,16),new Q(1,17))),new Ht(35,Int32Array.from([6,30,54,78,102,126,150]),new Me(30,new Q(12,121),new Q(7,122)),new Me(28,new Q(12,47),new Q(26,48)),new Me(30,new Q(39,24),new Q(14,25)),new Me(30,new Q(22,15),new Q(41,16))),new Ht(36,Int32Array.from([6,24,50,76,102,128,154]),new Me(30,new Q(6,121),new Q(14,122)),new Me(28,new Q(6,47),new Q(34,48)),new Me(30,new Q(46,24),new Q(10,25)),new Me(30,new Q(2,15),new Q(64,16))),new Ht(37,Int32Array.from([6,28,54,80,106,132,158]),new Me(30,new Q(17,122),new Q(4,123)),new Me(28,new Q(29,46),new Q(14,47)),new Me(30,new Q(49,24),new Q(10,25)),new Me(30,new Q(24,15),new Q(46,16))),new Ht(38,Int32Array.from([6,32,58,84,110,136,162]),new Me(30,new Q(4,122),new Q(18,123)),new Me(28,new Q(13,46),new Q(32,47)),new Me(30,new Q(48,24),new Q(14,25)),new Me(30,new Q(42,15),new Q(32,16))),new Ht(39,Int32Array.from([6,26,54,82,110,138,166]),new Me(30,new Q(20,117),new Q(4,118)),new Me(28,new Q(40,47),new Q(7,48)),new Me(30,new Q(43,24),new Q(22,25)),new Me(30,new Q(10,15),new Q(67,16))),new Ht(40,Int32Array.from([6,30,58,86,114,142,170]),new Me(30,new Q(19,118),new Q(6,119)),new Me(28,new Q(18,47),new Q(31,48)),new Me(30,new Q(34,24),new Q(34,25)),new Me(30,new Q(20,15),new Q(61,16)))];var Qt=function(S){return S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111",S}(Qt||{});class Jr{constructor(u,d){this.value=u,this.isMasked=d}unmaskBitMatrix(u,d){for(let f=0;f<d;f++)for(let p=0;p<d;p++)this.isMasked(f,p)&&u.flip(p,f)}}Jr.values=new Map([[Qt.DATA_MASK_000,new Jr(Qt.DATA_MASK_000,(S,u)=>0==(S+u&1))],[Qt.DATA_MASK_001,new Jr(Qt.DATA_MASK_001,(S,u)=>0==(1&S))],[Qt.DATA_MASK_010,new Jr(Qt.DATA_MASK_010,(S,u)=>u%3==0)],[Qt.DATA_MASK_011,new Jr(Qt.DATA_MASK_011,(S,u)=>(S+u)%3==0)],[Qt.DATA_MASK_100,new Jr(Qt.DATA_MASK_100,(S,u)=>0==(Math.floor(S/2)+Math.floor(u/3)&1))],[Qt.DATA_MASK_101,new Jr(Qt.DATA_MASK_101,(S,u)=>S*u%6==0)],[Qt.DATA_MASK_110,new Jr(Qt.DATA_MASK_110,(S,u)=>S*u%6<3)],[Qt.DATA_MASK_111,new Jr(Qt.DATA_MASK_111,(S,u)=>0==(S+u+S*u%3&1))]]);class xr{constructor(u){const d=u.getHeight();if(d<21||1!=(3&d))throw new ye;this.bitMatrix=u}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let u=0;for(let m=0;m<6;m++)u=this.copyBit(m,8,u);u=this.copyBit(7,8,u),u=this.copyBit(8,8,u),u=this.copyBit(8,7,u);for(let m=5;m>=0;m--)u=this.copyBit(8,m,u);const d=this.bitMatrix.getHeight();let f=0;const p=d-7;for(let m=d-1;m>=p;m--)f=this.copyBit(8,m,f);for(let m=d-8;m<d;m++)f=this.copyBit(m,8,f);if(this.parsedFormatInfo=ur.decodeFormatInformation(u,f),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new ye}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const u=this.bitMatrix.getHeight(),d=Math.floor((u-17)/4);if(d<=6)return Ht.getVersionForNumber(d);let f=0;const p=u-11;for(let v=5;v>=0;v--)for(let x=u-9;x>=p;x--)f=this.copyBit(x,v,f);let m=Ht.decodeVersionInformation(f);if(null!==m&&m.getDimensionForVersion()===u)return this.parsedVersion=m,m;f=0;for(let v=5;v>=0;v--)for(let x=u-9;x>=p;x--)f=this.copyBit(v,x,f);if(m=Ht.decodeVersionInformation(f),null!==m&&m.getDimensionForVersion()===u)return this.parsedVersion=m,m;throw new ye}copyBit(u,d,f){return(this.isMirror?this.bitMatrix.get(d,u):this.bitMatrix.get(u,d))?f<<1|1:f<<1}readCodewords(){const u=this.readFormatInformation(),d=this.readVersion(),f=Jr.values.get(u.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const m=d.buildFunctionPattern();let v=!0;const x=new Uint8Array(d.getTotalCodewords());let b=0,A=0,M=0;for(let B=p-1;B>0;B-=2){6===B&&B--;for(let $=0;$<p;$++){const re=v?p-1-$:$;for(let le=0;le<2;le++)m.get(B-le,re)||(M++,A<<=1,this.bitMatrix.get(B-le,re)&&(A|=1),8===M&&(x[b++]=A,M=0,A=0))}v=!v}if(b!==d.getTotalCodewords())throw new ye;return x}remask(){if(null===this.parsedFormatInfo)return;const u=Jr.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d)}setMirror(u){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=u}mirror(){const u=this.bitMatrix;for(let d=0,f=u.getWidth();d<f;d++)for(let p=d+1,m=u.getHeight();p<m;p++)u.get(d,p)!==u.get(p,d)&&(u.flip(p,d),u.flip(d,p))}}class R{constructor(u,d){this.numDataCodewords=u,this.codewords=d}static getDataBlocks(u,d,f){if(u.length!==d.getTotalCodewords())throw new ue;const p=d.getECBlocksForLevel(f);let m=0;const v=p.getECBlocks();for(const le of v)m+=le.getCount();const x=new Array(m);let b=0;for(const le of v)for(let me=0;me<le.getCount();me++){const Oe=le.getDataCodewords(),Be=p.getECCodewordsPerBlock()+Oe;x[b++]=new R(Oe,new Uint8Array(Be))}const A=x[0].codewords.length;let M=x.length-1;for(;M>=0&&x[M].codewords.length!==A;)M--;M++;const B=A-p.getECCodewordsPerBlock();let $=0;for(let le=0;le<B;le++)for(let me=0;me<b;me++)x[me].codewords[le]=u[$++];for(let le=M;le<b;le++)x[le].codewords[B]=u[$++];const re=x[0].codewords.length;for(let le=B;le<re;le++)for(let me=0;me<b;me++)x[me].codewords[me<M?le:le+1]=u[$++];return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var W=function(S){return S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI",S}(W||{});class X{constructor(u,d,f,p){this.value=u,this.stringValue=d,this.characterCountBitsForVersions=f,this.bits=p,X.FOR_BITS.set(p,this),X.FOR_VALUE.set(u,this)}static forBits(u){const d=X.FOR_BITS.get(u);if(void 0===d)throw new ue;return d}getCharacterCountBits(u){const d=u.getVersionNumber();let f;return f=d<=9?0:d<=26?1:2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(u){return u instanceof X&&this.value===u.value}toString(){return this.stringValue}}X.FOR_BITS=new Map,X.FOR_VALUE=new Map,X.TERMINATOR=new X(W.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),X.NUMERIC=new X(W.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),X.ALPHANUMERIC=new X(W.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),X.STRUCTURED_APPEND=new X(W.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),X.BYTE=new X(W.BYTE,"BYTE",Int32Array.from([8,16,16]),4),X.ECI=new X(W.ECI,"ECI",Int32Array.from([0,0,0]),7),X.KANJI=new X(W.KANJI,"KANJI",Int32Array.from([8,10,12]),8),X.FNC1_FIRST_POSITION=new X(W.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),X.FNC1_SECOND_POSITION=new X(W.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),X.HANZI=new X(W.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let ve=(()=>{class S{static decode(d,f,p,m){const v=new ca(d);let x=new qe;const b=new Array;let A=-1,M=-1;try{let re,B=null,$=!1;do{if(v.available()<4)re=X.TERMINATOR;else{const le=v.readBits(4);re=X.forBits(le)}switch(re){case X.TERMINATOR:break;case X.FNC1_FIRST_POSITION:case X.FNC1_SECOND_POSITION:$=!0;break;case X.STRUCTURED_APPEND:if(v.available()<16)throw new ye;A=v.readBits(8),M=v.readBits(8);break;case X.ECI:const le=S.parseECIValue(v);if(B=De.getCharacterSetECIByValue(le),null===B)throw new ye;break;case X.HANZI:const me=v.readBits(4),Oe=v.readBits(re.getCharacterCountBits(f));me===S.GB2312_SUBSET&&S.decodeHanziSegment(v,x,Oe);break;default:const Be=v.readBits(re.getCharacterCountBits(f));switch(re){case X.NUMERIC:S.decodeNumericSegment(v,x,Be);break;case X.ALPHANUMERIC:S.decodeAlphanumericSegment(v,x,Be,$);break;case X.BYTE:S.decodeByteSegment(v,x,Be,B,b,m);break;case X.KANJI:S.decodeKanjiSegment(v,x,Be);break;default:throw new ye}}}while(re!==X.TERMINATOR)}catch{throw new ye}return new Nn(d,x.toString(),0===b.length?null:b,null===p?null:p.toString(),A,M)}static decodeHanziSegment(d,f,p){if(13*p>d.available())throw new ye;const m=new Uint8Array(2*p);let v=0;for(;p>0;){const x=d.readBits(13);let b=x/96<<8&4294967295|x%96;b+=b<959?41377:42657,m[v]=b>>8&255,m[v+1]=255&b,v+=2,p--}try{f.append(Je.decode(m,ge.GB2312))}catch(x){throw new ye(x)}}static decodeKanjiSegment(d,f,p){if(13*p>d.available())throw new ye;const m=new Uint8Array(2*p);let v=0;for(;p>0;){const x=d.readBits(13);let b=x/192<<8&4294967295|x%192;b+=b<7936?33088:49472,m[v]=b>>8,m[v+1]=b,v+=2,p--}try{f.append(Je.decode(m,ge.SHIFT_JIS))}catch(x){throw new ye(x)}}static decodeByteSegment(d,f,p,m,v,x){if(8*p>d.available())throw new ye;const b=new Uint8Array(p);for(let M=0;M<p;M++)b[M]=d.readBits(8);let A;A=null===m?ge.guessEncoding(b,x):m.getName();try{f.append(Je.decode(b,A))}catch(M){throw new ye(M)}v.push(b)}static toAlphaNumericChar(d){if(d>=S.ALPHANUMERIC_CHARS.length)throw new ye;return S.ALPHANUMERIC_CHARS[d]}static decodeAlphanumericSegment(d,f,p,m){const v=f.length();for(;p>1;){if(d.available()<11)throw new ye;const x=d.readBits(11);f.append(S.toAlphaNumericChar(Math.floor(x/45))),f.append(S.toAlphaNumericChar(x%45)),p-=2}if(1===p){if(d.available()<6)throw new ye;f.append(S.toAlphaNumericChar(d.readBits(6)))}if(m)for(let x=v;x<f.length();x++)"%"===f.charAt(x)&&(x<f.length()-1&&"%"===f.charAt(x+1)?f.deleteCharAt(x+1):f.setCharAt(x,String.fromCharCode(29)))}static decodeNumericSegment(d,f,p){for(;p>=3;){if(d.available()<10)throw new ye;const m=d.readBits(10);if(m>=1e3)throw new ye;f.append(S.toAlphaNumericChar(Math.floor(m/100))),f.append(S.toAlphaNumericChar(Math.floor(m/10)%10)),f.append(S.toAlphaNumericChar(m%10)),p-=3}if(2===p){if(d.available()<7)throw new ye;const m=d.readBits(7);if(m>=100)throw new ye;f.append(S.toAlphaNumericChar(Math.floor(m/10))),f.append(S.toAlphaNumericChar(m%10))}else if(1===p){if(d.available()<4)throw new ye;const m=d.readBits(4);if(m>=10)throw new ye;f.append(S.toAlphaNumericChar(m))}}static parseECIValue(d){const f=d.readBits(8);if(!(128&f))return 127&f;if(128==(192&f))return(63&f)<<8&4294967295|d.readBits(8);if(192==(224&f))return(31&f)<<16&4294967295|d.readBits(16);throw new ye}}return S.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",S.GB2312_SUBSET=1,S})();class ze{constructor(u){this.mirrored=u}isMirrored(){return this.mirrored}applyMirroredCorrection(u){if(!this.mirrored||null===u||u.length<3)return;const d=u[0];u[0]=u[2],u[2]=d}}class at{constructor(){this.rsDecoder=new lo(pn.QR_CODE_FIELD_256)}decodeBooleanArray(u,d){return this.decodeBitMatrix(ut.parseFromBooleanArray(u),d)}decodeBitMatrix(u,d){const f=new xr(u);let p=null;try{return this.decodeBitMatrixParser(f,d)}catch(m){p=m}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const m=this.decodeBitMatrixParser(f,d);return m.setOther(new ze(!0)),m}catch(m){throw null!==p?p:m}}decodeBitMatrixParser(u,d){const f=u.readVersion(),p=u.readFormatInformation().getErrorCorrectionLevel(),m=u.readCodewords(),v=R.getDataBlocks(m,f,p);let x=0;for(const M of v)x+=M.getNumDataCodewords();const b=new Uint8Array(x);let A=0;for(const M of v){const B=M.getCodewords(),$=M.getNumDataCodewords();this.correctErrors(B,$);for(let re=0;re<$;re++)b[A++]=B[re]}return ve.decode(b,f,p,d)}correctErrors(u,d){const f=new Int32Array(u);try{this.rsDecoder.decode(f,u.length-d)}catch{throw new Fe}for(let p=0;p<d;p++)u[p]=f[p]}}class St extends kt{constructor(u,d,f){super(u,d),this.estimatedModuleSize=f}aboutEquals(u,d,f){if(Math.abs(d-this.getY())<=u&&Math.abs(f-this.getX())<=u){const p=Math.abs(u-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(u,d,f){const p=(this.getX()+d)/2,m=(this.getY()+u)/2;return new St(p,m,(this.estimatedModuleSize+f)/2)}}class Xt{constructor(u,d,f,p,m,v,x){this.image=u,this.startX=d,this.startY=f,this.width=p,this.height=m,this.moduleSize=v,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const u=this.startX,d=this.height,p=u+this.width,m=this.startY+d/2,v=new Int32Array(3),x=this.image;for(let b=0;b<d;b++){const A=m+(1&b?-Math.floor((b+1)/2):Math.floor((b+1)/2));v[0]=0,v[1]=0,v[2]=0;let M=u;for(;M<p&&!x.get(M,A);)M++;let B=0;for(;M<p;){if(x.get(M,A))if(1===B)v[1]++;else if(2===B){if(this.foundPatternCross(v)){const $=this.handlePossibleCenter(v,A,M);if(null!==$)return $}v[0]=v[2],v[1]=1,v[2]=0,B=1}else v[++B]++;else 1===B&&B++,v[B]++;M++}if(this.foundPatternCross(v)){const $=this.handlePossibleCenter(v,A,p);if(null!==$)return $}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new _e}static centerFromEnd(u,d){return d-u[2]-u[1]/2}foundPatternCross(u){const d=this.moduleSize,f=d/2;for(let p=0;p<3;p++)if(Math.abs(d-u[p])>=f)return!1;return!0}crossCheckVertical(u,d,f,p){const m=this.image,v=m.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let b=u;for(;b>=0&&m.get(d,b)&&x[1]<=f;)x[1]++,b--;if(b<0||x[1]>f)return NaN;for(;b>=0&&!m.get(d,b)&&x[0]<=f;)x[0]++,b--;if(x[0]>f)return NaN;for(b=u+1;b<v&&m.get(d,b)&&x[1]<=f;)x[1]++,b++;if(b===v||x[1]>f)return NaN;for(;b<v&&!m.get(d,b)&&x[2]<=f;)x[2]++,b++;return x[2]>f||5*Math.abs(x[0]+x[1]+x[2]-p)>=2*p?NaN:this.foundPatternCross(x)?Xt.centerFromEnd(x,b):NaN}handlePossibleCenter(u,d,f){const p=u[0]+u[1]+u[2],m=Xt.centerFromEnd(u,f),v=this.crossCheckVertical(d,m,2*u[1],p);if(!isNaN(v)){const x=(u[0]+u[1]+u[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(x,v,m))return A.combineEstimate(v,m,x);const b=new St(m,v,x);this.possibleCenters.push(b),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Te extends kt{constructor(u,d,f,p){super(u,d),this.estimatedModuleSize=f,this.count=p,void 0===p&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(u,d,f){if(Math.abs(d-this.getY())<=u&&Math.abs(f-this.getX())<=u){const p=Math.abs(u-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(u,d,f){const p=this.count+1,m=(this.count*this.getX()+d)/p,v=(this.count*this.getY()+u)/p;return new Te(m,v,(this.count*this.estimatedModuleSize+f)/p,p)}}class Zn{constructor(u){this.bottomLeft=u[0],this.topLeft=u[1],this.topRight=u[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Bt=(()=>{class S{constructor(d,f){this.image=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(d){const f=null!=d&&void 0!==d.get(Ce.TRY_HARDER),p=null!=d&&void 0!==d.get(Ce.PURE_BARCODE),m=this.image,v=m.getHeight(),x=m.getWidth();let b=Math.floor(3*v/(4*S.MAX_MODULES));(b<S.MIN_SKIP||f)&&(b=S.MIN_SKIP);let A=!1;const M=new Int32Array(5);for(let $=b-1;$<v&&!A;$+=b){M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0;let re=0;for(let le=0;le<x;le++)if(m.get(le,$))1==(1&re)&&re++,M[re]++;else if(1&re)M[re]++;else if(4===re)if(S.foundPatternCross(M)){if(!0!==this.handlePossibleCenter(M,$,le,p)){M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,re=3;continue}if(b=2,!0===this.hasSkipped)A=this.haveMultiplyConfirmedCenters();else{const Oe=this.findRowSkip();Oe>M[2]&&($+=Oe-M[2]-b,le=x-1)}re=0,M[0]=0,M[1]=0,M[2]=0,M[3]=0,M[4]=0}else M[0]=M[2],M[1]=M[3],M[2]=M[4],M[3]=1,M[4]=0,re=3;else M[++re]++;S.foundPatternCross(M)&&!0===this.handlePossibleCenter(M,$,x,p)&&(b=M[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return kt.orderBestPatterns(B),new Zn(B)}static centerFromEnd(d,f){return f-d[4]-d[3]-d[2]/2}static foundPatternCross(d){let f=0;for(let v=0;v<5;v++){const x=d[v];if(0===x)return!1;f+=x}if(f<7)return!1;const p=f/7,m=p/2;return Math.abs(p-d[0])<m&&Math.abs(p-d[1])<m&&Math.abs(3*p-d[2])<3*m&&Math.abs(p-d[3])<m&&Math.abs(p-d[4])<m}getCrossCheckStateCount(){const d=this.crossCheckStateCount;return d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d}crossCheckDiagonal(d,f,p,m){const v=this.getCrossCheckStateCount();let x=0;const b=this.image;for(;d>=x&&f>=x&&b.get(f-x,d-x);)v[2]++,x++;if(d<x||f<x)return!1;for(;d>=x&&f>=x&&!b.get(f-x,d-x)&&v[1]<=p;)v[1]++,x++;if(d<x||f<x||v[1]>p)return!1;for(;d>=x&&f>=x&&b.get(f-x,d-x)&&v[0]<=p;)v[0]++,x++;if(v[0]>p)return!1;const A=b.getHeight(),M=b.getWidth();for(x=1;d+x<A&&f+x<M&&b.get(f+x,d+x);)v[2]++,x++;if(d+x>=A||f+x>=M)return!1;for(;d+x<A&&f+x<M&&!b.get(f+x,d+x)&&v[3]<p;)v[3]++,x++;if(d+x>=A||f+x>=M||v[3]>=p)return!1;for(;d+x<A&&f+x<M&&b.get(f+x,d+x)&&v[4]<p;)v[4]++,x++;return!(v[4]>=p)&&Math.abs(v[0]+v[1]+v[2]+v[3]+v[4]-m)<2*m&&S.foundPatternCross(v)}crossCheckVertical(d,f,p,m){const v=this.image,x=v.getHeight(),b=this.getCrossCheckStateCount();let A=d;for(;A>=0&&v.get(f,A);)b[2]++,A--;if(A<0)return NaN;for(;A>=0&&!v.get(f,A)&&b[1]<=p;)b[1]++,A--;if(A<0||b[1]>p)return NaN;for(;A>=0&&v.get(f,A)&&b[0]<=p;)b[0]++,A--;if(b[0]>p)return NaN;for(A=d+1;A<x&&v.get(f,A);)b[2]++,A++;if(A===x)return NaN;for(;A<x&&!v.get(f,A)&&b[3]<p;)b[3]++,A++;if(A===x||b[3]>=p)return NaN;for(;A<x&&v.get(f,A)&&b[4]<p;)b[4]++,A++;return b[4]>=p||5*Math.abs(b[0]+b[1]+b[2]+b[3]+b[4]-m)>=2*m?NaN:S.foundPatternCross(b)?S.centerFromEnd(b,A):NaN}crossCheckHorizontal(d,f,p,m){const v=this.image,x=v.getWidth(),b=this.getCrossCheckStateCount();let A=d;for(;A>=0&&v.get(A,f);)b[2]++,A--;if(A<0)return NaN;for(;A>=0&&!v.get(A,f)&&b[1]<=p;)b[1]++,A--;if(A<0||b[1]>p)return NaN;for(;A>=0&&v.get(A,f)&&b[0]<=p;)b[0]++,A--;if(b[0]>p)return NaN;for(A=d+1;A<x&&v.get(A,f);)b[2]++,A++;if(A===x)return NaN;for(;A<x&&!v.get(A,f)&&b[3]<p;)b[3]++,A++;if(A===x||b[3]>=p)return NaN;for(;A<x&&v.get(A,f)&&b[4]<p;)b[4]++,A++;return b[4]>=p||5*Math.abs(b[0]+b[1]+b[2]+b[3]+b[4]-m)>=m?NaN:S.foundPatternCross(b)?S.centerFromEnd(b,A):NaN}handlePossibleCenter(d,f,p,m){const v=d[0]+d[1]+d[2]+d[3]+d[4];let x=S.centerFromEnd(d,p),b=this.crossCheckVertical(f,Math.floor(x),d[2],v);if(!isNaN(b)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(b),d[2],v),!isNaN(x)&&(!m||this.crossCheckDiagonal(Math.floor(b),Math.floor(x),d[2],v)))){const A=v/7;let M=!1;const B=this.possibleCenters;for(let $=0,re=B.length;$<re;$++){const le=B[$];if(le.aboutEquals(A,b,x)){B[$]=le.combineEstimate(b,x,A),M=!0;break}}if(!M){const $=new Te(x,b,A);B.push($),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint($)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=S.CENTER_QUORUM){if(null!=f)return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);f=p}return 0}haveMultiplyConfirmedCenters(){let d=0,f=0;const p=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=S.CENTER_QUORUM&&(d++,f+=x.getEstimatedModuleSize());if(d<3)return!1;const m=f/p;let v=0;for(const x of this.possibleCenters)v+=Math.abs(x.getEstimatedModuleSize()-m);return v<=.05*f}selectBestPatterns(){const d=this.possibleCenters.length;if(d<3)throw new _e;const f=this.possibleCenters;let p;if(d>3){let m=0,v=0;for(const A of this.possibleCenters){const M=A.getEstimatedModuleSize();m+=M,v+=M*M}p=m/d;let x=Math.sqrt(v/d-p*p);f.sort((A,M)=>{const B=Math.abs(M.getEstimatedModuleSize()-p),$=Math.abs(A.getEstimatedModuleSize()-p);return B<$?-1:B>$?1:0});const b=Math.max(.2*p,x);for(let A=0;A<f.length&&f.length>3;A++)Math.abs(f[A].getEstimatedModuleSize()-p)>b&&(f.splice(A,1),A--)}if(f.length>3){let m=0;for(const v of f)m+=v.getEstimatedModuleSize();p=m/f.length,f.sort((v,x)=>{if(x.getCount()===v.getCount()){const b=Math.abs(x.getEstimatedModuleSize()-p),A=Math.abs(v.getEstimatedModuleSize()-p);return b<A?1:b>A?-1:0}return x.getCount()-v.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}return S.CENTER_QUORUM=2,S.MIN_SKIP=3,S.MAX_MODULES=57,S})();class nn{constructor(u){this.image=u}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(u){this.resultPointCallback=null==u?null:u.get(Ce.NEED_RESULT_POINT_CALLBACK);const f=new Bt(this.image,this.resultPointCallback).find(u);return this.processFinderPatternInfo(f)}processFinderPatternInfo(u){const d=u.getTopLeft(),f=u.getTopRight(),p=u.getBottomLeft(),m=this.calculateModuleSize(d,f,p);if(m<1)throw new _e("No pattern found in proccess finder.");const v=nn.computeDimension(d,f,p,m),x=Ht.getProvisionalVersionForDimension(v),b=x.getDimensionForVersion()-7;let A=null;if(x.getAlignmentPatternCenters().length>0){const re=f.getX()-d.getX()+p.getX(),le=f.getY()-d.getY()+p.getY(),me=1-3/b,Oe=Math.floor(d.getX()+me*(re-d.getX())),Be=Math.floor(d.getY()+me*(le-d.getY()));for(let ht=4;ht<=16;ht<<=1)try{A=this.findAlignmentInRegion(m,Oe,Be,ht);break}catch(Dt){if(!(Dt instanceof _e))throw Dt}}const M=nn.createTransform(d,f,p,A,v),B=nn.sampleGrid(this.image,M,v);let $;return $=null===A?[p,d,f]:[p,d,f,A],new uo(B,$)}static createTransform(u,d,f,p,m){const v=m-3.5;let x,b,A,M;return null!==p?(x=p.getX(),b=p.getY(),A=v-3,M=A):(x=d.getX()-u.getX()+f.getX(),b=d.getY()-u.getY()+f.getY(),A=v,M=v),qr.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,A,M,3.5,v,u.getX(),u.getY(),d.getX(),d.getY(),x,b,f.getX(),f.getY())}static sampleGrid(u,d,f){return Xi.getInstance().sampleGridWithTransform(u,f,f,d)}static computeDimension(u,d,f,p){const m=yn.round(kt.distance(u,d)/p),v=yn.round(kt.distance(u,f)/p);let x=Math.floor((m+v)/2)+7;switch(3&x){case 0:x++;break;case 2:x--;break;case 3:throw new _e("Dimensions could be not found.")}return x}calculateModuleSize(u,d,f){return(this.calculateModuleSizeOneWay(u,d)+this.calculateModuleSizeOneWay(u,f))/2}calculateModuleSizeOneWay(u,d){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(d.getX()),Math.floor(d.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(u.getX()),Math.floor(u.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(u,d,f,p){let m=this.sizeOfBlackWhiteBlackRun(u,d,f,p),v=1,x=u-(f-u);x<0?(v=u/(u-x),x=0):x>=this.image.getWidth()&&(v=(this.image.getWidth()-1-u)/(x-u),x=this.image.getWidth()-1);let b=Math.floor(d-(p-d)*v);return v=1,b<0?(v=d/(d-b),b=0):b>=this.image.getHeight()&&(v=(this.image.getHeight()-1-d)/(b-d),b=this.image.getHeight()-1),x=Math.floor(u+(x-u)*v),m+=this.sizeOfBlackWhiteBlackRun(u,d,x,b),m-1}sizeOfBlackWhiteBlackRun(u,d,f,p){const m=Math.abs(p-d)>Math.abs(f-u);if(m){let re=u;u=d,d=re,re=f,f=p,p=re}const v=Math.abs(f-u),x=Math.abs(p-d);let b=-v/2;const A=u<f?1:-1,M=d<p?1:-1;let B=0;const $=f+A;for(let re=u,le=d;re!==$;re+=A){if(1===B===this.image.get(m?le:re,m?re:le)){if(2===B)return yn.distance(re,le,u,d);B++}if(b+=x,b>0){if(le===p)break;le+=M,b-=v}}return 2===B?yn.distance(f+A,p,u,d):NaN}findAlignmentInRegion(u,d,f,p){const m=Math.floor(p*u),v=Math.max(0,d-m),x=Math.min(this.image.getWidth()-1,d+m);if(x-v<3*u)throw new _e("Alignment top exceeds estimated module size.");const b=Math.max(0,f-m),A=Math.min(this.image.getHeight()-1,f+m);if(A-b<3*u)throw new _e("Alignment bottom exceeds estimated module size.");return new Xt(this.image,v,b,x-v,A-b,u,this.resultPointCallback).find()}}class Dr{constructor(){this.decoder=new at}getDecoder(){return this.decoder}decode(u,d){let f,p;if(null!=d&&void 0!==d.get(Ce.PURE_BARCODE)){const b=Dr.extractPureBits(u.getBlackMatrix());f=this.decoder.decodeBitMatrix(b,d),p=Dr.NO_POINTS}else{const b=new nn(u.getBlackMatrix()).detect(d);f=this.decoder.decodeBitMatrix(b.getBits(),d),p=b.getPoints()}f.getOther()instanceof ze&&f.getOther().applyMirroredCorrection(p);const m=new Ye(f.getText(),f.getRawBytes(),void 0,p,gt.QR_CODE,void 0),v=f.getByteSegments();null!==v&&m.putMetadata(Pt.BYTE_SEGMENTS,v);const x=f.getECLevel();return null!==x&&m.putMetadata(Pt.ERROR_CORRECTION_LEVEL,x),f.hasStructuredAppend()&&(m.putMetadata(Pt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),m.putMetadata(Pt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),m}reset(){}static extractPureBits(u){const d=u.getTopLeftOnBit(),f=u.getBottomRightOnBit();if(null===d||null===f)throw new _e;const p=this.moduleSize(d,u);let m=d[1],v=f[1],x=d[0],b=f[0];if(x>=b||m>=v)throw new _e;if(v-m!=b-x&&(b=x+(v-m),b>=u.getWidth()))throw new _e;const A=Math.round((b-x+1)/p),M=Math.round((v-m+1)/p);if(A<=0||M<=0)throw new _e;if(M!==A)throw new _e;const B=Math.floor(p/2);m+=B,x+=B;const $=x+Math.floor((A-1)*p)-b;if($>0){if($>B)throw new _e;x-=$}const re=m+Math.floor((M-1)*p)-v;if(re>0){if(re>B)throw new _e;m-=re}const le=new ut(A,M);for(let me=0;me<M;me++){const Oe=m+Math.floor(me*p);for(let Be=0;Be<A;Be++)u.get(x+Math.floor(Be*p),Oe)&&le.set(Be,me)}return le}static moduleSize(u,d){const f=d.getHeight(),p=d.getWidth();let m=u[0],v=u[1],x=!0,b=0;for(;m<p&&v<f;){if(x!==d.get(m,v)){if(5==++b)break;x=!x}m++,v++}if(m===p||v===f)throw new _e;return(m-u[0])/7}}Dr.NO_POINTS=new Array;class Zt{PDF417Common(){}static getBitCountSum(u){return yn.sum(u)}static toIntArray(u){if(null==u||!u.length)return Zt.EMPTY_INT_ARRAY;const d=new Int32Array(u.length);let f=0;for(const p of u)d[f++]=p;return d}static getCodeword(u){const d=Xe.binarySearch(Zt.SYMBOL_TABLE,262143&u);return d<0?-1:(Zt.CODEWORD_TABLE[d]-1)%Zt.NUMBER_OF_CODEWORDS}}Zt.NUMBER_OF_CODEWORDS=929,Zt.MAX_CODEWORDS_IN_BARCODE=Zt.NUMBER_OF_CODEWORDS-1,Zt.MIN_ROWS_IN_BARCODE=3,Zt.MAX_ROWS_IN_BARCODE=90,Zt.MODULES_IN_CODEWORD=17,Zt.MODULES_IN_STOP_PATTERN=18,Zt.BARS_IN_MODULE=8,Zt.EMPTY_INT_ARRAY=new Int32Array([]),Zt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Zt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class _s{constructor(u,d){this.bits=u,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class en{static detectMultiple(u,d,f){let p=u.getBlackMatrix(),m=en.detect(f,p);return m.length||(p=p.clone(),p.rotate180(),m=en.detect(f,p)),new _s(p,m)}static detect(u,d){const f=new Array;let p=0,m=0,v=!1;for(;p<d.getHeight();){const x=en.findVertices(d,p,m);if(null!=x[0]||null!=x[3]){if(v=!0,f.push(x),!u)break;null!=x[2]?(m=Math.trunc(x[2].getX()),p=Math.trunc(x[2].getY())):(m=Math.trunc(x[4].getX()),p=Math.trunc(x[4].getY()))}else{if(!v)break;v=!1,m=0;for(const b of f)null!=b[1]&&(p=Math.trunc(Math.max(p,b[1].getY()))),null!=b[3]&&(p=Math.max(p,Math.trunc(b[3].getY())));p+=en.ROW_STEP}}return f}static findVertices(u,d,f){const p=u.getHeight(),m=u.getWidth(),v=new Array(8);return en.copyToResult(v,en.findRowsWithPattern(u,p,m,d,f,en.START_PATTERN),en.INDEXES_START_PATTERN),null!=v[4]&&(f=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY())),en.copyToResult(v,en.findRowsWithPattern(u,p,m,d,f,en.STOP_PATTERN),en.INDEXES_STOP_PATTERN),v}static copyToResult(u,d,f){for(let p=0;p<f.length;p++)u[f[p]]=d[p]}static findRowsWithPattern(u,d,f,p,m,v){const x=new Array(4);let b=!1;const A=new Int32Array(v.length);for(;p<d;p+=en.ROW_STEP){let B=en.findGuardPattern(u,m,p,f,!1,v,A);if(null!=B){for(;p>0;){const $=en.findGuardPattern(u,m,--p,f,!1,v,A);if(null==$){p++;break}B=$}x[0]=new kt(B[0],p),x[1]=new kt(B[1],p),b=!0;break}}let M=p+1;if(b){let B=0,$=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;M<d;M++){const re=en.findGuardPattern(u,$[0],M,f,!1,v,A);if(null!=re&&Math.abs($[0]-re[0])<en.MAX_PATTERN_DRIFT&&Math.abs($[1]-re[1])<en.MAX_PATTERN_DRIFT)$=re,B=0;else{if(B>en.SKIPPED_ROW_COUNT_MAX)break;B++}}M-=B+1,x[2]=new kt($[0],M),x[3]=new kt($[1],M)}return M-p<en.BARCODE_MIN_HEIGHT&&Xe.fill(x,null),x}static findGuardPattern(u,d,f,p,m,v,x){Xe.fillWithin(x,0,x.length,0);let b=d,A=0;for(;u.get(b,f)&&b>0&&A++<en.MAX_PIXEL_DRIFT;)b--;let M=b,B=0,$=v.length;for(let re=m;M<p;M++)if(u.get(M,f)!==re)x[B]++;else{if(B===$-1){if(en.patternMatchVariance(x,v,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return new Int32Array([b,M]);b+=x[0]+x[1],lt.arraycopy(x,2,x,0,B-1),x[B-1]=0,x[B]=0,B--}else B++;x[B]=1,re=!re}return B===$-1&&en.patternMatchVariance(x,v,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE?new Int32Array([b,M-1]):null}static patternMatchVariance(u,d,f){let p=u.length,m=0,v=0;for(let A=0;A<p;A++)m+=u[A],v+=d[A];if(m<v)return 1/0;let x=m/v;f*=x;let b=0;for(let A=0;A<p;A++){let M=u[A],B=d[A]*x,$=M>B?M-B:B-M;if($>f)return 1/0;b+=$}return b/m}}en.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),en.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),en.MAX_AVG_VARIANCE=.42,en.MAX_INDIVIDUAL_VARIANCE=.8,en.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),en.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),en.MAX_PIXEL_DRIFT=3,en.MAX_PATTERN_DRIFT=5,en.SKIPPED_ROW_COUNT_MAX=25,en.ROW_STEP=5,en.BARCODE_MIN_HEIGHT=10;class Y{constructor(u,d){if(0===d.length)throw new ue;this.field=u;let f=d.length;if(f>1&&0===d[0]){let p=1;for(;p<f&&0===d[p];)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),lt.arraycopy(d,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(u){return this.coefficients[this.coefficients.length-1-u]}evaluateAt(u){if(0===u)return this.getCoefficient(0);if(1===u){let p=0;for(let m of this.coefficients)p=this.field.add(p,m);return p}let d=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)d=this.field.add(this.field.multiply(u,d),this.coefficients[p]);return d}add(u){if(!this.field.equals(u.field))throw new ue("ModulusPolys do not have same ModulusGF field");if(this.isZero())return u;if(u.isZero())return this;let d=this.coefficients,f=u.coefficients;if(d.length>f.length){let v=d;d=f,f=v}let p=new Int32Array(f.length),m=f.length-d.length;lt.arraycopy(f,0,p,0,m);for(let v=m;v<f.length;v++)p[v]=this.field.add(d[v-m],f[v]);return new Y(this.field,p)}subtract(u){if(!this.field.equals(u.field))throw new ue("ModulusPolys do not have same ModulusGF field");return u.isZero()?this:this.add(u.negative())}multiply(u){return u instanceof Y?this.multiplyOther(u):this.multiplyScalar(u)}multiplyOther(u){if(!this.field.equals(u.field))throw new ue("ModulusPolys do not have same ModulusGF field");if(this.isZero()||u.isZero())return new Y(this.field,new Int32Array([0]));let d=this.coefficients,f=d.length,p=u.coefficients,m=p.length,v=new Int32Array(f+m-1);for(let x=0;x<f;x++){let b=d[x];for(let A=0;A<m;A++)v[x+A]=this.field.add(v[x+A],this.field.multiply(b,p[A]))}return new Y(this.field,v)}negative(){let u=this.coefficients.length,d=new Int32Array(u);for(let f=0;f<u;f++)d[f]=this.field.subtract(0,this.coefficients[f]);return new Y(this.field,d)}multiplyScalar(u){if(0===u)return new Y(this.field,new Int32Array([0]));if(1===u)return this;let d=this.coefficients.length,f=new Int32Array(d);for(let p=0;p<d;p++)f[p]=this.field.multiply(this.coefficients[p],u);return new Y(this.field,f)}multiplyByMonomial(u,d){if(u<0)throw new ue;if(0===d)return new Y(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+u);for(let m=0;m<f;m++)p[m]=this.field.multiply(this.coefficients[m],d);return new Y(this.field,p)}toString(){let u=new qe;for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);0!==f&&(f<0?(u.append(" - "),f=-f):u.length()>0&&u.append(" + "),(0===d||1!==f)&&u.append(f),0!==d&&(1===d?u.append("x"):(u.append("x^"),u.append(d))))}return u.toString()}}class se{add(u,d){return(u+d)%this.modulus}subtract(u,d){return(this.modulus+u-d)%this.modulus}exp(u){return this.expTable[u]}log(u){if(0===u)throw new ue;return this.logTable[u]}inverse(u){if(0===u)throw new Wr;return this.expTable[this.modulus-this.logTable[u]-1]}multiply(u,d){return 0===u||0===d?0:this.expTable[(this.logTable[u]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(u){return u===this}}class z extends se{constructor(u,d){super(),this.modulus=u,this.expTable=new Int32Array(u),this.logTable=new Int32Array(u);let f=1;for(let p=0;p<u;p++)this.expTable[p]=f,f=f*d%u;for(let p=0;p<u-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Y(this,new Int32Array([0])),this.one=new Y(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(u,d){if(u<0)throw new ue;if(0===d)return this.zero;let f=new Int32Array(u+1);return f[0]=d,new Y(this,f)}}z.PDF417_GF=new z(Zt.NUMBER_OF_CODEWORDS,3);class I{constructor(){this.field=z.PDF417_GF}decode(u,d,f){let p=new Y(this.field,u),m=new Int32Array(d),v=!1;for(let le=d;le>0;le--){let me=p.evaluateAt(this.field.exp(le));m[d-le]=me,0!==me&&(v=!0)}if(!v)return 0;let x=this.field.getOne();if(null!=f)for(const le of f){let me=this.field.exp(u.length-1-le),Oe=new Y(this.field,new Int32Array([this.field.subtract(0,me),1]));x=x.multiply(Oe)}let b=new Y(this.field,m),A=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),b,d),M=A[0],B=A[1],$=this.findErrorLocations(M),re=this.findErrorMagnitudes(B,M,$);for(let le=0;le<$.length;le++){let me=u.length-1-this.field.log($[le]);if(me<0)throw Fe.getChecksumInstance();u[me]=this.field.subtract(u[me],re[le])}return $.length}runEuclideanAlgorithm(u,d,f){if(u.getDegree()<d.getDegree()){let $=u;u=d,d=$}let p=u,m=d,v=this.field.getZero(),x=this.field.getOne();for(;m.getDegree()>=Math.round(f/2);){let $=p,re=v;if(p=m,v=x,p.isZero())throw Fe.getChecksumInstance();m=$;let le=this.field.getZero(),me=p.getCoefficient(p.getDegree()),Oe=this.field.inverse(me);for(;m.getDegree()>=p.getDegree()&&!m.isZero();){let Be=m.getDegree()-p.getDegree(),ht=this.field.multiply(m.getCoefficient(m.getDegree()),Oe);le=le.add(this.field.buildMonomial(Be,ht)),m=m.subtract(p.multiplyByMonomial(Be,ht))}x=le.multiply(v).subtract(re).negative()}let b=x.getCoefficient(0);if(0===b)throw Fe.getChecksumInstance();let A=this.field.inverse(b);return[x.multiply(A),m.multiply(A)]}findErrorLocations(u){let d=u.getDegree(),f=new Int32Array(d),p=0;for(let m=1;m<this.field.getSize()&&p<d;m++)0===u.evaluateAt(m)&&(f[p]=this.field.inverse(m),p++);if(p!==d)throw Fe.getChecksumInstance();return f}findErrorMagnitudes(u,d,f){let p=d.getDegree(),m=new Int32Array(p);for(let A=1;A<=p;A++)m[p-A]=this.field.multiply(A,d.getCoefficient(A));let v=new Y(this.field,m),x=f.length,b=new Int32Array(x);for(let A=0;A<x;A++){let M=this.field.inverse(f[A]),B=this.field.subtract(0,u.evaluateAt(M)),$=this.field.inverse(v.evaluateAt(M));b[A]=this.field.multiply(B,$)}return b}}class T{constructor(u,d,f,p,m){u instanceof T?this.constructor_2(u):this.constructor_1(u,d,f,p,m)}constructor_1(u,d,f,p,m){const v=null==d||null==f,x=null==p||null==m;if(v&&x)throw new _e;v?(d=new kt(0,p.getY()),f=new kt(0,m.getY())):x&&(p=new kt(u.getWidth()-1,d.getY()),m=new kt(u.getWidth()-1,f.getY())),this.image=u,this.topLeft=d,this.bottomLeft=f,this.topRight=p,this.bottomRight=m,this.minX=Math.trunc(Math.min(d.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),m.getX())),this.minY=Math.trunc(Math.min(d.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),m.getY()))}constructor_2(u){this.image=u.image,this.topLeft=u.getTopLeft(),this.bottomLeft=u.getBottomLeft(),this.topRight=u.getTopRight(),this.bottomRight=u.getBottomRight(),this.minX=u.getMinX(),this.maxX=u.getMaxX(),this.minY=u.getMinY(),this.maxY=u.getMaxY()}static merge(u,d){return null==u?d:null==d?u:new T(u.image,u.topLeft,u.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(u,d,f){let p=this.topLeft,m=this.bottomLeft,v=this.topRight,x=this.bottomRight;if(u>0){let b=f?this.topLeft:this.topRight,A=Math.trunc(b.getY()-u);A<0&&(A=0);let M=new kt(b.getX(),A);f?p=M:v=M}if(d>0){let b=f?this.bottomLeft:this.bottomRight,A=Math.trunc(b.getY()+d);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let M=new kt(b.getX(),A);f?m=M:x=M}return new T(this.image,p,m,v,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class N{constructor(u,d,f,p){this.columnCount=u,this.errorCorrectionLevel=p,this.rowCountUpperPart=d,this.rowCountLowerPart=f,this.rowCount=d+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class V{constructor(){this.buffer=""}static form(u,d){let f=-1;return u.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,x,b,A,M,B){if("%%"===v)return"%";if(void 0===d[++f])return;v=A?parseInt(A.substr(1)):void 0;let re,$=M?parseInt(M.substr(1)):void 0;switch(B){case"s":re=d[f];break;case"c":re=d[f][0];break;case"f":re=parseFloat(d[f]).toFixed(v);break;case"p":re=parseFloat(d[f]).toPrecision(v);break;case"e":re=parseFloat(d[f]).toExponential(v);break;case"x":re=parseInt(d[f]).toString($||16);break;case"d":re=parseFloat(parseInt(d[f],$||10).toPrecision(v)).toFixed(0)}re="object"==typeof re?JSON.stringify(re):(+re).toString($);let le=parseInt(b),me=b&&b[0]+""=="0"?"0":" ";for(;re.length<le;)re=void 0!==x?re+me:me+re;return re})}format(u,...d){this.buffer+=V.form(u,d)}toString(){return this.buffer}}let K=(()=>{class S{constructor(d){this.boundingBox=new T(d),this.codewords=new Array(d.getMaxY()-d.getMinY()+1)}getCodewordNearby(d){let f=this.getCodeword(d);if(null!=f)return f;for(let p=1;p<S.MAX_NEARBY_DISTANCE;p++){let m=this.imageRowToCodewordIndex(d)-p;if(m>=0&&(f=this.codewords[m],null!=f)||(m=this.imageRowToCodewordIndex(d)+p,m<this.codewords.length&&(f=this.codewords[m],null!=f)))return f}return null}imageRowToCodewordIndex(d){return d-this.boundingBox.getMinY()}setCodeword(d,f){this.codewords[this.imageRowToCodewordIndex(d)]=f}getCodeword(d){return this.codewords[this.imageRowToCodewordIndex(d)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const d=new V;let f=0;for(const p of this.codewords)null!=p?d.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue()):d.format("%3d:    |   %n",f++);return d.toString()}}return S.MAX_NEARBY_DISTANCE=5,S})();class ae{constructor(){this.values=new Map}setValue(u){u=Math.trunc(u);let d=this.values.get(u);null==d&&(d=0),d++,this.values.set(u,d)}getValue(){let u=-1,d=new Array;for(const[f,p]of this.values.entries()){const m={getKey:()=>f,getValue:()=>p};m.getValue()>u?(u=m.getValue(),d=[],d.push(m.getKey())):m.getValue()===u&&d.push(m.getKey())}return Zt.toIntArray(d)}getConfidence(u){return this.values.get(u)}}class ee extends K{constructor(u,d){super(u),this._isLeft=d}setRowNumbers(){for(let u of this.getCodewords())u?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(u){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,u);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),m=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),x=this.imageRowToCodewordIndex(Math.trunc(m.getY())),b=-1,A=1,M=0;for(let B=v;B<x;B++){if(null==d[B])continue;let $=d[B],re=$.getRowNumber()-b;if(0===re)M++;else if(1===re)A=Math.max(A,M),M=1,b=$.getRowNumber();else if(re<0||$.getRowNumber()>=u.getRowCount()||re>B)d[B]=null;else{let le;le=A>2?(A-2)*re:re;let me=le>=B;for(let Oe=1;Oe<=le&&!me;Oe++)me=null!=d[B-Oe];me?d[B]=null:(b=$.getRowNumber(),M=1)}}}getRowHeights(){let u=this.getBarcodeMetadata();if(null==u)return null;this.adjustIncompleteIndicatorColumnRowNumbers(u);let d=new Int32Array(u.getRowCount());for(let f of this.getCodewords())if(null!=f){let p=f.getRowNumber();if(p>=d.length)continue;d[p]++}return d}adjustIncompleteIndicatorColumnRowNumbers(u){let d=this.getBoundingBox(),f=this._isLeft?d.getTopLeft():d.getTopRight(),p=this._isLeft?d.getBottomLeft():d.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),x=this.getCodewords(),b=-1;for(let A=m;A<v;A++){if(null==x[A])continue;let M=x[A];M.setRowNumberAsRowIndicatorColumn();let B=M.getRowNumber()-b;0===B||(1===B?b=M.getRowNumber():M.getRowNumber()>=u.getRowCount()?x[A]=null:b=M.getRowNumber())}}getBarcodeMetadata(){let u=this.getCodewords(),d=new ae,f=new ae,p=new ae,m=new ae;for(let x of u){if(null==x)continue;x.setRowNumberAsRowIndicatorColumn();let b=x.getValue()%30,A=x.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:f.setValue(3*b+1);break;case 1:m.setValue(b/3),p.setValue(b%3);break;case 2:d.setValue(b+1)}}if(0===d.getValue().length||0===f.getValue().length||0===p.getValue().length||0===m.getValue().length||d.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<Zt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>Zt.MAX_ROWS_IN_BARCODE)return null;let v=new N(d.getValue()[0],f.getValue()[0],p.getValue()[0],m.getValue()[0]);return this.removeIncorrectCodewords(u,v),v}removeIncorrectCodewords(u,d){for(let f=0;f<u.length;f++){let p=u[f];if(null==u[f])continue;let m=p.getValue()%30,v=p.getRowNumber();if(v>d.getRowCount())u[f]=null;else switch(this._isLeft||(v+=2),v%3){case 0:3*m+1!==d.getRowCountUpperPart()&&(u[f]=null);break;case 1:(Math.trunc(m/3)!==d.getErrorCorrectionLevel()||m%3!==d.getRowCountLowerPart())&&(u[f]=null);break;case 2:m+1!==d.getColumnCount()&&(u[f]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class ce{constructor(u,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=u,this.barcodeColumnCount=u.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let d,u=Zt.MAX_CODEWORDS_IN_BARCODE;do{d=u,u=this.adjustRowNumbersAndGetCount()}while(u>0&&u<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(u){u?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let u=this.adjustRowNumbersByRow();if(0===u)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let f=this.detectionResultColumns[d].getCodewords();for(let p=0;p<f.length;p++)null!=f[p]&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(d,p,f))}return u}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let u=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<u.length;f++)if(null!=u[f]&&null!=d[f]&&u[f].getRowNumber()===d[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let m=this.detectionResultColumns[p].getCodewords()[f];null!=m&&(m.setRowNumber(u[f].getRowNumber()),m.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let u=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<d.length;f++){if(null==d[f])continue;let p=d[f].getRowNumber(),m=0;for(let v=this.barcodeColumnCount+1;v>0&&m<this.ADJUST_ROW_NUMBER_SKIP;v--){let x=this.detectionResultColumns[v].getCodewords()[f];null!=x&&(m=ce.adjustRowNumberIfValid(p,m,x),x.hasValidRowNumber()||u++)}}return u}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let u=0,d=this.detectionResultColumns[0].getCodewords();for(let f=0;f<d.length;f++){if(null==d[f])continue;let p=d[f].getRowNumber(),m=0;for(let v=1;v<this.barcodeColumnCount+1&&m<this.ADJUST_ROW_NUMBER_SKIP;v++){let x=this.detectionResultColumns[v].getCodewords()[f];null!=x&&(m=ce.adjustRowNumberIfValid(p,m,x),x.hasValidRowNumber()||u++)}}return u}static adjustRowNumberIfValid(u,d,f){return null==f||f.hasValidRowNumber()||(f.isValidRowNumber(u)?(f.setRowNumber(u),d=0):++d),d}adjustRowNumbers(u,d,f){if(!this.detectionResultColumns[u-1])return;let p=f[d],m=this.detectionResultColumns[u-1].getCodewords(),v=m;null!=this.detectionResultColumns[u+1]&&(v=this.detectionResultColumns[u+1].getCodewords());let x=new Array(14);x[2]=m[d],x[3]=v[d],d>0&&(x[0]=f[d-1],x[4]=m[d-1],x[5]=v[d-1]),d>1&&(x[8]=f[d-2],x[10]=m[d-2],x[11]=v[d-2]),d<f.length-1&&(x[1]=f[d+1],x[6]=m[d+1],x[7]=v[d+1]),d<f.length-2&&(x[9]=f[d+2],x[12]=m[d+2],x[13]=v[d+2]);for(let b of x)if(ce.adjustRowNumber(p,b))return}static adjustRowNumber(u,d){return!(null==d||!d.hasValidRowNumber()||d.getBucket()!==u.getBucket()||(u.setRowNumber(d.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(u){this.boundingBox=u}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(u,d){this.detectionResultColumns[u]=d}getDetectionResultColumn(u){return this.detectionResultColumns[u]}toString(){let u=this.detectionResultColumns[0];null==u&&(u=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new V;for(let f=0;f<u.getCodewords().length;f++){d.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(null==this.detectionResultColumns[p]){d.format("    |   ");continue}let m=this.detectionResultColumns[p].getCodewords()[f];null!=m?d.format(" %3d|%3d",m.getRowNumber(),m.getValue()):d.format("    |   ")}d.format("%n")}return d.toString()}}let Ae=(()=>{class S{constructor(d,f,p,m){this.rowNumber=S.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(d),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(d){return d!==S.BARCODE_ROW_UNKNOWN&&this.bucket===d%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(d){this.rowNumber=d}toString(){return this.rowNumber+"|"+this.value}}return S.BARCODE_ROW_UNKNOWN=-1,S})();class H{static initialize(){for(let u=0;u<Zt.SYMBOL_TABLE.length;u++){let d=Zt.SYMBOL_TABLE[u],f=1&d;for(let p=0;p<Zt.BARS_IN_MODULE;p++){let m=0;for(;(1&d)===f;)m+=1,d>>=1;f=1&d,H.RATIOS_TABLE[u]||(H.RATIOS_TABLE[u]=new Array(Zt.BARS_IN_MODULE)),H.RATIOS_TABLE[u][Zt.BARS_IN_MODULE-p-1]=Math.fround(m/Zt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(u){let d=H.getDecodedCodewordValue(H.sampleBitCounts(u));return-1!==d?d:H.getClosestDecodedValue(u)}static sampleBitCounts(u){let d=yn.sum(u),f=new Int32Array(Zt.BARS_IN_MODULE),p=0,m=0;for(let v=0;v<Zt.MODULES_IN_CODEWORD;v++)m+u[p]<=d/(2*Zt.MODULES_IN_CODEWORD)+v*d/Zt.MODULES_IN_CODEWORD&&(m+=u[p],p++),f[p]++;return f}static getDecodedCodewordValue(u){let d=H.getBitValue(u);return-1===Zt.getCodeword(d)?-1:d}static getBitValue(u){let d=0;for(let f=0;f<u.length;f++)for(let p=0;p<u[f];p++)d=d<<1|(f%2==0?1:0);return Math.trunc(d)}static getClosestDecodedValue(u){let d=yn.sum(u),f=new Array(Zt.BARS_IN_MODULE);if(d>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(u[v]/d);let p=Ns.MAX_VALUE,m=-1;this.bSymbolTableReady||H.initialize();for(let v=0;v<H.RATIOS_TABLE.length;v++){let x=0,b=H.RATIOS_TABLE[v];for(let A=0;A<Zt.BARS_IN_MODULE;A++){let M=Math.fround(b[A]-f[A]);if(x+=Math.fround(M*M),x>=p)break}x<p&&(p=x,m=Zt.SYMBOL_TABLE[v])}return m}}H.bSymbolTableReady=!1,H.RATIOS_TABLE=new Array(Zt.SYMBOL_TABLE.length).map(S=>new Array(Zt.BARS_IN_MODULE));class ne{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(u){this.segmentIndex=u}getFileId(){return this.fileId}setFileId(u){this.fileId=u}getOptionalData(){return this.optionalData}setOptionalData(u){this.optionalData=u}isLastSegment(){return this.lastSegment}setLastSegment(u){this.lastSegment=u}getSegmentCount(){return this.segmentCount}setSegmentCount(u){this.segmentCount=u}getSender(){return this.sender||null}setSender(u){this.sender=u}getAddressee(){return this.addressee||null}setAddressee(u){this.addressee=u}getFileName(){return this.fileName}setFileName(u){this.fileName=u}getFileSize(){return this.fileSize}setFileSize(u){this.fileSize=u}getChecksum(){return this.checksum}setChecksum(u){this.checksum=u}getTimestamp(){return this.timestamp}setTimestamp(u){this.timestamp=u}}class J{static parseLong(u,d=void 0){return parseInt(u,d)}}let Ve=(()=>{class S extends de{}return S.kind="NullPointerException",S})();class wt{writeBytes(u){this.writeBytesOffset(u,0,u.length)}writeBytesOffset(u,d,f){if(null==u)throw new Ve;if(d<0||d>u.length||f<0||d+f>u.length||d+f<0)throw new bt;if(0!==f)for(let p=0;p<f;p++)this.write(u[d+p])}flush(){}close(){}}class Lt extends de{}class Ne extends wt{constructor(u=32){if(super(),this.count=0,u<0)throw new ue("Negative initial size: "+u);this.buf=new Uint8Array(u)}ensureCapacity(u){u-this.buf.length>0&&this.grow(u)}grow(u){let f=this.buf.length<<1;if(f-u<0&&(f=u),f<0){if(u<0)throw new Lt;f=Se.MAX_VALUE}this.buf=Xe.copyOfUint8Array(this.buf,f)}write(u){this.ensureCapacity(this.count+1),this.buf[this.count]=u,this.count+=1}writeBytesOffset(u,d,f){if(d<0||d>u.length||f<0||d+f-u.length>0)throw new bt;this.ensureCapacity(this.count+f),lt.arraycopy(u,d,this.buf,this.count,f),this.count+=f}writeTo(u){u.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Xe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(u){return u?"string"==typeof u?this.toString_string(u):this.toString_number(u):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(u){return new String(this.buf).toString()}toString_number(u){return new String(this.buf).toString()}close(){}}var vt=function(S){return S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT",S}(vt||{});function Ot(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fn;function Qn(S){if(typeof Fn>"u"&&(Fn=Ot()),null===Fn)throw new Error("BigInt is not supported!");return Fn(S)}class je{static decode(u,d){let f=new qe(""),p=De.ISO8859_1;f.enableDecoding(p);let m=1,v=u[m++],x=new ne;for(;m<u[0];){switch(v){case je.TEXT_COMPACTION_MODE_LATCH:m=je.textCompaction(u,m,f);break;case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:m=je.byteCompaction(v,u,p,m,f);break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(u[m++]);break;case je.NUMERIC_COMPACTION_MODE_LATCH:m=je.numericCompaction(u,m,f);break;case je.ECI_CHARSET:De.getCharacterSetECIByValue(u[m++]);break;case je.ECI_GENERAL_PURPOSE:m+=2;break;case je.ECI_USER_DEFINED:m++;break;case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:m=je.decodeMacroBlock(u,m,x);break;case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:throw new ye;default:m--,m=je.textCompaction(u,m,f)}if(!(m<u.length))throw ye.getFormatInstance();v=u[m++]}if(0===f.length())throw ye.getFormatInstance();let b=new Nn(null,f.toString(),null,d);return b.setOther(x),b}static decodeMacroBlock(u,d,f){if(d+je.NUMBER_OF_SEQUENCE_CODEWORDS>u[0])throw ye.getFormatInstance();let p=new Int32Array(je.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<je.NUMBER_OF_SEQUENCE_CODEWORDS;x++,d++)p[x]=u[d];f.setSegmentIndex(Se.parseInt(je.decodeBase900toBase10(p,je.NUMBER_OF_SEQUENCE_CODEWORDS)));let m=new qe;d=je.textCompaction(u,d,m),f.setFileId(m.toString());let v=-1;for(u[d]===je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=d+1);d<u[0];)switch(u[d]){case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u[++d]){case je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new qe;d=je.textCompaction(u,d+1,x),f.setFileName(x.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new qe;d=je.textCompaction(u,d+1,b),f.setSender(b.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new qe;d=je.textCompaction(u,d+1,A),f.setAddressee(A.toString());break;case je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let M=new qe;d=je.numericCompaction(u,d+1,M),f.setSegmentCount(Se.parseInt(M.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new qe;d=je.numericCompaction(u,d+1,B),f.setTimestamp(J.parseLong(B.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new qe;d=je.numericCompaction(u,d+1,$),f.setChecksum(Se.parseInt($.toString()));break;case je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let re=new qe;d=je.numericCompaction(u,d+1,re),f.setFileSize(J.parseLong(re.toString()));break;default:throw ye.getFormatInstance()}break;case je.MACRO_PDF417_TERMINATOR:d++,f.setLastSegment(!0);break;default:throw ye.getFormatInstance()}if(-1!==v){let x=d-v;f.isLastSegment()&&x--,f.setOptionalData(Xe.copyOfRange(u,v,v+x))}return d}static textCompaction(u,d,f){let p=new Int32Array(2*(u[0]-d)),m=new Int32Array(2*(u[0]-d)),v=0,x=!1;for(;d<u[0]&&!x;){let b=u[d++];if(b<je.TEXT_COMPACTION_MODE_LATCH)p[v]=b/30,p[v+1]=b%30,v+=2;else switch(b){case je.TEXT_COMPACTION_MODE_LATCH:p[v++]=je.TEXT_COMPACTION_MODE_LATCH;break;case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:d--,x=!0;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[v]=je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=u[d++],m[v]=b,v++}}return je.decodeTextCompaction(p,m,v,f),d}static decodeTextCompaction(u,d,f,p){let m=vt.ALPHA,v=vt.ALPHA,x=0;for(;x<f;){let b=u[x],A="";switch(m){case vt.ALPHA:if(b<26)A=String.fromCharCode(65+b);else switch(b){case 26:A=" ";break;case je.LL:m=vt.LOWER;break;case je.ML:m=vt.MIXED;break;case je.PS:v=m,m=vt.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}break;case vt.LOWER:if(b<26)A=String.fromCharCode(97+b);else switch(b){case 26:A=" ";break;case je.AS:v=m,m=vt.ALPHA_SHIFT;break;case je.ML:m=vt.MIXED;break;case je.PS:v=m,m=vt.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}break;case vt.MIXED:if(b<je.PL)A=je.MIXED_CHARS[b];else switch(b){case je.PL:m=vt.PUNCT;break;case 26:A=" ";break;case je.LL:m=vt.LOWER;break;case je.AL:m=vt.ALPHA;break;case je.PS:v=m,m=vt.PUNCT_SHIFT;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}break;case vt.PUNCT:if(b<je.PAL)A=je.PUNCT_CHARS[b];else switch(b){case je.PAL:m=vt.ALPHA;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}break;case vt.ALPHA_SHIFT:if(m=v,b<26)A=String.fromCharCode(65+b);else switch(b){case 26:A=" ";break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}break;case vt.PUNCT_SHIFT:if(m=v,b<je.PAL)A=je.PUNCT_CHARS[b];else switch(b){case je.PAL:m=vt.ALPHA;break;case je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[x]);break;case je.TEXT_COMPACTION_MODE_LATCH:m=vt.ALPHA}}""!==A&&p.append(A),x++}}static byteCompaction(u,d,f,p,m){let v=new Ne,x=0,b=0,A=!1;switch(u){case je.BYTE_COMPACTION_MODE_LATCH:let M=new Int32Array(6),B=d[p++];for(;p<d[0]&&!A;)switch(M[x++]=B,b=900*b+B,B=d[p++],B){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:p--,A=!0;break;default:if(x%5==0&&x>0){for(let $=0;$<6;++$)v.write(Number(Qn(b)>>Qn(8*(5-$))));b=0,x=0}}p===d[0]&&B<je.TEXT_COMPACTION_MODE_LATCH&&(M[x++]=B);for(let $=0;$<x;$++)v.write(M[$]);break;case je.BYTE_COMPACTION_MODE_LATCH_6:for(;p<d[0]&&!A;){let $=d[p++];if($<je.TEXT_COMPACTION_MODE_LATCH)x++,b=900*b+$;else switch($){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.NUMERIC_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:p--,A=!0}if(x%5==0&&x>0){for(let re=0;re<6;++re)v.write(Number(Qn(b)>>Qn(8*(5-re))));b=0,x=0}}}return m.append(Je.decode(v.toByteArray(),f)),p}static numericCompaction(u,d,f){let p=0,m=!1,v=new Int32Array(je.MAX_NUMERIC_CODEWORDS);for(;d<u[0]&&!m;){let x=u[d++];if(d===u[0]&&(m=!0),x<je.TEXT_COMPACTION_MODE_LATCH)v[p]=x,p++;else switch(x){case je.TEXT_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH:case je.BYTE_COMPACTION_MODE_LATCH_6:case je.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case je.MACRO_PDF417_TERMINATOR:d--,m=!0}(p%je.MAX_NUMERIC_CODEWORDS==0||x===je.NUMERIC_COMPACTION_MODE_LATCH||m)&&p>0&&(f.append(je.decodeBase900toBase10(v,p)),p=0)}return d}static decodeBase900toBase10(u,d){let f=Qn(0);for(let m=0;m<d;m++)f+=je.EXP900[d-m-1]*Qn(u[m]);let p=f.toString();if("1"!==p.charAt(0))throw new ye;return p.substring(1)}}je.TEXT_COMPACTION_MODE_LATCH=900,je.BYTE_COMPACTION_MODE_LATCH=901,je.NUMERIC_COMPACTION_MODE_LATCH=902,je.BYTE_COMPACTION_MODE_LATCH_6=924,je.ECI_USER_DEFINED=925,je.ECI_GENERAL_PURPOSE=926,je.ECI_CHARSET=927,je.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,je.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,je.MACRO_PDF417_TERMINATOR=922,je.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,je.MAX_NUMERIC_CODEWORDS=15,je.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,je.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,je.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,je.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,je.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,je.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,je.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,je.PL=25,je.LL=27,je.AS=27,je.ML=28,je.AL=28,je.PS=29,je.PAL=29,je.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",je.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",je.EXP900=Ot()?function Yo(){let S=[];S[0]=Qn(1);let u=Qn(900);S[1]=u;for(let d=2;d<16;d++)S[d]=S[d-1]*u;return S}():[],je.NUMBER_OF_SEQUENCE_CODEWORDS=2;class cn{constructor(){}static decode(u,d,f,p,m,v,x){let B,b=new T(u,d,f,p,m),A=null,M=null;for(let le=!0;;le=!1){if(null!=d&&(A=cn.getRowIndicatorColumn(u,b,d,!0,v,x)),null!=p&&(M=cn.getRowIndicatorColumn(u,b,p,!1,v,x)),B=cn.merge(A,M),null==B)throw _e.getNotFoundInstance();let me=B.getBoundingBox();if(!le||null==me||!(me.getMinY()<b.getMinY()||me.getMaxY()>b.getMaxY()))break;b=me}B.setBoundingBox(b);let $=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,A),B.setDetectionResultColumn($,M);let re=null!=A;for(let le=1;le<=$;le++){let Oe,me=re?le:$-le;if(void 0!==B.getDetectionResultColumn(me))continue;Oe=0===me||me===$?new ee(b,0===me):new K(b),B.setDetectionResultColumn(me,Oe);let Be=-1,ht=Be;for(let Dt=b.getMinY();Dt<=b.getMaxY();Dt++){if(Be=cn.getStartColumn(B,me,Dt,re),Be<0||Be>b.getMaxX()){if(-1===ht)continue;Be=ht}let Qe=cn.detectCodeword(u,b.getMinX(),b.getMaxX(),re,Be,Dt,v,x);null!=Qe&&(Oe.setCodeword(Dt,Qe),ht=Be,v=Math.min(v,Qe.getWidth()),x=Math.max(x,Qe.getWidth()))}}return cn.createDecoderResult(B)}static merge(u,d){if(null==u&&null==d)return null;let f=cn.getBarcodeMetadata(u,d);if(null==f)return null;let p=T.merge(cn.adjustBoundingBox(u),cn.adjustBoundingBox(d));return new ce(f,p)}static adjustBoundingBox(u){if(null==u)return null;let d=u.getRowHeights();if(null==d)return null;let f=cn.getMax(d),p=0;for(let x of d)if(p+=f-x,x>0)break;let m=u.getCodewords();for(let x=0;p>0&&null==m[x];x++)p--;let v=0;for(let x=d.length-1;x>=0&&(v+=f-d[x],!(d[x]>0));x--);for(let x=m.length-1;v>0&&null==m[x];x--)v--;return u.getBoundingBox().addMissingRows(p,v,u.isLeft())}static getMax(u){let d=-1;for(let f of u)d=Math.max(d,f);return d}static getBarcodeMetadata(u,d){let f,p;return null==u||null==(f=u.getBarcodeMetadata())?null==d?null:d.getBarcodeMetadata():null==d||null==(p=d.getBarcodeMetadata())?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(u,d,f,p,m,v){let x=new ee(d,p);for(let b=0;b<2;b++){let A=0===b?1:-1,M=Math.trunc(Math.trunc(f.getX()));for(let B=Math.trunc(Math.trunc(f.getY()));B<=d.getMaxY()&&B>=d.getMinY();B+=A){let $=cn.detectCodeword(u,0,u.getWidth(),p,M,B,m,v);null!=$&&(x.setCodeword(B,$),M=p?$.getStartX():$.getEndX())}}return x}static adjustCodewordCount(u,d){let f=d[0][1],p=f.getValue(),m=u.getBarcodeColumnCount()*u.getBarcodeRowCount()-cn.getNumberOfECCodeWords(u.getBarcodeECLevel());if(0===p.length){if(m<1||m>Zt.MAX_CODEWORDS_IN_BARCODE)throw _e.getNotFoundInstance();f.setValue(m)}else p[0]!==m&&f.setValue(m)}static createDecoderResult(u){let d=cn.createBarcodeMatrix(u);cn.adjustCodewordCount(u,d);let f=new Array,p=new Int32Array(u.getBarcodeRowCount()*u.getBarcodeColumnCount()),m=[],v=new Array;for(let b=0;b<u.getBarcodeRowCount();b++)for(let A=0;A<u.getBarcodeColumnCount();A++){let M=d[b][A+1].getValue(),B=b*u.getBarcodeColumnCount()+A;0===M.length?f.push(B):1===M.length?p[B]=M[0]:(v.push(B),m.push(M))}let x=new Array(m.length);for(let b=0;b<x.length;b++)x[b]=m[b];return cn.createDecoderResultFromAmbiguousValues(u.getBarcodeECLevel(),p,Zt.toIntArray(f),Zt.toIntArray(v),x)}static createDecoderResultFromAmbiguousValues(u,d,f,p,m){let v=new Int32Array(p.length),x=100;for(;x-- >0;){for(let b=0;b<v.length;b++)d[p[b]]=m[b][v[b]];try{return cn.decodeCodewords(d,u,f)}catch(b){if(!(b instanceof Fe))throw b}if(0===v.length)throw Fe.getChecksumInstance();for(let b=0;b<v.length;b++){if(v[b]<m[b].length-1){v[b]++;break}if(v[b]=0,b===v.length-1)throw Fe.getChecksumInstance()}}throw Fe.getChecksumInstance()}static createBarcodeMatrix(u){let d=Array.from({length:u.getBarcodeRowCount()},()=>new Array(u.getBarcodeColumnCount()+2));for(let p=0;p<d.length;p++)for(let m=0;m<d[p].length;m++)d[p][m]=new ae;let f=0;for(let p of u.getDetectionResultColumns()){if(null!=p)for(let m of p.getCodewords())if(null!=m){let v=m.getRowNumber();if(v>=0){if(v>=d.length)continue;d[v][f].setValue(m.getValue())}}f++}return d}static isValidBarcodeColumn(u,d){return d>=0&&d<=u.getBarcodeColumnCount()+1}static getStartColumn(u,d,f,p){let m=p?1:-1,v=null;if(cn.isValidBarcodeColumn(u,d-m)&&(v=u.getDetectionResultColumn(d-m).getCodeword(f)),null!=v)return p?v.getEndX():v.getStartX();if(v=u.getDetectionResultColumn(d).getCodewordNearby(f),null!=v)return p?v.getStartX():v.getEndX();if(cn.isValidBarcodeColumn(u,d-m)&&(v=u.getDetectionResultColumn(d-m).getCodewordNearby(f)),null!=v)return p?v.getEndX():v.getStartX();let x=0;for(;cn.isValidBarcodeColumn(u,d-m);){d-=m;for(let b of u.getDetectionResultColumn(d).getCodewords())if(null!=b)return(p?b.getEndX():b.getStartX())+m*x*(b.getEndX()-b.getStartX());x++}return p?u.getBoundingBox().getMinX():u.getBoundingBox().getMaxX()}static detectCodeword(u,d,f,p,m,v,x,b){m=cn.adjustCodewordStartColumn(u,d,f,p,m,v);let A=cn.getModuleBitCount(u,d,f,p,m,v);if(null==A)return null;let M,B=yn.sum(A);if(p)M=m+B;else{for(let le=0;le<A.length/2;le++){let me=A[le];A[le]=A[A.length-1-le],A[A.length-1-le]=me}M=m,m=M-B}if(!cn.checkCodewordSkew(B,x,b))return null;let $=H.getDecodedValue(A),re=Zt.getCodeword($);return-1===re?null:new Ae(m,M,cn.getCodewordBucketNumber($),re)}static getModuleBitCount(u,d,f,p,m,v){let x=m,b=new Int32Array(8),A=0,M=p?1:-1,B=p;for(;(p?x<f:x>=d)&&A<b.length;)u.get(x,v)===B?(b[A]++,x+=M):(A++,B=!B);return A===b.length||x===(p?f:d)&&A===b.length-1?b:null}static getNumberOfECCodeWords(u){return 2<<u}static adjustCodewordStartColumn(u,d,f,p,m,v){let x=m,b=p?-1:1;for(let A=0;A<2;A++){for(;(p?x>=d:x<f)&&p===u.get(x,v);){if(Math.abs(m-x)>cn.CODEWORD_SKEW_SIZE)return m;x+=b}b=-b,p=!p}return x}static checkCodewordSkew(u,d,f){return d-cn.CODEWORD_SKEW_SIZE<=u&&u<=f+cn.CODEWORD_SKEW_SIZE}static decodeCodewords(u,d,f){if(0===u.length)throw ye.getFormatInstance();let p=1<<d+1,m=cn.correctErrors(u,f,p);cn.verifyCodewordCount(u,p);let v=je.decode(u,""+d);return v.setErrorsCorrected(m),v.setErasures(f.length),v}static correctErrors(u,d,f){if(null!=d&&d.length>f/2+cn.MAX_ERRORS||f<0||f>cn.MAX_EC_CODEWORDS)throw Fe.getChecksumInstance();return cn.errorCorrection.decode(u,f,d)}static verifyCodewordCount(u,d){if(u.length<4)throw ye.getFormatInstance();let f=u[0];if(f>u.length)throw ye.getFormatInstance();if(0===f){if(!(d<u.length))throw ye.getFormatInstance();u[0]=u.length-d}}static getBitCountForCodeword(u){let d=new Int32Array(8),f=0,p=d.length-1;for(;!((1&u)!==f&&(f=1&u,p--,p<0));)d[p]++,u>>=1;return d}static getCodewordBucketNumber(u){return u instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(u):this.getCodewordBucketNumber_number(u)}static getCodewordBucketNumber_number(u){return cn.getCodewordBucketNumber(cn.getBitCountForCodeword(u))}static getCodewordBucketNumber_Int32Array(u){return(u[0]-u[2]+u[4]-u[6]+9)%9}static toString(u){let d=new V;for(let f=0;f<u.length;f++){d.format("Row %2d: ",f);for(let p=0;p<u[f].length;p++){let m=u[f][p];0===m.getValue().length?d.format("        ",null):d.format("%4d(%2d)",m.getValue()[0],m.getConfidence(m.getValue()[0]))}d.format("%n")}return d.toString()}}cn.CODEWORD_SKEW_SIZE=2,cn.MAX_ERRORS=3,cn.MAX_EC_CODEWORDS=512,cn.errorCorrection=new I;class kr{decode(u,d=null){let f=kr.decode(u,d,!1);if(null==f||0===f.length||null==f[0])throw _e.getNotFoundInstance();return f[0]}decodeMultiple(u,d=null){try{return kr.decode(u,d,!0)}catch(f){throw f instanceof ye||f instanceof Fe?_e.getNotFoundInstance():f}}static decode(u,d,f){const p=new Array,m=en.detectMultiple(u,d,f);for(const v of m.getPoints()){const x=cn.decode(m.getBits(),v[4],v[5],v[6],v[7],kr.getMinCodewordWidth(v),kr.getMaxCodewordWidth(v)),b=new Ye(x.getText(),x.getRawBytes(),void 0,v,gt.PDF_417);b.putMetadata(Pt.ERROR_CORRECTION_LEVEL,x.getECLevel());const A=x.getOther();null!=A&&b.putMetadata(Pt.PDF417_EXTRA_METADATA,A),p.push(b)}return p.map(v=>v)}static getMaxWidth(u,d){return null==u||null==d?0:Math.trunc(Math.abs(u.getX()-d.getX()))}static getMinWidth(u,d){return null==u||null==d?Se.MAX_VALUE:Math.trunc(Math.abs(u.getX()-d.getX()))}static getMaxCodewordWidth(u){return Math.floor(Math.max(Math.max(kr.getMaxWidth(u[0],u[4]),kr.getMaxWidth(u[6],u[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.max(kr.getMaxWidth(u[1],u[5]),kr.getMaxWidth(u[7],u[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(u){return Math.floor(Math.min(Math.min(kr.getMinWidth(u[0],u[4]),kr.getMinWidth(u[6],u[2])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN),Math.min(kr.getMinWidth(u[1],u[5]),kr.getMinWidth(u[7],u[3])*Zt.MODULES_IN_CODEWORD/Zt.MODULES_IN_STOP_PATTERN)))}reset(){}}let Cl=(()=>{class S extends de{}return S.kind="ReaderException",S})();class pf{constructor(u,d){this.verbose=!0===u,d&&this.setHints(d)}decode(u,d){return d&&this.setHints(d),this.decodeInternal(u)}decodeWithState(u){return null==this.readers&&this.setHints(null),this.decodeInternal(u)}setHints(u){this.hints=u;const d=!E(u)&&!0===u.get(Ce.TRY_HARDER),f=E(u)?null:u.get(Ce.POSSIBLE_FORMATS),p=new Array;if(!E(f)){const m=f.some(v=>v===gt.UPC_A||v===gt.UPC_E||v===gt.EAN_13||v===gt.EAN_8||v===gt.CODABAR||v===gt.CODE_39||v===gt.CODE_93||v===gt.CODE_128||v===gt.ITF||v===gt.RSS_14||v===gt.RSS_EXPANDED);m&&!d&&p.push(new oi(u,this.verbose)),f.includes(gt.QR_CODE)&&p.push(new Dr),f.includes(gt.DATA_MATRIX)&&p.push(new ys),f.includes(gt.AZTEC)&&p.push(new yi),f.includes(gt.PDF_417)&&p.push(new kr),m&&d&&p.push(new oi(u,this.verbose))}0===p.length&&(d||p.push(new oi(u,this.verbose)),p.push(new Dr),p.push(new ys),p.push(new yi),p.push(new kr),d&&p.push(new oi(u,this.verbose))),this.readers=p}reset(){if(null!==this.readers)for(const u of this.readers)u.reset()}decodeInternal(u){if(null===this.readers)throw new Cl("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(u,this.hints)}catch(f){if(f instanceof Cl)continue}throw new _e("No MultiFormat Readers were able to detect the code.")}}var mf=function(S){return S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION",S}(mf||{}),Gn=mf;class Su{constructor(u){this.field=u,this.cachedGenerators=[],this.cachedGenerators.push(new Pn(u,Int32Array.from([1])))}buildGenerator(u){const d=this.cachedGenerators;if(u>=d.length){let f=d[d.length-1];const p=this.field;for(let m=d.length;m<=u;m++){const v=f.multiply(new Pn(p,Int32Array.from([1,p.exp(m-1+p.getGeneratorBase())])));d.push(v),f=v}}return d[u]}encode(u,d){if(0===d)throw new ue("No error correction bytes");const f=u.length-d;if(f<=0)throw new ue("No data bytes provided");const p=this.buildGenerator(d),m=new Int32Array(f);lt.arraycopy(u,0,m,0,f);let v=new Pn(this.field,m);v=v.multiplyByMonomial(d,1);const b=v.divide(p)[1].getCoefficients(),A=d-b.length;for(let M=0;M<A;M++)u[f+M]=0;lt.arraycopy(b,0,u,f+A,b.length)}}let El=(()=>{class S{constructor(){}static applyMaskPenaltyRule1(d){return S.applyMaskPenaltyRule1Internal(d,!0)+S.applyMaskPenaltyRule1Internal(d,!1)}static applyMaskPenaltyRule2(d){let f=0;const p=d.getArray(),m=d.getWidth(),v=d.getHeight();for(let x=0;x<v-1;x++){const b=p[x];for(let A=0;A<m-1;A++){const M=b[A];M===b[A+1]&&M===p[x+1][A]&&M===p[x+1][A+1]&&f++}}return S.N2*f}static applyMaskPenaltyRule3(d){let f=0;const p=d.getArray(),m=d.getWidth(),v=d.getHeight();for(let x=0;x<v;x++)for(let b=0;b<m;b++){const A=p[x];b+6<m&&1===A[b]&&0===A[b+1]&&1===A[b+2]&&1===A[b+3]&&1===A[b+4]&&0===A[b+5]&&1===A[b+6]&&(S.isWhiteHorizontal(A,b-4,b)||S.isWhiteHorizontal(A,b+7,b+11))&&f++,x+6<v&&1===p[x][b]&&0===p[x+1][b]&&1===p[x+2][b]&&1===p[x+3][b]&&1===p[x+4][b]&&0===p[x+5][b]&&1===p[x+6][b]&&(S.isWhiteVertical(p,b,x-4,x)||S.isWhiteVertical(p,b,x+7,x+11))&&f++}return f*S.N3}static isWhiteHorizontal(d,f,p){f=Math.max(f,0),p=Math.min(p,d.length);for(let m=f;m<p;m++)if(1===d[m])return!1;return!0}static isWhiteVertical(d,f,p,m){p=Math.max(p,0),m=Math.min(m,d.length);for(let v=p;v<m;v++)if(1===d[v][f])return!1;return!0}static applyMaskPenaltyRule4(d){let f=0;const p=d.getArray(),m=d.getWidth(),v=d.getHeight();for(let A=0;A<v;A++){const M=p[A];for(let B=0;B<m;B++)1===M[B]&&f++}const x=d.getHeight()*d.getWidth();return Math.floor(10*Math.abs(2*f-x)/x)*S.N4}static getDataMaskBit(d,f,p){let m,v;switch(d){case 0:m=p+f&1;break;case 1:m=1&p;break;case 2:m=f%3;break;case 3:m=(p+f)%3;break;case 4:m=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:v=p*f,m=(1&v)+v%3;break;case 6:v=p*f,m=(1&v)+v%3&1;break;case 7:v=p*f,m=v%3+(p+f&1)&1;break;default:throw new ue("Invalid mask pattern: "+d)}return 0===m}static applyMaskPenaltyRule1Internal(d,f){let p=0;const m=f?d.getHeight():d.getWidth(),v=f?d.getWidth():d.getHeight(),x=d.getArray();for(let b=0;b<m;b++){let A=0,M=-1;for(let B=0;B<v;B++){const $=f?x[b][B]:x[B][b];$===M?A++:(A>=5&&(p+=S.N1+(A-5)),A=1,M=$)}A>=5&&(p+=S.N1+(A-5))}return p}}return S.N1=3,S.N2=3,S.N3=40,S.N4=10,S})();class tr{constructor(u,d){this.width=u,this.height=d;const f=new Array(d);for(let p=0;p!==d;p++)f[p]=new Uint8Array(u);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(u,d){return this.bytes[d][u]}getArray(){return this.bytes}setNumber(u,d,f){this.bytes[d][u]=f}setBoolean(u,d,f){this.bytes[d][u]=f?1:0}clear(u){for(const d of this.bytes)Xe.fill(d,u)}equals(u){if(!(u instanceof tr))return!1;const d=u;if(this.width!==d.width||this.height!==d.height)return!1;for(let f=0,p=this.height;f<p;++f){const m=this.bytes[f],v=d.bytes[f];for(let x=0,b=this.width;x<b;++x)if(m[x]!==v[x])return!1}return!0}toString(){const u=new qe;for(let d=0,f=this.height;d<f;++d){const p=this.bytes[d];for(let m=0,v=this.width;m<v;++m)switch(p[m]){case 0:u.append(" 0");break;case 1:u.append(" 1");break;default:u.append("  ")}u.append("\n")}return u.toString()}}let vf=(()=>{class S{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const d=new qe;return d.append("<<\n"),d.append(" mode: "),d.append(this.mode?this.mode.toString():"null"),d.append("\n ecLevel: "),d.append(this.ecLevel?this.ecLevel.toString():"null"),d.append("\n version: "),d.append(this.version?this.version.toString():"null"),d.append("\n maskPattern: "),d.append(this.maskPattern.toString()),this.matrix?(d.append("\n matrix:\n"),d.append(this.matrix.toString())):d.append("\n matrix: null\n"),d.append(">>\n"),d.toString()}setMode(d){this.mode=d}setECLevel(d){this.ecLevel=d}setVersion(d){this.version=d}setMaskPattern(d){this.maskPattern=d}setMatrix(d){this.matrix=d}static isValidMaskPattern(d){return d>=0&&d<S.NUM_MASK_PATTERNS}}return S.NUM_MASK_PATTERNS=8,S})(),Er=(()=>{class S extends de{}return S.kind="WriterException",S})();class Ge{constructor(){}static clearMatrix(u){u.clear(255)}static buildMatrix(u,d,f,p,m){Ge.clearMatrix(m),Ge.embedBasicPatterns(f,m),Ge.embedTypeInfo(d,p,m),Ge.maybeEmbedVersionInfo(f,m),Ge.embedDataBits(u,p,m)}static embedBasicPatterns(u,d){Ge.embedPositionDetectionPatternsAndSeparators(d),Ge.embedDarkDotAtLeftBottomCorner(d),Ge.maybeEmbedPositionAdjustmentPatterns(u,d),Ge.embedTimingPatterns(d)}static embedTypeInfo(u,d,f){const p=new be;Ge.makeTypeInfoBits(u,d,p);for(let m=0,v=p.getSize();m<v;++m){const x=p.get(p.getSize()-1-m),b=Ge.TYPE_INFO_COORDINATES[m];if(f.setBoolean(b[0],b[1],x),m<8){const B=f.getWidth()-m-1;f.setBoolean(B,8,x)}else{const $=f.getHeight()-7+(m-8);f.setBoolean(8,$,x)}}}static maybeEmbedVersionInfo(u,d){if(u.getVersionNumber()<7)return;const f=new be;Ge.makeVersionInfoBits(u,f);let p=17;for(let m=0;m<6;++m)for(let v=0;v<3;++v){const x=f.get(p);p--,d.setBoolean(m,d.getHeight()-11+v,x),d.setBoolean(d.getHeight()-11+v,m,x)}}static embedDataBits(u,d,f){let p=0,m=-1,v=f.getWidth()-1,x=f.getHeight()-1;for(;v>0;){for(6===v&&(v-=1);x>=0&&x<f.getHeight();){for(let b=0;b<2;++b){const A=v-b;if(!Ge.isEmpty(f.get(A,x)))continue;let M;p<u.getSize()?(M=u.get(p),++p):M=!1,255!==d&&El.getDataMaskBit(d,A,x)&&(M=!M),f.setBoolean(A,x,M)}x+=m}m=-m,x+=m,v-=2}if(p!==u.getSize())throw new Er("Not all bits consumed: "+p+"/"+u.getSize())}static findMSBSet(u){return 32-Se.numberOfLeadingZeros(u)}static calculateBCHCode(u,d){if(0===d)throw new ue("0 polynomial");const f=Ge.findMSBSet(d);for(u<<=f-1;Ge.findMSBSet(u)>=f;)u^=d<<Ge.findMSBSet(u)-f;return u}static makeTypeInfoBits(u,d,f){if(!vf.isValidMaskPattern(d))throw new Er("Invalid mask pattern");const p=u.getBits()<<3|d;f.appendBits(p,5);const m=Ge.calculateBCHCode(p,Ge.TYPE_INFO_POLY);f.appendBits(m,10);const v=new be;if(v.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),f.xor(v),15!==f.getSize())throw new Er("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(u,d){d.appendBits(u.getVersionNumber(),6);const f=Ge.calculateBCHCode(u.getVersionNumber(),Ge.VERSION_INFO_POLY);if(d.appendBits(f,12),18!==d.getSize())throw new Er("should not happen but we got: "+d.getSize())}static isEmpty(u){return 255===u}static embedTimingPatterns(u){for(let d=8;d<u.getWidth()-8;++d){const f=(d+1)%2;Ge.isEmpty(u.get(d,6))&&u.setNumber(d,6,f),Ge.isEmpty(u.get(6,d))&&u.setNumber(6,d,f)}}static embedDarkDotAtLeftBottomCorner(u){if(0===u.get(8,u.getHeight()-8))throw new Er;u.setNumber(8,u.getHeight()-8,1)}static embedHorizontalSeparationPattern(u,d,f){for(let p=0;p<8;++p){if(!Ge.isEmpty(f.get(u+p,d)))throw new Er;f.setNumber(u+p,d,0)}}static embedVerticalSeparationPattern(u,d,f){for(let p=0;p<7;++p){if(!Ge.isEmpty(f.get(u,d+p)))throw new Er;f.setNumber(u,d+p,0)}}static embedPositionAdjustmentPattern(u,d,f){for(let p=0;p<5;++p){const m=Ge.POSITION_ADJUSTMENT_PATTERN[p];for(let v=0;v<5;++v)f.setNumber(u+v,d+p,m[v])}}static embedPositionDetectionPattern(u,d,f){for(let p=0;p<7;++p){const m=Ge.POSITION_DETECTION_PATTERN[p];for(let v=0;v<7;++v)f.setNumber(u+v,d+p,m[v])}}static embedPositionDetectionPatternsAndSeparators(u){const d=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,u),Ge.embedPositionDetectionPattern(u.getWidth()-d,0,u),Ge.embedPositionDetectionPattern(0,u.getWidth()-d,u);Ge.embedHorizontalSeparationPattern(0,7,u),Ge.embedHorizontalSeparationPattern(u.getWidth()-8,7,u),Ge.embedHorizontalSeparationPattern(0,u.getWidth()-8,u);Ge.embedVerticalSeparationPattern(7,0,u),Ge.embedVerticalSeparationPattern(u.getHeight()-7-1,0,u),Ge.embedVerticalSeparationPattern(7,u.getHeight()-7,u)}static maybeEmbedPositionAdjustmentPatterns(u,d){if(u.getVersionNumber()<2)return;const f=u.getVersionNumber()-1,p=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let m=0,v=p.length;m!==v;m++){const x=p[m];if(x>=0)for(let b=0;b!==v;b++){const A=p[b];A>=0&&Ge.isEmpty(d.get(A,x))&&Ge.embedPositionAdjustmentPattern(A-2,x-2,d)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class yf{constructor(u,d){this.dataBytes=u,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dr{constructor(){}static calculateMaskPenalty(u){return El.applyMaskPenaltyRule1(u)+El.applyMaskPenaltyRule2(u)+El.applyMaskPenaltyRule3(u)+El.applyMaskPenaltyRule4(u)}static encode(u,d,f=null){let p=dr.DEFAULT_BYTE_MODE_ENCODING;const m=null!==f&&void 0!==f.get(Gn.CHARACTER_SET);m&&(p=f.get(Gn.CHARACTER_SET).toString());const v=this.chooseMode(u,p),x=new be;if(v===X.BYTE&&(m||dr.DEFAULT_BYTE_MODE_ENCODING!==p)){const Dt=De.getCharacterSetECIByName(p);void 0!==Dt&&this.appendECI(Dt,x)}this.appendModeInfo(v,x);const b=new be;let A;if(this.appendBytes(u,v,b,p),null!==f&&void 0!==f.get(Gn.QR_VERSION)){const Dt=Number.parseInt(f.get(Gn.QR_VERSION).toString(),10);A=Ht.getVersionForNumber(Dt);const Qe=this.calculateBitsNeeded(v,x,b,A);if(!this.willFit(Qe,A,d))throw new Er("Data too big for requested version")}else A=this.recommendVersion(d,v,x,b);const M=new be;M.appendBitArray(x);const B=v===X.BYTE?b.getSizeInBytes():u.length;this.appendLengthInfo(B,A,v,M),M.appendBitArray(b);const $=A.getECBlocksForLevel(d),re=A.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(re,M);const le=this.interleaveWithECBytes(M,A.getTotalCodewords(),re,$.getNumBlocks()),me=new vf;me.setECLevel(d),me.setMode(v),me.setVersion(A);const Oe=A.getDimensionForVersion(),Be=new tr(Oe,Oe),ht=this.chooseMaskPattern(le,d,A,Be);return me.setMaskPattern(ht),Ge.buildMatrix(le,d,A,ht,Be),me.setMatrix(Be),me}static recommendVersion(u,d,f,p){const m=this.calculateBitsNeeded(d,f,p,Ht.getVersionForNumber(1)),v=this.chooseVersion(m,u),x=this.calculateBitsNeeded(d,f,p,v);return this.chooseVersion(x,u)}static calculateBitsNeeded(u,d,f,p){return d.getSize()+u.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(u){return u<dr.ALPHANUMERIC_TABLE.length?dr.ALPHANUMERIC_TABLE[u]:-1}static chooseMode(u,d=null){if(De.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(u))return X.KANJI;let f=!1,p=!1;for(let m=0,v=u.length;m<v;++m){const x=u.charAt(m);if(dr.isDigit(x))f=!0;else{if(-1===this.getAlphanumericCode(x.charCodeAt(0)))return X.BYTE;p=!0}}return p?X.ALPHANUMERIC:f?X.NUMERIC:X.BYTE}static isOnlyDoubleByteKanji(u){let d;try{d=Je.encode(u,De.SJIS)}catch{return!1}const f=d.length;if(f%2!=0)return!1;for(let p=0;p<f;p+=2){const m=255&d[p];if((m<129||m>159)&&(m<224||m>235))return!1}return!0}static chooseMaskPattern(u,d,f,p){let m=Number.MAX_SAFE_INTEGER,v=-1;for(let x=0;x<vf.NUM_MASK_PATTERNS;x++){Ge.buildMatrix(u,d,f,x,p);let b=this.calculateMaskPenalty(p);b<m&&(m=b,v=x)}return v}static chooseVersion(u,d){for(let f=1;f<=40;f++){const p=Ht.getVersionForNumber(f);if(dr.willFit(u,p,d))return p}throw new Er("Data too big")}static willFit(u,d,f){return d.getTotalCodewords()-d.getECBlocksForLevel(f).getTotalECCodewords()>=(u+7)/8}static terminateBits(u,d){const f=8*u;if(d.getSize()>f)throw new Er("data bits cannot fit in the QR Code"+d.getSize()+" > "+f);for(let v=0;v<4&&d.getSize()<f;++v)d.appendBit(!1);const p=7&d.getSize();if(p>0)for(let v=p;v<8;v++)d.appendBit(!1);const m=u-d.getSizeInBytes();for(let v=0;v<m;++v)d.appendBits(1&v?17:236,8);if(d.getSize()!==f)throw new Er("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(u,d,f,p,m,v){if(p>=f)throw new Er("Block ID too large");const x=u%f,b=f-x,A=Math.floor(u/f),M=A+1,B=Math.floor(d/f),$=B+1,re=A-B,le=M-$;if(re!==le)throw new Er("EC bytes mismatch");if(f!==b+x)throw new Er("RS blocks mismatch");if(u!==(B+re)*b+($+le)*x)throw new Er("Total bytes mismatch");p<b?(m[0]=B,v[0]=re):(m[0]=$,v[0]=le)}static interleaveWithECBytes(u,d,f,p){if(u.getSizeInBytes()!==f)throw new Er("Number of bits and data bytes does not match");let m=0,v=0,x=0;const b=new Array;for(let M=0;M<p;++M){const B=new Int32Array(1),$=new Int32Array(1);dr.getNumDataBytesAndNumECBytesForBlockID(d,f,p,M,B,$);const re=B[0],le=new Uint8Array(re);u.toBytes(8*m,le,0,re);const me=dr.generateECBytes(le,$[0]);b.push(new yf(le,me)),v=Math.max(v,re),x=Math.max(x,me.length),m+=B[0]}if(f!==m)throw new Er("Data bytes does not match offset");const A=new be;for(let M=0;M<v;++M)for(const B of b){const $=B.getDataBytes();M<$.length&&A.appendBits($[M],8)}for(let M=0;M<x;++M)for(const B of b){const $=B.getErrorCorrectionBytes();M<$.length&&A.appendBits($[M],8)}if(d!==A.getSizeInBytes())throw new Er("Interleaving error: "+d+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(u,d){const f=u.length,p=new Int32Array(f+d);for(let v=0;v<f;v++)p[v]=255&u[v];new Su(pn.QR_CODE_FIELD_256).encode(p,d);const m=new Uint8Array(d);for(let v=0;v<d;v++)m[v]=p[f+v];return m}static appendModeInfo(u,d){d.appendBits(u.getBits(),4)}static appendLengthInfo(u,d,f,p){const m=f.getCharacterCountBits(d);if(u>=1<<m)throw new Er(u+" is bigger than "+((1<<m)-1));p.appendBits(u,m)}static appendBytes(u,d,f,p){switch(d){case X.NUMERIC:dr.appendNumericBytes(u,f);break;case X.ALPHANUMERIC:dr.appendAlphanumericBytes(u,f);break;case X.BYTE:dr.append8BitBytes(u,f,p);break;case X.KANJI:dr.appendKanjiBytes(u,f);break;default:throw new Er("Invalid mode: "+d)}}static getDigit(u){return u.charCodeAt(0)-48}static isDigit(u){const d=dr.getDigit(u);return d>=0&&d<=9}static appendNumericBytes(u,d){const f=u.length;let p=0;for(;p<f;){const m=dr.getDigit(u.charAt(p));if(p+2<f){const v=dr.getDigit(u.charAt(p+1)),x=dr.getDigit(u.charAt(p+2));d.appendBits(100*m+10*v+x,10),p+=3}else if(p+1<f){const v=dr.getDigit(u.charAt(p+1));d.appendBits(10*m+v,7),p+=2}else d.appendBits(m,4),p++}}static appendAlphanumericBytes(u,d){const f=u.length;let p=0;for(;p<f;){const m=dr.getAlphanumericCode(u.charCodeAt(p));if(-1===m)throw new Er;if(p+1<f){const v=dr.getAlphanumericCode(u.charCodeAt(p+1));if(-1===v)throw new Er;d.appendBits(45*m+v,11),p+=2}else d.appendBits(m,6),p++}}static append8BitBytes(u,d,f){let p;try{p=Je.encode(u,f)}catch(m){throw new Er(m)}for(let m=0,v=p.length;m!==v;m++)d.appendBits(p[m],8)}static appendKanjiBytes(u,d){let f;try{f=Je.encode(u,De.SJIS)}catch(m){throw new Er(m)}const p=f.length;for(let m=0;m<p;m+=2){const b=(255&f[m])<<8&4294967295|255&f[m+1];let A=-1;if(b>=33088&&b<=40956?A=b-33088:b>=57408&&b<=60351&&(A=b-49472),-1===A)throw new Er("Invalid byte sequence");d.appendBits(192*(A>>8)+(255&A),13)}}static appendECI(u,d){d.appendBits(X.ECI.getBits(),4),d.appendBits(u.getValue(),8)}}dr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dr.DEFAULT_BYTE_MODE_ENCODING=De.UTF8.getName();let Gp=(()=>{class S{write(d,f,p,m=null){if(0===d.length)throw new ue("Found empty contents");if(f<0||p<0)throw new ue("Requested dimensions are too small: "+f+"x"+p);let v=kn.L,x=S.QUIET_ZONE_SIZE;null!==m&&(void 0!==m.get(Gn.ERROR_CORRECTION)&&(v=kn.fromString(m.get(Gn.ERROR_CORRECTION).toString())),void 0!==m.get(Gn.MARGIN)&&(x=Number.parseInt(m.get(Gn.MARGIN).toString(),10)));const b=dr.encode(d,v,m);return this.renderResult(b,f,p,x)}writeToDom(d,f,p,m,v=null){"string"==typeof d&&(d=document.querySelector(d));const x=this.write(f,p,m,v);d&&d.appendChild(x)}renderResult(d,f,p,m){const v=d.getMatrix();if(null===v)throw new Vi;const x=v.getWidth(),b=v.getHeight(),A=x+2*m,M=b+2*m,B=Math.max(f,A),$=Math.max(p,M),re=Math.min(Math.floor(B/A),Math.floor($/M)),le=Math.floor((B-x*re)/2),me=Math.floor(($-b*re)/2),Oe=this.createSVGElement(B,$);for(let Be=0,ht=me;Be<b;Be++,ht+=re)for(let Dt=0,Qe=le;Dt<x;Dt++,Qe+=re)if(1===v.get(Dt,Be)){const An=this.createSvgRectElement(Qe,ht,re,re);Oe.appendChild(An)}return Oe}createSVGElement(d,f){const p=document.createElementNS(S.SVG_NS,"svg");return p.setAttributeNS(null,"height",d.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(d,f,p,m){const v=document.createElementNS(S.SVG_NS,"rect");return v.setAttributeNS(null,"x",d.toString()),v.setAttributeNS(null,"y",f.toString()),v.setAttributeNS(null,"height",p.toString()),v.setAttributeNS(null,"width",m.toString()),v.setAttributeNS(null,"fill","#000000"),v}}return S.QUIET_ZONE_SIZE=4,S.SVG_NS="http://www.w3.org/2000/svg",S})(),Iu=(()=>{class S{encode(d,f,p,m,v){if(0===d.length)throw new ue("Found empty contents");if(f!==gt.QR_CODE)throw new ue("Can only encode QR_CODE, but got "+f);if(p<0||m<0)throw new ue(`Requested dimensions are too small: ${p}x${m}`);let x=kn.L,b=S.QUIET_ZONE_SIZE;null!==v&&(void 0!==v.get(Gn.ERROR_CORRECTION)&&(x=kn.fromString(v.get(Gn.ERROR_CORRECTION).toString())),void 0!==v.get(Gn.MARGIN)&&(b=Number.parseInt(v.get(Gn.MARGIN).toString(),10)));const A=dr.encode(d,x,v);return S.renderResult(A,p,m,b)}static renderResult(d,f,p,m){const v=d.getMatrix();if(null===v)throw new Vi;const x=v.getWidth(),b=v.getHeight(),A=x+2*m,M=b+2*m,B=Math.max(f,A),$=Math.max(p,M),re=Math.min(Math.floor(B/A),Math.floor($/M)),le=Math.floor((B-x*re)/2),me=Math.floor(($-b*re)/2),Oe=new ut(B,$);for(let Be=0,ht=me;Be<b;Be++,ht+=re)for(let Dt=0,Qe=le;Dt<x;Dt++,Qe+=re)1===v.get(Dt,Be)&&Oe.setRegion(Qe,ht,re,re);return Oe}}return S.QUIET_ZONE_SIZE=4,S})();let _f=(()=>{class S extends xt{constructor(d,f,p,m,v,x,b,A){if(super(x,b),this.yuvData=d,this.dataWidth=f,this.dataHeight=p,this.left=m,this.top=v,m+x>f||v+b>p)throw new ue("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(x,b)}getRow(d,f){if(d<0||d>=this.getHeight())throw new ue("Requested row is outside the image: "+d);const p=this.getWidth();return(null==f||f.length<p)&&(f=new Uint8ClampedArray(p)),lt.arraycopy(this.yuvData,(d+this.top)*this.dataWidth+this.left,f,0,p),f}getMatrix(){const d=this.getWidth(),f=this.getHeight();if(d===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=d*f,m=new Uint8ClampedArray(p);let v=this.top*this.dataWidth+this.left;if(d===this.dataWidth)return lt.arraycopy(this.yuvData,v,m,0,p),m;for(let x=0;x<f;x++)lt.arraycopy(this.yuvData,v,m,x*d,d),v+=this.dataWidth;return m}isCropSupported(){return!0}crop(d,f,p,m){return new S(this.yuvData,this.dataWidth,this.dataHeight,this.left+d,this.top+f,p,m,!1)}renderThumbnail(){const d=this.getWidth()/S.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/S.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(d*f),m=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let x=0;x<f;x++){const b=x*d;for(let A=0;A<d;A++)p[b+A]=4278190080|65793*(255&m[v+A*S.THUMBNAIL_SCALE_FACTOR]);v+=this.dataWidth*S.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/S.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/S.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(d,f){const p=this.yuvData;for(let m=0,v=this.top*this.dataWidth+this.left;m<f;m++,v+=this.dataWidth){const x=v+d/2;for(let b=v,A=v+d-1;b<x;b++,A--){const M=p[b];p[b]=p[A],p[A]=M}}}invert(){return new st(this)}}return S.THUMBNAIL_SCALE_FACTOR=2,S})();class Xp extends xt{constructor(u,d,f,p,m,v,x){if(super(d,f),this.dataWidth=p,this.dataHeight=m,this.left=v,this.top=x,4===u.BYTES_PER_ELEMENT){const b=d*f,A=new Uint8ClampedArray(b);for(let M=0;M<b;M++){const B=u[M];A[M]=((B>>16&255)+(B>>7&510)+(255&B))/4&255}this.luminances=A}else this.luminances=u;if(void 0===p&&(this.dataWidth=d),void 0===m&&(this.dataHeight=f),void 0===v&&(this.left=0),void 0===x&&(this.top=0),this.left+d>this.dataWidth||this.top+f>this.dataHeight)throw new ue("Crop rectangle does not fit within image data.")}getRow(u,d){if(u<0||u>=this.getHeight())throw new ue("Requested row is outside the image: "+u);const f=this.getWidth();return(null==d||d.length<f)&&(d=new Uint8ClampedArray(f)),lt.arraycopy(this.luminances,(u+this.top)*this.dataWidth+this.left,d,0,f),d}getMatrix(){const u=this.getWidth(),d=this.getHeight();if(u===this.dataWidth&&d===this.dataHeight)return this.luminances;const f=u*d,p=new Uint8ClampedArray(f);let m=this.top*this.dataWidth+this.left;if(u===this.dataWidth)return lt.arraycopy(this.luminances,m,p,0,f),p;for(let v=0;v<d;v++)lt.arraycopy(this.luminances,m,p,v*u,u),m+=this.dataWidth;return p}isCropSupported(){return!0}crop(u,d,f,p){return new Xp(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+u,this.top+d)}invert(){return new st(this)}}class Zm extends De{static forName(u){return this.getCharacterSetECIByName(u)}}class $p{}$p.ISO_8859_1=De.ISO8859_1;class qm{isCompact(){return this.compact}setCompact(u){this.compact=u}getSize(){return this.size}setSize(u){this.size=u}getLayers(){return this.layers}setLayers(u){this.layers=u}getCodeWords(){return this.codeWords}setCodeWords(u){this.codeWords=u}getMatrix(){return this.matrix}setMatrix(u){this.matrix=u}}class Km{static singletonList(u){return[u]}static min(u,d){return u.sort(d)[0]}}class Al{constructor(u){this.previous=u}getPrevious(){return this.previous}}class Ta extends Al{constructor(u,d,f){super(u),this.value=d,this.bitCount=f}appendTo(u,d){u.appendBits(this.value,this.bitCount)}add(u,d){return new Ta(this,u,d)}addBinaryShift(u,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ta(this,u,d)}toString(){let u=this.value&(1<<this.bitCount)-1;return u|=1<<this.bitCount,"<"+Se.toBinaryString(u|1<<this.bitCount).substring(1)+">"}}class Pc extends Ta{constructor(u,d,f){super(u,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=f}appendTo(u,d){for(let f=0;f<this.binaryShiftByteCount;f++)(0===f||31===f&&this.binaryShiftByteCount<=62)&&(u.appendBits(31,5),this.binaryShiftByteCount>62?u.appendBits(this.binaryShiftByteCount-31,16):u.appendBits(0===f?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),u.appendBits(d[this.binaryShiftStart+f],8)}addBinaryShift(u,d){return new Pc(this,u,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sl(S,u,d){return new Ta(S,u,d)}const Jm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ue=new Ta(null,0,0),Du=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Il=function Ct(S){for(let u of S)Xe.fill(u,-1);return S[0][4]=0,S[1][4]=0,S[1][0]=28,S[3][4]=0,S[2][4]=0,S[2][0]=15,S}(Xe.createInt32Array(6,6));class qo{constructor(u,d,f,p){this.token=u,this.mode=d,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(u,d){let f=this.bitCount,p=this.token;if(u!==this.mode){let v=Du[this.mode][u];p=Sl(p,65535&v,v>>16),f+=v>>16}let m=2===u?4:5;return p=Sl(p,d,m),new qo(p,u,0,f+m)}shiftAndAppend(u,d){let f=this.token,p=2===this.mode?4:5;return f=Sl(f,Il[this.mode][u],p),f=Sl(f,d,5),new qo(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(u){let d=this.token,f=this.mode,p=this.bitCount;if(4===this.mode||2===this.mode){let x=Du[f][0];d=Sl(d,65535&x,x>>16),p+=x>>16,f=0}let v=new qo(d,f,this.binaryShiftByteCount+1,p+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===v.binaryShiftByteCount&&(v=v.endBinaryShift(u+1)),v}endBinaryShift(u){if(0===this.binaryShiftByteCount)return this;let d=this.token;return d=function Qm(S,u,d){return new Pc(S,u,d)}(d,u-this.binaryShiftByteCount,this.binaryShiftByteCount),new qo(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(u){let d=this.bitCount+(Du[this.mode][u.mode]>>16);return this.binaryShiftByteCount<u.binaryShiftByteCount?d+=qo.calculateBinaryShiftCost(u)-qo.calculateBinaryShiftCost(this):this.binaryShiftByteCount>u.binaryShiftByteCount&&u.binaryShiftByteCount>0&&(d+=10),d<=u.bitCount}toBitArray(u){let d=[];for(let p=this.endBinaryShift(u.length).token;null!==p;p=p.getPrevious())d.unshift(p);let f=new be;for(const p of d)p.appendTo(f,u);return f}toString(){return ge.format("%s bits=%d bytes=%d",Jm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(u){return u.binaryShiftByteCount>62?21:u.binaryShiftByteCount>31?20:u.binaryShiftByteCount>0?10:0}}qo.INITIAL_STATE=new qo(Ue,0,0,0);const xf=function Dl(S){const u=ge.getCharCode(" "),d=ge.getCharCode("."),f=ge.getCharCode(",");S[0][u]=1;const p=ge.getCharCode("Z"),m=ge.getCharCode("A");for(let $=m;$<=p;$++)S[0][$]=$-m+2;S[1][u]=1;const v=ge.getCharCode("z"),x=ge.getCharCode("a");for(let $=x;$<=v;$++)S[1][$]=$-x+2;S[2][u]=1;const b=ge.getCharCode("9"),A=ge.getCharCode("0");for(let $=A;$<=b;$++)S[2][$]=$-A+2;S[2][f]=12,S[2][d]=13;const M=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let $=0;$<M.length;$++)S[3][ge.getCharCode(M[$])]=$;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<B.length;$++)ge.getCharCode(B[$])>0&&(S[4][ge.getCharCode(B[$])]=$);return S}(Xe.createInt32Array(5,256));class Ml{constructor(u){this.text=u}encode(){const u=ge.getCharCode(" "),d=ge.getCharCode("\n");let f=Km.singletonList(qo.INITIAL_STATE);for(let m=0;m<this.text.length;m++){let v,x=m+1<this.text.length?this.text[m+1]:0;switch(this.text[m]){case ge.getCharCode("\r"):v=x===d?2:0;break;case ge.getCharCode("."):v=x===u?3:0;break;case ge.getCharCode(","):v=x===u?4:0;break;case ge.getCharCode(":"):v=x===u?5:0;break;default:v=0}v>0?(f=Ml.updateStateListForPair(f,m,v),m++):f=this.updateStateListForChar(f,m)}return Km.min(f,(m,v)=>m.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(u,d){const f=[];for(let p of u)this.updateStateForChar(p,d,f);return Ml.simplifyStates(f)}updateStateForChar(u,d,f){let p=255&this.text[d],m=xf[u.getMode()][p]>0,v=null;for(let x=0;x<=4;x++){let b=xf[x][p];if(b>0){if(null==v&&(v=u.endBinaryShift(d)),!m||x===u.getMode()||2===x){const A=v.latchAndAppend(x,b);f.push(A)}if(!m&&Il[u.getMode()][x]>=0){const A=v.shiftAndAppend(x,b);f.push(A)}}}if(u.getBinaryShiftByteCount()>0||0===xf[u.getMode()][p]){let x=u.addBinaryShiftChar(d);f.push(x)}}static updateStateListForPair(u,d,f){const p=[];for(let m of u)this.updateStateForPair(m,d,f,p);return this.simplifyStates(p)}static updateStateForPair(u,d,f,p){let m=u.endBinaryShift(d);if(p.push(m.latchAndAppend(4,f)),4!==u.getMode()&&p.push(m.shiftAndAppend(4,f)),3===f||4===f){let v=m.latchAndAppend(2,16-f).latchAndAppend(2,1);p.push(v)}if(u.getBinaryShiftByteCount()>0){let v=u.addBinaryShiftChar(d).addBinaryShiftChar(d+1);p.push(v)}}static simplifyStates(u){let d=[];for(const f of u){let p=!0;for(const m of d){if(m.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(m)&&(d=d.filter(v=>v!==m))}p&&d.push(f)}return d}}class zn{constructor(){}static encodeBytes(u){return zn.encode(u,zn.DEFAULT_EC_PERCENT,zn.DEFAULT_AZTEC_LAYERS)}static encode(u,d,f){let x,b,A,M,B,p=new Ml(u).encode(),m=Se.truncDivision(p.getSize()*d,100)+11,v=p.getSize()+m;if(f!==zn.DEFAULT_AZTEC_LAYERS){if(x=f<0,b=Math.abs(f),b>(x?zn.MAX_NB_BITS_COMPACT:zn.MAX_NB_BITS))throw new ue(ge.format("Illegal value %s for layers",f));A=zn.totalBitsInLayer(b,x),M=zn.WORD_SIZE[b];let Qe=A-A%M;if(B=zn.stuffBits(p,M),B.getSize()+m>Qe)throw new ue("Data to large for user specified layer");if(x&&B.getSize()>64*M)throw new ue("Data to large for user specified layer")}else{M=0,B=null;for(let Qe=0;;Qe++){if(Qe>zn.MAX_NB_BITS)throw new ue("Data too large for an Aztec code");if(x=Qe<=3,b=x?Qe+1:Qe,A=zn.totalBitsInLayer(b,x),v>A)continue;(null==B||M!==zn.WORD_SIZE[b])&&(M=zn.WORD_SIZE[b],B=zn.stuffBits(p,M));let An=A-A%M;if(!(x&&B.getSize()>64*M)&&B.getSize()+m<=An)break}}let Be,$=zn.generateCheckWords(B,A,M),re=B.getSize()/M,le=zn.generateModeMessage(x,b,re),me=(x?11:14)+4*b,Oe=new Int32Array(me);if(x){Be=me;for(let Qe=0;Qe<Oe.length;Qe++)Oe[Qe]=Qe}else{Be=me+1+2*Se.truncDivision(Se.truncDivision(me,2)-1,15);let Qe=Se.truncDivision(me,2),An=Se.truncDivision(Be,2);for(let tn=0;tn<Qe;tn++){let fo=tn+Se.truncDivision(tn,15);Oe[Qe-tn-1]=An-fo-1,Oe[Qe+tn]=An+fo+1}}let ht=new ut(Be);for(let Qe=0,An=0;Qe<b;Qe++){let tn=4*(b-Qe)+(x?9:12);for(let fo=0;fo<tn;fo++){let Qo=2*fo;for(let ho=0;ho<2;ho++)$.get(An+Qo+ho)&&ht.set(Oe[2*Qe+ho],Oe[2*Qe+fo]),$.get(An+2*tn+Qo+ho)&&ht.set(Oe[2*Qe+fo],Oe[me-1-2*Qe-ho]),$.get(An+4*tn+Qo+ho)&&ht.set(Oe[me-1-2*Qe-ho],Oe[me-1-2*Qe-fo]),$.get(An+6*tn+Qo+ho)&&ht.set(Oe[me-1-2*Qe-fo],Oe[2*Qe+ho])}An+=8*tn}if(zn.drawModeMessage(ht,x,Be,le),x)zn.drawBullsEye(ht,Se.truncDivision(Be,2),5);else{zn.drawBullsEye(ht,Se.truncDivision(Be,2),7);for(let Qe=0,An=0;Qe<Se.truncDivision(me,2)-1;Qe+=15,An+=16)for(let tn=1&Se.truncDivision(Be,2);tn<Be;tn+=2)ht.set(Se.truncDivision(Be,2)-An,tn),ht.set(Se.truncDivision(Be,2)+An,tn),ht.set(tn,Se.truncDivision(Be,2)-An),ht.set(tn,Se.truncDivision(Be,2)+An)}let Dt=new qm;return Dt.setCompact(x),Dt.setSize(Be),Dt.setLayers(b),Dt.setCodeWords(re),Dt.setMatrix(ht),Dt}static drawBullsEye(u,d,f){for(let p=0;p<f;p+=2)for(let m=d-p;m<=d+p;m++)u.set(m,d-p),u.set(m,d+p),u.set(d-p,m),u.set(d+p,m);u.set(d-f,d-f),u.set(d-f+1,d-f),u.set(d-f,d-f+1),u.set(d+f,d-f),u.set(d+f,d-f+1),u.set(d+f,d+f-1)}static generateModeMessage(u,d,f){let p=new be;return u?(p.appendBits(d-1,2),p.appendBits(f-1,6),p=zn.generateCheckWords(p,28,4)):(p.appendBits(d-1,5),p.appendBits(f-1,11),p=zn.generateCheckWords(p,40,4)),p}static drawModeMessage(u,d,f,p){let m=Se.truncDivision(f,2);if(d)for(let v=0;v<7;v++){let x=m-3+v;p.get(v)&&u.set(x,m-5),p.get(v+7)&&u.set(m+5,x),p.get(20-v)&&u.set(x,m+5),p.get(27-v)&&u.set(m-5,x)}else for(let v=0;v<10;v++){let x=m-5+v+Se.truncDivision(v,5);p.get(v)&&u.set(x,m-7),p.get(v+10)&&u.set(m+7,x),p.get(29-v)&&u.set(x,m+7),p.get(39-v)&&u.set(m-7,x)}}static generateCheckWords(u,d,f){let p=u.getSize()/f,m=new Su(zn.getGF(f)),v=Se.truncDivision(d,f),x=zn.bitsToWords(u,f,v);m.encode(x,v-p);let b=d%f,A=new be;A.appendBits(0,b);for(const M of Array.from(x))A.appendBits(M,f);return A}static bitsToWords(u,d,f){let m,v,p=new Int32Array(f);for(m=0,v=u.getSize()/d;m<v;m++){let x=0;for(let b=0;b<d;b++)x|=u.get(m*d+b)?1<<d-b-1:0;p[m]=x}return p}static getGF(u){switch(u){case 4:return pn.AZTEC_PARAM;case 6:return pn.AZTEC_DATA_6;case 8:return pn.AZTEC_DATA_8;case 10:return pn.AZTEC_DATA_10;case 12:return pn.AZTEC_DATA_12;default:throw new ue("Unsupported word size "+u)}}static stuffBits(u,d){let f=new be,p=u.getSize(),m=(1<<d)-2;for(let v=0;v<p;v+=d){let x=0;for(let b=0;b<d;b++)(v+b>=p||u.get(v+b))&&(x|=1<<d-1-b);(x&m)===m?(f.appendBits(x&m,d),v--):x&m?f.appendBits(x,d):(f.appendBits(1|x,d),v--)}return f}static totalBitsInLayer(u,d){return((d?88:112)+16*u)*u}}zn.DEFAULT_EC_PERCENT=33,zn.DEFAULT_AZTEC_LAYERS=0,zn.MAX_NB_BITS=32,zn.MAX_NB_BITS_COMPACT=4,zn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ko{encode(u,d,f,p){return this.encodeWithHints(u,d,f,p,null)}encodeWithHints(u,d,f,p,m){let v=$p.ISO_8859_1,x=zn.DEFAULT_EC_PERCENT,b=zn.DEFAULT_AZTEC_LAYERS;return null!=m&&(m.has(Gn.CHARACTER_SET)&&(v=Zm.forName(m.get(Gn.CHARACTER_SET).toString())),m.has(Gn.ERROR_CORRECTION)&&(x=Se.parseInt(m.get(Gn.ERROR_CORRECTION).toString())),m.has(Gn.AZTEC_LAYERS)&&(b=Se.parseInt(m.get(Gn.AZTEC_LAYERS).toString()))),Ko.encodeLayers(u,d,f,p,v,x,b)}static encodeLayers(u,d,f,p,m,v,x){if(d!==gt.AZTEC)throw new ue("Can only encode AZTEC, but got "+d);let b=zn.encode(ge.getBytes(u,m),v,x);return Ko.renderResult(b,f,p)}static renderResult(u,d,f){let p=u.getMatrix();if(null==p)throw new Vi;let m=p.getWidth(),v=p.getHeight(),x=Math.max(d,m),b=Math.max(f,v),A=Math.min(x/m,b/v),M=(x-m*A)/2,B=(b-v*A)/2,$=new ut(x,b);for(let re=0,le=B;re<v;re++,le+=A)for(let me=0,Oe=M;me<m;me++,Oe+=A)p.get(me,re)&&$.setRegion(Oe,le,A,A);return $}}q.AbstractExpandedDecoder=Bs,q.ArgumentException=Ee,q.ArithmeticException=Wr,q.AztecCode=qm,q.AztecCodeReader=yi,q.AztecCodeWriter=Ko,q.AztecDecoder=ia,q.AztecDetector=oa,q.AztecDetectorResult=So,q.AztecEncoder=zn,q.AztecHighLevelEncoder=Ml,q.AztecPoint=_r,q.BarcodeFormat=gt,q.Binarizer=ft,q.BinaryBitmap=tt,q.BitArray=be,q.BitMatrix=ut,q.BitSource=ca,q.BrowserAztecCodeReader=class ks extends ot{constructor(u=500){super(new yi,u)}},q.BrowserBarcodeReader=class Ma extends ot{constructor(u=500,d){super(new oi(d),u,d)}},q.BrowserCodeReader=ot,q.BrowserDatamatrixCodeReader=class si extends ot{constructor(u=500){super(new ys,u)}},q.BrowserMultiFormatReader=class $m extends ot{constructor(u=null,d=500){const f=new pf;f.setHints(u),super(f,d)}decodeBitmap(u){return this.reader.decodeWithState(u)}},q.BrowserPDF417Reader=class Dn extends ot{constructor(u=500){super(new kr,u)}},q.BrowserQRCodeReader=class gf extends ot{constructor(u=500){super(new Dr,u)}},q.BrowserQRCodeSvgWriter=Gp,q.CharacterSetECI=De,q.ChecksumException=Fe,q.Code128Reader=yt,q.Code39Reader=Fs,q.DataMatrixDecodedBitStreamParser=Ki,q.DataMatrixReader=ys,q.DecodeHintType=Ce,q.DecoderResult=Nn,q.DefaultGridSampler=Ps,q.DetectorResult=uo,q.EAN13Reader=Ii,q.EncodeHintType=Gn,q.Exception=de,q.FormatException=ye,q.GenericGF=pn,q.GenericGFPoly=Pn,q.GlobalHistogramBinarizer=rt,q.GridSampler=Go,q.GridSamplerInstance=Xi,q.HTMLCanvasElementLuminanceSource=$t,q.HybridBinarizer=it,q.ITFReader=_n,q.IllegalArgumentException=ue,q.IllegalStateException=Vi,q.InvertedLuminanceSource=st,q.LuminanceSource=xt,q.MathUtils=yn,q.MultiFormatOneDReader=oi,q.MultiFormatReader=pf,q.MultiFormatWriter=class Ym{encode(u,d,f,p,m){let v;if(d!==gt.QR_CODE)throw new ue("No encoder available for format "+d);return v=new Iu,v.encode(u,d,f,p,m)}},q.NotFoundException=_e,q.OneDReader=lr,q.PDF417DecodedBitStreamParser=je,q.PDF417DecoderErrorCorrection=I,q.PDF417Reader=kr,q.PDF417ResultMetadata=ne,q.PerspectiveTransform=qr,q.PlanarYUVLuminanceSource=_f,q.QRCodeByteMatrix=tr,q.QRCodeDataMask=Jr,q.QRCodeDecodedBitStreamParser=ve,q.QRCodeDecoderErrorCorrectionLevel=kn,q.QRCodeDecoderFormatInformation=ur,q.QRCodeEncoder=dr,q.QRCodeEncoderQRCode=vf,q.QRCodeMaskUtil=El,q.QRCodeMatrixUtil=Ge,q.QRCodeMode=X,q.QRCodeReader=Dr,q.QRCodeVersion=Ht,q.QRCodeWriter=Iu,q.RGBLuminanceSource=Xp,q.RSS14Reader=Tn,q.RSSExpandedReader=nt,q.ReaderException=Cl,q.ReedSolomonDecoder=lo,q.ReedSolomonEncoder=Su,q.ReedSolomonException=Wo,q.Result=Ye,q.ResultMetadataType=Pt,q.ResultPoint=kt,q.StringUtils=ge,q.UnsupportedOperationException=Le,q.VideoInputDevice=$e,q.WhiteRectangleDetector=Zr,q.WriterException=Er,q.ZXingArrays=Xe,q.ZXingCharset=Zm,q.ZXingInteger=Se,q.ZXingStandardCharsets=$p,q.ZXingStringBuilder=qe,q.ZXingStringEncoding=Je,q.ZXingSystem=lt,q.createAbstractExpandedDecoder=Qr,Object.defineProperty(q,"__esModule",{value:!0})}(L)},409:(gs,L,q)=>{gs=q.nmd(gs);var k="__lodash_hash_undefined__",U=9007199254740991,te="[object Arguments]",Ee="[object AsyncFunction]",ft="[object Function]",lt="[object GeneratorFunction]",Xe="[object Null]",Se="[object Object]",be="[object Proxy]",we="[object Undefined]",He=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye[te]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye[ft]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[Se]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Rt="object"==typeof global&&global&&global.Object===Object&&global,gt="object"==typeof self&&self&&self.Object===Object&&self,Wt=Rt||gt||Function("return this")(),Pt=L&&!L.nodeType&&L,Nn=Pt&&gs&&!gs.nodeType&&gs,Gt=Nn&&Nn.exports===Pt,Pn=Gt&&Rt.process,Wr=function(){try{return Nn&&Nn.require&&Nn.require("util").types||Pn&&Pn.binding&&Pn.binding("util")}catch{}}(),pn=Wr&&Wr.isTypedArray;function Wo(H,ne,J){switch(J.length){case 0:return H.call(ne);case 1:return H.call(ne,J[0]);case 2:return H.call(ne,J[0],J[1]);case 3:return H.call(ne,J[0],J[1],J[2])}return H.apply(ne,J)}var H,yn=Array.prototype,kt=Object.prototype,uo=Wt["__core-js_shared__"],So=Function.prototype.toString,Zr=kt.hasOwnProperty,Go=(H=/[^.]+$/.exec(uo&&uo.keys&&uo.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",qr=kt.toString,Ps=So.call(Object),Xi=RegExp("^"+So.call(Zr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=Gt?Wt.Buffer:void 0,oa=Wt.Symbol,yi=Wt.Uint8Array,ks=_r?_r.allocUnsafe:void 0,lr=function ia(H,ne){return function(J){return H(ne(J))}}(Object.getPrototypeOf,Object),yt=Object.create,Fs=kt.propertyIsEnumerable,_n=yn.splice,Mn=oa?oa.toStringTag:void 0,$i=function(){try{var H=Me(Object,"defineProperty");return H({},"",{}),H}catch{}}(),sa=_r?_r.isBuffer:void 0,aa=Math.max,En=Date.now,Ii=Me(Wt,"Map"),Io=Me(Object,"create"),Ia=function(){function H(){}return function(ne){if(!se(ne))return{};if(yt)return yt(ne);H.prototype=ne;var J=new H;return H.prototype=void 0,J}}();function Ir(H){var ne=-1,J=null==H?0:H.length;for(this.clear();++ne<J;){var Ve=H[ne];this.set(Ve[0],Ve[1])}}function ri(H){var ne=-1,J=null==H?0:H.length;for(this.clear();++ne<J;){var Ve=H[ne];this.set(Ve[0],Ve[1])}}function At(H){var ne=-1,J=null==H?0:H.length;for(this.clear();++ne<J;){var Ve=H[ne];this.set(Ve[0],Ve[1])}}function Kr(H){var ne=this.__data__=new ri(H);this.size=ne.size}function Qr(H,ne,J){(void 0!==J&&!Zn(H[ne],J)||void 0===J&&!(ne in H))&&nt(H,ne,J)}function Do(H,ne,J){var Ve=H[ne];(!Zr.call(H,ne)||!Zn(Ve,J)||void 0===J&&!(ne in H))&&nt(H,ne,J)}function $o(H,ne){for(var J=H.length;J--;)if(Zn(H[J][0],ne))return J;return-1}function nt(H,ne,J){"__proto__"==ne&&$i?$i(H,ne,{configurable:!0,enumerable:!0,value:J,writable:!0}):H[ne]=J}Ir.prototype.clear=function Ls(){this.__data__=Io?Io(null):{},this.size=0},Ir.prototype.delete=function Xo(H){var ne=this.has(H)&&delete this.__data__[H];return this.size-=ne?1:0,ne},Ir.prototype.get=function Yi(H){var ne=this.__data__;if(Io){var J=ne[H];return J===k?void 0:J}return Zr.call(ne,H)?ne[H]:void 0},Ir.prototype.has=function ms(H){var ne=this.__data__;return Io?void 0!==ne[H]:Zr.call(ne,H)},Ir.prototype.set=function _i(H,ne){var J=this.__data__;return this.size+=this.has(H)?0:1,J[H]=Io&&void 0===ne?k:ne,this},ri.prototype.clear=function Di(){this.__data__=[],this.size=0},ri.prototype.delete=function vs(H){var ne=this.__data__,J=$o(ne,H);return!(J<0||(J==ne.length-1?ne.pop():_n.call(ne,J,1),--this.size,0))},ri.prototype.get=function xi(H){var ne=this.__data__,J=$o(ne,H);return J<0?void 0:ne[J][1]},ri.prototype.has=function Zi(H){return $o(this.__data__,H)>-1},ri.prototype.set=function Mi(H,ne){var J=this.__data__,Ve=$o(J,H);return Ve<0?(++this.size,J.push([H,ne])):J[Ve][1]=ne,this},At.prototype.clear=function Hn(){this.size=0,this.__data__={hash:new Ir,map:new(Ii||ri),string:new Ir}},At.prototype.delete=function Bs(H){var ne=ur(this,H).delete(H);return this.size-=ne?1:0,ne},At.prototype.get=function bi(H){return ur(this,H).get(H)},At.prototype.has=function tc(H){return ur(this,H).has(H)},At.prototype.set=function nc(H,ne){var J=ur(this,H),Ve=J.size;return J.set(H,ne),this.size+=J.size==Ve?0:1,this},Kr.prototype.clear=function Vs(){this.__data__=new ri,this.size=0},Kr.prototype.delete=function Da(H){var ne=this.__data__,J=ne.delete(H);return this.size=ne.size,J},Kr.prototype.get=function qi(H){return this.__data__.get(H)},Kr.prototype.has=function rc(H){return this.__data__.has(H)},Kr.prototype.set=function Cr(H,ne){var J=this.__data__;if(J instanceof ri){var Ve=J.__data__;if(!Ii||Ve.length<199)return Ve.push([H,ne]),this.size=++J.size,this;J=this.__data__=new At(Ve)}return J.set(H,ne),this.size=J.size,this};var Mo=function Yt(H){return function(ne,J,Ve){for(var wt=-1,Lt=Object(ne),Ne=Ve(ne),vt=Ne.length;vt--;){var Ot=Ne[H?vt:++wt];if(!1===J(Lt[Ot],Ot,Lt))break}return ne}}();function Tn(H){return null==H?void 0===H?we:Xe:Mn&&Mn in Object(H)?function Q(H){var ne=Zr.call(H,Mn),J=H[Mn];try{H[Mn]=void 0;var Ve=!0}catch{}var wt=qr.call(H);return Ve&&(ne?H[Mn]=J:delete H[Mn]),wt}(H):function ve(H){return qr.call(H)}(H)}function oi(H){return z(H)&&Tn(H)==te}function an(H,ne,J,Ve,wt){H!==ne&&Mo(ne,function(Lt,Ne){if(wt||(wt=new Kr),se(Lt))!function Us(H,ne,J,Ve,wt,Lt,Ne){var vt=at(H,J),Ot=at(ne,J),Fn=Ne.get(Ot);if(Fn)Qr(H,J,Fn);else{var Qn=Lt?Lt(vt,Ot,J+"",H,ne,Ne):void 0,Yo=void 0===Qn;if(Yo){var je=nn(Ot),cn=!je&&_s(Ot),kr=!je&&!cn&&T(Ot);Qn=Ot,je||cn||kr?nn(vt)?Qn=vt:function Zt(H){return z(H)&&Dr(H)}(vt)?Qn=function un(H,ne){var J=-1,Ve=H.length;for(ne||(ne=Array(Ve));++J<Ve;)ne[J]=H[J];return ne}(vt):cn?(Yo=!1,Qn=function ar(H,ne){if(ne)return H.slice();var J=H.length,Ve=ks?ks(J):new H.constructor(J);return H.copy(Ve),Ve}(Ot,!0)):kr?(Yo=!1,Qn=function ic(H,ne){var J=ne?function Ki(H){var ne=new H.constructor(H.byteLength);return new yi(ne).set(new yi(H)),ne}(H.buffer):H.buffer;return new H.constructor(J,H.byteOffset,H.length)}(Ot,!0)):Qn=[]:function I(H){if(!z(H)||Tn(H)!=Se)return!1;var ne=lr(H);if(null===ne)return!0;var J=Zr.call(ne,"constructor")&&ne.constructor;return"function"==typeof J&&J instanceof J&&So.call(J)==Ps}(Ot)||Bt(Ot)?(Qn=vt,Bt(vt)?Qn=function N(H){return function ys(H,ne,J,Ve){var wt=!J;J||(J={});for(var Lt=-1,Ne=ne.length;++Lt<Ne;){var vt=ne[Lt],Ot=Ve?Ve(J[vt],H[vt],vt,J,H):void 0;void 0===Ot&&(Ot=H[vt]),wt?nt(J,vt,Ot):Do(J,vt,Ot)}return J}(H,K(H))}(vt):(!se(vt)||en(vt))&&(Qn=function Ht(H){return"function"!=typeof H.constructor||W(H)?{}:Ia(lr(H))}(Ot))):Yo=!1}Yo&&(Ne.set(Ot,Qn),wt(Qn,Ot,Ve,Lt,Ne),Ne.delete(Ot)),Qr(H,J,Qn)}}(H,ne,Ne,J,an,Ve,wt);else{var vt=Ve?Ve(at(H,Ne),Lt,Ne+"",H,ne,wt):void 0;void 0===vt&&(vt=Lt),Qr(H,Ne,vt)}},K)}function js(H,ne){return St(function ze(H,ne,J){return ne=aa(void 0===ne?H.length-1:ne,0),function(){for(var Ve=arguments,wt=-1,Lt=aa(Ve.length-ne,0),Ne=Array(Lt);++wt<Lt;)Ne[wt]=Ve[ne+wt];wt=-1;for(var vt=Array(ne+1);++wt<ne;)vt[wt]=Ve[wt];return vt[ne]=J(Ne),Wo(H,this,vt)}}(H,ne,ce),H+"")}var ca=$i?function(H,ne){return $i(H,"toString",{configurable:!0,enumerable:!1,value:ee(ne),writable:!0})}:ce;function kn(H,ne,J,Ve,wt,Lt){return se(H)&&se(ne)&&(Lt.set(ne,H),an(H,ne,void 0,kn,Lt),Lt.delete(ne)),H}function ur(H,ne){var J=H.__data__;return function xr(H){var ne=typeof H;return"string"==ne||"number"==ne||"symbol"==ne||"boolean"==ne?"__proto__"!==H:null===H}(ne)?J["string"==typeof ne?"string":"hash"]:J.map}function Me(H,ne){var J=function Gr(H,ne){return H?.[ne]}(H,ne);return function Ma(H){return!(!se(H)||function R(H){return!!Go&&Go in H}(H))&&(en(H)?Xi:He).test(function Te(H){if(null!=H){try{return So.call(H)}catch{}try{return H+""}catch{}}return""}(H))}(J)?J:void 0}function Qt(H,ne){var J=typeof H;return!!(ne=ne??U)&&("number"==J||"symbol"!=J&&ot.test(H))&&H>-1&&H%1==0&&H<ne}function W(H){var ne=H&&H.constructor;return H===("function"==typeof ne&&ne.prototype||kt)}function at(H,ne){if(("constructor"!==ne||"function"!=typeof H[ne])&&"__proto__"!=ne)return H[ne]}var St=function Xt(H){var ne=0,J=0;return function(){var Ve=En(),wt=16-(Ve-J);if(J=Ve,wt>0){if(++ne>=800)return arguments[0]}else ne=0;return H.apply(void 0,arguments)}}(ca);function Zn(H,ne){return H===ne||H!=H&&ne!=ne}var Bt=oi(function(){return arguments}())?oi:function(H){return z(H)&&Zr.call(H,"callee")&&!Fs.call(H,"callee")},nn=Array.isArray;function Dr(H){return null!=H&&Y(H.length)&&!en(H)}var _s=sa||function Ae(){return!1};function en(H){if(!se(H))return!1;var ne=Tn(H);return ne==ft||ne==lt||ne==Ee||ne==be}function Y(H){return"number"==typeof H&&H>-1&&H%1==0&&H<=U}function se(H){var ne=typeof H;return null!=H&&("object"==ne||"function"==ne)}function z(H){return null!=H&&"object"==typeof H}var T=pn?function lo(H){return function(ne){return H(ne)}}(pn):function In(H){return z(H)&&Y(H.length)&&!!Ye[Tn(H)]},V=js(function(H){return H.push(void 0,kn),Wo(ae,void 0,H)});function K(H){return Dr(H)?function ii(H,ne){var J=nn(H),Ve=!J&&Bt(H),wt=!J&&!Ve&&_s(H),Lt=!J&&!Ve&&!wt&&T(H),Ne=J||Ve||wt||Lt,vt=Ne?function Vi(H,ne){for(var J=-1,Ve=Array(H);++J<H;)Ve[J]=ne(J);return Ve}(H.length,String):[],Ot=vt.length;for(var Fn in H)(ne||Zr.call(H,Fn))&&(!Ne||!("length"==Fn||wt&&("offset"==Fn||"parent"==Fn)||Lt&&("buffer"==Fn||"byteLength"==Fn||"byteOffset"==Fn)||Qt(Fn,Ot)))&&vt.push(Fn);return vt}(H,!0):function on(H){if(!se(H))return function X(H){var ne=[];if(null!=H)for(var J in Object(H))ne.push(J);return ne}(H);var ne=W(H),J=[];for(var Ve in H)"constructor"==Ve&&(ne||!Zr.call(H,Ve))||J.push(Ve);return J}(H)}var ae=function si(H){return js(function(ne,J){var Ve=-1,wt=J.length,Lt=wt>1?J[wt-1]:void 0,Ne=wt>2?J[2]:void 0;for(Lt=H.length>3&&"function"==typeof Lt?(wt--,Lt):void 0,Ne&&function Jr(H,ne,J){if(!se(J))return!1;var Ve=typeof ne;return!!("number"==Ve?Dr(J)&&Qt(ne,J.length):"string"==Ve&&ne in J)&&Zn(J[ne],H)}(J[0],J[1],Ne)&&(Lt=wt<3?void 0:Lt,wt=1),ne=Object(ne);++Ve<wt;){var vt=J[Ve];vt&&H(ne,vt,Ve,Lt)}return ne})}(function(H,ne,J,Ve){an(H,ne,J,Ve)});function ee(H){return function(){return H}}function ce(H){return H}gs.exports=V}},gs=>{gs(gs.s=768)}]);